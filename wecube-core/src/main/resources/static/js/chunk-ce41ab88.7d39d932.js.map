{"version":3,"sources":["webpack:///./src/pages/util/format.js","webpack:///./src/pages/admin/enums.vue?9e09","webpack:///./src/pages/admin/enums.vue?649c","webpack:///src/pages/admin/enums.vue","webpack:///./src/pages/admin/enums.vue?6fbd","webpack:///./src/pages/admin/enums.vue"],"names":["formatData","data","exportData","map","_","index","weTableForm","forEach","i","value","key_name","content","module","locals","exports","add","default","push","outerActions","innerActions","showCheckbox","tableData","seachFilters","tableColumns","pagination","pageSize","currentPage","total","payload","filters","pageable","startIndex","paging","sorting","asc","field","ascOptions","seletedRows","props","catId","watch","handler","this","queryData","val","getGroupList","immediate","beforeRouteLeave","$destroy","next","methods","pageChange","current","pageSizeChange","size","sortHandler","order","key","handleSubmit","setNewAddedRow","$refs","table","v","getAsyncOptions","rows","setTableData","disable","actionFun","type","exportHandler","addHandler","editHandler","saveHandler","deleteHandler","cancelHandler","rowCancelHandler","weTableRowId","setAllRowsUneditable","setCheckoutStatus","inputType","emptyRowData","inputKey","Date","getTime","unshift","$nextTick","disabled","actionType","swapRowEditable","$Modal","confirm","title","onOk","onCancel","document","querySelector","click","onSelectedRowsChange","length","checkoutBoxdisable","setActionsParams","routerFlag","created","shift","getEnumNames","getEnumsStatus","mounted","render","_vm","_h","$createElement","_c","_self","ref","attrs","on","staticRenderFns","injectStyle","context","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component"],"mappings":"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","file":"js/chunk-ce41ab88.7d39d932.js","sourcesContent":["export const formatData = data => {\n  let exportData = [];\n  exportData = data.map((_, index) => {\n    return {\n      ..._,\n      weTableForm: { ..._ }\n    };\n  });\n\n  exportData.forEach(_ => {\n    for (let i in _[\"weTableForm\"]) {\n      if (\n        typeof _[\"weTableForm\"][i] === \"object\" &&\n        _[\"weTableForm\"][i] !== null\n      ) {\n        _[\"weTableForm\"][i] = _[i].value || _[i].key_name;\n      }\n    }\n  });\n  return exportData.map(_ => _.weTableForm);\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63c9480c\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./enums.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-loader/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"4d798203\", content, true, {});","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \"\", \"\"]);\n\n// exports\n","<template>\n  <WeTable\n    :tableData=\"tableData\"\n    :tableOuterActions=\"outerActions\"\n    :tableInnerActions=\"innerActions\"\n    :tableColumns=\"tableColumns\"\n    :pagination=\"pagination\"\n    :ascOptions=\"ascOptions\"\n    :showCheckbox=\"showCheckbox\"\n    @actionFun=\"actionFun\"\n    @getSelectedRows=\"onSelectedRowsChange\"\n    @handleSubmit=\"handleSubmit\"\n    @sortHandler=\"sortHandler\"\n    @pageChange=\"pageChange\"\n    @pageSizeChange=\"pageSizeChange\"\n    @getGroupList=\"getGroupList\"\n    tableHeight=\"650\"\n    ref=\"table\"\n  ></WeTable>\n</template>\n\n<script>\nimport {\n  getAllSystemEnumCodes,\n  getSystemCategories,\n  getEffectiveStatus,\n  createEnumCode,\n  updateEnumCode,\n  getGroupListByCodeId,\n  deleteEnumCodes,\n  getAllNonSystemEnumCodes,\n  getNonSystemCategories\n} from \"@/api/server.js\";\nimport { formatData } from \"../util/format.js\";\nimport { outerActions, innerActions } from \"@/const/actions.js\";\n\nexport default {\n  data() {\n    return {\n      outerActions,\n      innerActions,\n      showCheckbox: true,\n      tableData: [],\n      seachFilters: {},\n      tableColumns: [\n        {\n          title: \"枚举名称\",\n          key: \"catName\",\n          inputKey: \"catId\",\n          searchSeqNo: 1,\n          displaySeqNo: 1,\n          component: \"WeSelect\",\n          onChange: \"getGroupList\",\n          disEditor: true, // 枚举名称不可改\n          inputType: \"select\",\n          placeholder: \"catName\",\n          options: []\n        },\n        {\n          title: \"枚举键\",\n          key: \"code\",\n          inputKey: \"code\",\n          searchSeqNo: 2,\n          displaySeqNo: 2,\n          component: \"Input\",\n          inputType: \"text\",\n          placeholder: \"code\"\n        },\n        {\n          title: \"枚举值\",\n          key: \"value\",\n          inputKey: \"value\",\n          searchSeqNo: 3,\n          displaySeqNo: 3,\n          component: \"Input\",\n          inputType: \"text\",\n          placeholder: \"value\"\n        },\n        {\n          title: \"枚举组\",\n          key: \"groupCodeId\",\n          inputKey: \"groupCodeId\",\n          searchSeqNo: 4,\n          displaySeqNo: 4,\n          component: \"WeSelect\",\n          inputType: \"select\",\n          placeholder: \"groupCodeId\",\n          optionKey: \"catId\"\n        },\n        {\n          title: \"状态\",\n          key: \"status\",\n          inputKey: \"status\",\n          searchSeqNo: 5,\n          displaySeqNo: 5,\n          component: \"WeSelect\",\n          inputType: \"select\",\n          placeholder: \"status\",\n          options: []\n        }\n      ],\n      pagination: {\n        pageSize: 10,\n        currentPage: 1,\n        total: 0\n      },\n      payload: {\n        filters: [],\n        pageable: {\n          pageSize: 10,\n          startIndex: 0\n        },\n        paging: true,\n        sorting: {\n          asc: true,\n          field: \"\"\n        }\n      },\n      ascOptions: {},\n      seletedRows: []\n    };\n  },\n  props: {\n    catId: {}\n  },\n  watch: {\n    catId: {\n      handler(val) {\n        this.queryData();\n        if (val) {\n          this.getGroupList(val);\n        }\n      },\n      immediate: true\n    }\n  },\n  beforeRouteLeave(to, from, next) {\n    this.$destroy();\n    next();\n  },\n  methods: {\n    pageChange(current) {\n      this.pagination.currentPage = current;\n      this.queryData();\n    },\n    pageSizeChange(size) {\n      this.pagination.pageSize = size;\n      this.queryData();\n    },\n    sortHandler(data) {\n      this.payload.sorting = {\n        asc: data.order === \"asc\",\n        field: data.key\n      };\n      this.queryData();\n    },\n    handleSubmit(data) {\n      this.payload.filters = data;\n      this.pagination.currentPage = 1;\n      this.queryData();\n    },\n    setNewAddedRow(index, key, v) {\n      this.$refs.table.data[index][key] = v;\n    },\n    async getGroupList(catId) {\n      if (catId) {\n        const { data, status, message } = await getGroupListByCodeId(catId);\n        let opts = [];\n        if (status === \"OK\") {\n          opts = data.map(_ => {\n            return {\n              value: _.codeId,\n              label: _.value\n            };\n          });\n        }\n        this.$set(this.ascOptions, catId, opts);\n      }\n      this.$refs.table.form.groupCodeId = \"\";\n    },\n    getAsyncOptions(rows, disable) {\n      rows.forEach(async _ => {\n        if (!this.ascOptions[_.catId] && _.catId > 0) {\n          this.getGroupList(_.catId);\n        }\n      });\n      this.$refs.table.setTableData(disable);\n    },\n    async queryData() {\n      this.payload.pageable.pageSize = this.pagination.pageSize;\n      this.payload.pageable.startIndex =\n        (this.pagination.currentPage - 1) * this.pagination.pageSize;\n      if (this.catId > -1) {\n        const found = this.payload.filters.find(_ => _.name === \"catId\");\n        if (found) {\n          found.value = this.catId;\n        } else {\n          this.payload.filters.push({\n            name: \"catId\",\n            operator: \"eq\",\n            value: this.catId\n          });\n        }\n      }\n      const { status, message, data } =\n        this.$route.name === \"baseData\"\n          ? await getAllSystemEnumCodes(this.payload)\n          : await getAllNonSystemEnumCodes(this.payload);\n      if (status === \"OK\") {\n        this.pagination.total = data.pageInfo.totalRows;\n        this.tableData = data.contents.map(_ => {\n          return {\n            ..._,\n            ..._.cat\n          };\n        });\n      }\n    },\n    async getEnumNames() {\n      const { status, message, data } =\n        this.$route.name === \"baseData\"\n          ? await getSystemCategories()\n          : await getNonSystemCategories();\n      if (status === \"OK\") {\n        this.tableColumns[0].options = data.map(_ => {\n          // this.getGroupList(_.catId);\n          return {\n            value: _.catId,\n            label: _.catName\n          };\n        });\n      }\n    },\n    async getEnumsStatus() {\n      const { status, message, data } = await getEffectiveStatus();\n      if (status === \"OK\") {\n        this.tableColumns[this.tableColumns.length - 1].options = data.map(\n          _ => {\n            return {\n              value: _,\n              label: _\n            };\n          }\n        );\n      }\n    },\n\n    actionFun(type, data) {\n      switch (type) {\n        case \"export\":\n          this.exportHandler();\n          break;\n        case \"add\":\n          this.addHandler();\n          break;\n        case \"edit\":\n          this.editHandler();\n          break;\n        case \"save\":\n          this.saveHandler(data);\n          break;\n        case \"delete\":\n          this.deleteHandler(data);\n          break;\n        case \"cancel\":\n          this.cancelHandler();\n          break;\n        case \"innerCancel\":\n          this.$refs.table.rowCancelHandler(data.weTableRowId);\n          break;\n        default:\n          break;\n      }\n    },\n    cancelHandler() {\n      this.$refs.table.setAllRowsUneditable();\n      this.$refs.table.setCheckoutStatus();\n      this.outerActions &&\n        this.outerActions.forEach(_ => {\n          _.props.disabled = !(\n            _.actionType === \"add\" ||\n            _.actionType === \"export\" ||\n            _.actionType === \"cancel\"\n          );\n        });\n    },\n    addHandler() {\n      let emptyRowData = {};\n      this.tableColumns.forEach(_ => {\n        if (_.inputType === \"multiSelect\" || _.inputType === \"multiRef\") {\n          emptyRowData[_.inputKey] = [];\n        } else {\n          emptyRowData[_.inputKey] = \"\";\n        }\n      });\n      emptyRowData[\"isRowEditable\"] = true;\n      emptyRowData[\"isNewAddedRow\"] = true;\n      emptyRowData[\"weTableRowId\"] = new Date().getTime();\n      emptyRowData[\"catId\"] = this.catId ? this.catId : \"\";\n      this.tableData.unshift(emptyRowData);\n      this.$nextTick(() => {\n        this.$refs.table.pushNewAddedRowToSelections();\n        this.$refs.table.setCheckoutStatus(true);\n      });\n      this.outerActions.forEach(_ => {\n        _.props.disabled = _.actionType === \"add\";\n      });\n    },\n    editHandler() {\n      this.$refs.table.swapRowEditable(true);\n      this.outerActions.forEach(_ => {\n        if (_.actionType === \"save\") {\n          _.props.disabled = false;\n        }\n      });\n      this.$nextTick(() => {\n        this.$refs.table.setCheckoutStatus(true);\n      });\n    },\n    deleteHandler(deleteData) {\n      this.$Modal.confirm({\n        title: \"确认删除？\",\n        \"z-index\": 1000000,\n        onOk: async () => {\n          const payload = deleteData.map(_ => _.codeId);\n          const { status, message, data } = await deleteEnumCodes(payload);\n          if (status === \"OK\") {\n            this.$Notice.success({\n              title: \"Delete Enum Success\",\n              desc: message\n            });\n            this.outerActions.forEach(_ => {\n              _.props.disabled =\n                _.actionType === \"save\" ||\n                _.actionType === \"edit\" ||\n                _.actionType === \"delete\";\n            });\n            this.queryData();\n          }\n        },\n        onCancel: () => {}\n      });\n      document.querySelector(\".ivu-modal-mask\").click();\n    },\n    async saveHandler(data) {\n      let setBtnsStatus = () => {\n        this.outerActions.forEach(_ => {\n          _.props.disabled = !(\n            _.actionType === \"add\" || _.actionType === \"export\"\n          );\n        });\n        this.$refs.table.setAllRowsUneditable();\n        this.$nextTick(() => {\n          /* to get iview original data to set _ischecked flag */\n          let objData = this.$refs.table.$refs.table.$refs.tbody.objData;\n          for (let obj in objData) {\n            objData[obj]._isChecked = false;\n            objData[obj]._isDisabled = false;\n          }\n        });\n      };\n      let d = JSON.parse(JSON.stringify(data));\n      let addObj = d.find(_ => _.isNewAddedRow);\n      let editAry = d.filter(_ => !_.isNewAddedRow);\n      if (addObj) {\n        let payload = {\n          callbackId: 1,\n          catId: addObj.catId || this.catId,\n          code: addObj.code,\n          status: addObj.status,\n          value: addObj.value,\n          groupCodeId: addObj.groupCodeId\n        };\n        const { status, message, data } = await createEnumCode(payload);\n        if (status === \"OK\") {\n          this.$Notice.success({\n            title: \"Add Enum Success\",\n            desc: message\n          });\n          setBtnsStatus();\n          this.queryData();\n        }\n      }\n      if (editAry.length > 0) {\n        let payload = editAry.map(_ => {\n          return {\n            callbackId: _.weTableRowId,\n            catId: _.catId,\n            code: _.code,\n            codeId: _.codeId,\n            groupCodeId: _.groupCodeId,\n            status: _.status,\n            value: _.value\n          };\n        });\n        const { status, message, data } = await updateEnumCode(payload);\n        if (status === \"OK\") {\n          this.$Notice.success({\n            title: \"Update Enum Success\",\n            desc: message\n          });\n          setBtnsStatus();\n          this.queryData();\n        }\n      }\n    },\n    onSelectedRowsChange(rows, checkoutBoxdisable) {\n      if (rows.length > 0) {\n        this.outerActions.forEach(_ => {\n          _.props.disabled = _.actionType === \"add\";\n        });\n      } else {\n        this.outerActions.forEach(_ => {\n          _.props.disabled = !(\n            _.actionType === \"add\" ||\n            _.actionType === \"export\" ||\n            _.actionType === \"cancel\"\n          );\n        });\n      }\n      this.seletedRows = rows;\n      this.getAsyncOptions(rows, checkoutBoxdisable);\n    },\n    async exportHandler() {\n      const { status, message, data } =\n        this.$route.name === \"baseData\"\n          ? await getAllSystemEnumCodes({ ...this.payload, paging: false })\n          : await getAllNonSystemEnumCodes({ ...this.payload, paging: false });\n\n      if (status === \"OK\") {\n        this.$refs.table.export({\n          filename:\n            this.$route.name === \"baseData\" ? \"Basic Enums Data\" : \"Enums Data\",\n          data: data.contents.map(_ => {\n            const formatValue = _.value ? _.value.replace(/,/g, \";\") : \"\";\n            return {\n              ..._,\n              value: formatValue,\n              groupCodeId: _.groupCodeId ? _.groupCodeId.value : \"\",\n              catName: _.cat.catName\n            };\n          })\n        });\n      }\n    },\n    setActionsParams() {\n      const routerFlag = this.$route.name === \"enumEnquiry\";\n      this.outerActions = routerFlag ? null : outerActions;\n      this.innerActions = routerFlag ? null : innerActions;\n      this.showCheckbox = routerFlag ? false : true;\n    }\n  },\n  created() {\n    if (this.catId) {\n      this.tableColumns.shift();\n    } else {\n      this.setActionsParams();\n      this.getEnumNames();\n    }\n    this.queryData();\n    this.getEnumsStatus();\n  },\n  mounted() {\n    this.cancelHandler();\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped></style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('WeTable',{ref:\"table\",attrs:{\"tableData\":_vm.tableData,\"tableOuterActions\":_vm.outerActions,\"tableInnerActions\":_vm.innerActions,\"tableColumns\":_vm.tableColumns,\"pagination\":_vm.pagination,\"ascOptions\":_vm.ascOptions,\"showCheckbox\":_vm.showCheckbox,\"tableHeight\":\"650\"},on:{\"actionFun\":_vm.actionFun,\"getSelectedRows\":_vm.onSelectedRowsChange,\"handleSubmit\":_vm.handleSubmit,\"sortHandler\":_vm.sortHandler,\"pageChange\":_vm.pageChange,\"pageSizeChange\":_vm.pageSizeChange,\"getGroupList\":_vm.getGroupList}})}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","function injectStyle (context) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-63c9480c\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./enums.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./enums.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./enums.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-63c9480c\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./enums.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-63c9480c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n"],"sourceRoot":""}