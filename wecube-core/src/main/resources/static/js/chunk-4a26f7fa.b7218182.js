(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4a26f7fa"],{"0271":function(t,e,n){var a=n("f732");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("2fb2").default;i("7d56c080",a,!0,{})},"1c4c":function(t,e,n){"use strict";var a=n("9b43"),i=n("5ca1"),r=n("4bf8"),s=n("1fa8"),o=n("33a4"),c=n("9def"),u=n("f1ae"),l=n("27ee");i(i.S+i.F*!n("5cc5")(function(t){Array.from(t)}),"Array",{from:function(t){var e,n,i,p,h=r(t),d="function"==typeof this?this:Array,g=arguments.length,f=g>1?arguments[1]:void 0,m=void 0!==f,v=0,y=l(h);if(m&&(f=a(f,g>2?arguments[2]:void 0,2)),void 0==y||d==Array&&o(y))for(e=c(h.length),n=new d(e);e>v;v++)u(n,v,m?f(h[v],v):h[v]);else for(p=y.call(h),n=new d;!(i=p.next()).done;v++)u(n,v,m?s(p,f,[i.value,v],!0):i.value);return n.length=v,n}})},"1e21":function(t,e,n){"use strict";n.r(e);n("8e6e"),n("456d"),n("28a5"),n("7f7f"),n("5df3"),n("1c4c");var a=n("bd86"),i=(n("ac6a"),n("7514"),n("96cf"),n("3b8d")),r=n("aa22"),s=(n("f400"),n("fd32")),o=(n("6d21"),void 0);function c(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function u(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?c(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):c(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var l={name:"data-model",data:function(){return{data:[],dataModel:{},graph:{}}},watch:{pkgId:{handler:function(){o.dataModel={},o.getData(!1)}}},props:{pkgId:{required:!0}},created:function(){this.getData(!1)},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!this.dataModel.dynamic){t.next=6;break}return t.next=3,Object(r["R"])(this.pkgId);case 3:t.t0=t.sent,t.next=9;break;case 6:return t.next=8,Object(r["C"])(this.pkgId);case 8:t.t0=t.sent;case 9:n=t.t0,a=n.status,i=n.data,n.message,"OK"===a&&(this.dataModel=i,this.data=i.pluginPackageEntities.map(function(t){return u({},t,{id:"["+t.packageName+"]"+t.name,tos:t.referenceToEntityList.map(function(t){return u({},t,{id:"["+t.packageName+"]"+t.name})}),bys:t.referenceByEntityList.map(function(t){return u({},t,{id:"["+t.packageName+"]"+t.name})})})}),console.log(11,this.data),this.initGraph());case 14:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),applyNewDataModel:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["a"])(this.dataModel);case 2:e=t.sent,n=e.status,e.data,e.message,"OK"===n&&this.$Notice.success({title:"Success",desc:"Data model apply successfully"});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),genDOT:function(){var t=this,e=["digraph  {",'bgcolor="transparent";','Node [fontname=Arial,shape="none",width="0.7", height="0.8", color="#273c75"];','Edge [fontname=Arial, minlen="1", color="#000", fontsize=10];'],n=function(t,e){return'"'.concat(t.id,'" -> "').concat(e.id,'"[edgetooltip="').concat(e.id,'"];')},a=function(t){var e="#273c75";return'"'.concat(t.id,'" [fixedsize=false id="').concat(t.id,'" label="').concat(t.id+"_v"+t.dataModelVersion,'" shape="box" fontcolor="').concat(e,'"];')},i=new Map;return this.data.forEach(function(r){e.push(a(r)),r.tos.length&&r.tos.forEach(function(a){var s=t.data.find(function(t){return a.id===t.id});if(s){var o=n(r,s);i.has(o)||(e.push(o),i.set(o,!0))}}),r.bys.length&&r.bys.forEach(function(a){var s=t.data.find(function(t){return a.id===t.id});if(s){var o=n(s,r);i.has(o)||(e.push(o),i.set(o,!0))}})}),e.push("}"),e.join("")},renderGraph:function(){var t=this.genDOT();console.log("nodesString",t),this.graph.graphviz.renderDot(t)},initGraph:function(){var t=this,e=function(){var e;e=s["select"]("#data-model-graph"),e.on("dblclick.zoom",null),t.graph.graphviz=e.graphviz().zoom(!0).scale(.8)};e(),this.renderGraph()}}},p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.dataModel.dynamic?n("div",{staticStyle:{"padding-left":"3px","margin-bottom":"10px"}},[n("Button",{attrs:{size:"small",shape:"circle",type:"primary",icon:"md-sync"},on:{click:function(e){return t.getData(!0)}}},[t._v(t._s(t.$t("get_dynamic_model")))]),t._v(" "),n("Button",{attrs:{size:"small",shape:"circle",type:"primary",icon:"md-hammer"},on:{click:t.applyNewDataModel}},[t._v(t._s(t.$t("apply_data_model")))])],1):t._e(),t._v(" "),n("div",{staticClass:"graph-container",attrs:{id:"data-model-graph"}})])},h=[],d=n("2455"),g=!1,f=null,m=null,v=null,y=Object(d["a"])(l,p,h,g,f,m,v),b=y.exports,_=(n("c5f6"),void 0);function w(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function P(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?w(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):w(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var k={name:"dependency-analysis",data:function(){return{data:[],graph:{}}},watch:{pkgId:{handler:function(){_.getData()}}},props:{pkgId:{required:!0,type:Number}},created:function(){this.getData()},methods:{formatData:function(t){var e=this,n=[t];n.forEach(function(t){var n=t.dependencies.map(function(t){return t.dependencies&&(e.data.push(P({},t,{id:t.packageName,tos:t.dependencies.map(function(t){return P({},t,{id:t.packageName})}),bys:[]})),t.dependencies.forEach(function(t){e.data.push(P({},t,{id:t.packageName,tos:[],bys:[]}))})),P({},t,{id:t.packageName})});e.data.push(P({},t,{id:t.packageName,tos:n,bys:[]}))})},getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["D"])(this.pkgId);case 2:e=t.sent,n=e.status,a=e.data,e.message,"OK"===n&&(this.formatData(a),this.initGraph());case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),genDOT:function(){var t=this,e=["digraph  {",'bgcolor="transparent";','Node [fontname=Arial,shape="none",width="0.8", height="0.8", color="#273c75" ,fontsize=10];','Edge [fontname=Arial, minlen="1", color="#000", fontsize=10];'],n=function(t,e){return'"'.concat(t.id,'" -> "').concat(e.id,'"[edgetooltip="').concat(e.id,'"];')},a=function(t){var e="active"===t.status?"#19be6b":"#c5c8ce";return'"'.concat(t.id,'" [id="').concat(t.id,'" label="').concat(t.id+"_"+t.version,'" shape="ellipse" color="').concat(e,'" style="filled"];')},i=new Map;return this.data.forEach(function(r){e.push(a(r)),r.tos.length&&r.tos.forEach(function(a){var s=t.data.find(function(t){return a.id===t.id});if(s){var o=n(r,s);i.has(o)||(e.push(o),i.set(o,!0))}}),r.bys.length&&r.bys.forEach(function(a){var s=t.data.find(function(t){return a.id===t.id});if(s){var o=n(s,r);i.has(o)||(e.push(o),i.set(o,!0))}})}),e.push("}"),e.join("")},renderGraph:function(){var t=this.genDOT();this.graph.graphviz.renderDot(t)},initGraph:function(){var t=this,e=function(){var e;e=s["select"]("#dependency-analysis-graph"),e.on("dblclick.zoom",null),t.graph.graphviz=e.graphviz().zoom(!1)};e(),this.renderGraph()}}},x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"graph-container",attrs:{id:"dependency-analysis-graph"}})},O=[],S=!1,E=null,T=null,j=null,D=Object(d["a"])(k,x,O,S,E,T,j),I=D.exports,C=n("75fc"),N=n("8424"),R={data:function(){return{allDataModelsWithAttrs:{},currentPlugin:"",plugins:[],allEntityType:[],selectedEntityType:"",form:{},allSystemVariables:[]}},components:{PathExp:N["a"]},computed:{currentPluginObj:function(){var t=this,e=this.plugins.find(function(e){return e.name===t.currentPlugin});return e||{}},currentEntityAttr:function(){var t,e=this,n=(t=[]).concat.apply(t,Object(C["a"])(this.allEntityType.map(function(t){return t.pluginPackageEntities}))),a=n.find(function(t){return t.name===e.selectedEntityType});return a?a.attributes:[]}},props:{pkgId:{required:!0},pkgName:{required:!0}},watch:{},methods:{retrieveSystemVariables:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["eb"])({filters:[],paging:!1});case 2:e=t.sent,n=e.data,a=e.status,e.message,"OK"===a&&(this.allSystemVariables=n.contents);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),pluginSave:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i,s,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.currentPluginObj.entityName=this.selectedEntityType,n=(e=[]).concat.apply(e,Object(C["a"])(this.allEntityType.map(function(t){return t.pluginPackageEntities}))),a=n.find(function(t){return t.name===c.selectedEntityType}).id,this.currentPluginObj.entityId=a,t.next=6,Object(r["ib"])(this.currentPluginObj);case 6:i=t.sent,i.data,s=i.status,o=i.message,"OK"===s&&(this.$Notice.success({title:"Success",desc:o}),this.getAllPluginByPkgId());case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),regist:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["ib"])(this.currentPluginObj);case 2:if(e=t.sent,"OK"!==e.status){t.next=11;break}return t.next=6,Object(r["Z"])(this.currentPluginObj.id);case 6:n=t.sent,n.data,a=n.status,i=n.message,"OK"===a&&(this.$Notice.success({title:"Success",desc:i}),this.getAllPluginByPkgId());case 11:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),removePlugin:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["f"])(this.currentPluginObj.id);case 2:e=t.sent,e.data,n=e.status,a=e.message,"OK"===n&&(this.$Notice.success({title:"Success",desc:a}),this.getAllPluginByPkgId());case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getAllPluginByPkgId:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["l"])(this.pkgId);case 2:e=t.sent,n=e.data,a=e.status,e.message,"OK"===a&&(this.plugins=n);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),selectPlugin:function(t){this.currentPlugin=t,this.selectedEntityType=this.plugins.find(function(e){return e.name===t}).entityId,this.selectedEntityType=this.currentPluginObj.entityName},onSelectEntityType:function(t){},getAllDataModels:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["j"])();case 2:e=t.sent,n=e.data,a=e.status,e.message,"OK"===a&&(this.allEntityType=n);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getAllPluginByPkgId(),this.getAllDataModels(),this.retrieveSystemVariables(),this.selectedEntityType=this.currentPluginObj.entityName}},$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Row",[n("Col",{attrs:{span:"6"}},[t.plugins.length<1?n("div",[t._v(t._s(t.$t("no_plugin")))]):t._e(),t._v(" "),n("Menu",{staticStyle:{width:"100%"},attrs:{theme:"light","active-name":t.currentPlugin},on:{"on-select":t.selectPlugin}},t._l(t.plugins,function(e,a){return n("MenuItem",{key:a,staticStyle:{padding:"10px 5px"},attrs:{name:e.name}},[n("Icon",{attrs:{type:"md-flower"}}),t._v("\n        "+t._s(e.name)+"\n      ")],1)}),1)],1),t._v(" "),n("Col",{staticStyle:{"padding-left":"10px"},attrs:{span:"18",offset:"0"}},[t.currentPlugin.length>0?n("Form",{attrs:{model:t.form}},[n("Row",[n("Col",{attrs:{span:"10",offset:"0"}},[n("FormItem",{attrs:{"label-width":100,label:t.$t("target_type")}},[n("Select",{attrs:{disabled:"ENABLED"===t.currentPluginObj.status},on:{"on-change":t.onSelectEntityType},model:{value:t.selectedEntityType,callback:function(e){t.selectedEntityType=e},expression:"selectedEntityType"}},t._l(t.allEntityType,function(e,a){return n("OptionGroup",{key:a,attrs:{label:e.packageName}},t._l(e.pluginPackageEntities,function(t){return n("Option",{key:t.name,attrs:{value:t.name,label:t.name}})}),1)}),1)],1)],1)],1),t._v(" "),n("hr"),t._v(" "),n("Row",{staticStyle:{"margin-bottom":"10px","margin-top":"10px"}},[n("Col",{attrs:{span:"3"}},[n("strong",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("operation")))])]),t._v(" "),n("Col",{attrs:{span:"3"}},[n("strong",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("params_type")))])]),t._v(" "),n("Col",{attrs:{span:"3",offset:"0"}},[n("strong",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("params_name")))])]),t._v(" "),n("Col",{attrs:{span:"6",offset:"1"}},[n("strong",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("attribute")))])]),t._v(" "),n("Col",{attrs:{span:"3",offset:"4"}},[n("strong",{staticStyle:{"font-size":"15px"}},[t._v(t._s(t.$t("attribute_type")))])])],1),t._v(" "),t._l(t.currentPluginObj.interfaces,function(e,a){return n("Row",{key:a,staticStyle:{"margin-top":"20px","border-bottom":"1px solid #2c3e50"}},[n("Col",{attrs:{span:"3"}},[n("FormItem",{attrs:{"label-width":0}},[n("span",[t._v(t._s(e.action))])])],1),t._v(" "),n("Col",{attrs:{span:"21"}},[n("Row",[n("Col",{attrs:{span:"3"}},[n("FormItem",{attrs:{"label-width":0}},[n("span",[t._v(t._s(t.$t("input_params")))])])],1),t._v(" "),n("Col",{attrs:{span:"21",offset:"0"}},t._l(e["inputParameters"],function(e){return n("Row",{key:e.id},[n("Col",{attrs:{span:"4"}},[n("FormItem",{attrs:{"label-width":0}},[n("Tooltip",{attrs:{content:e.name}},[n("span",{staticStyle:{display:"inline-block","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                        "+t._s(e.name)+"\n                      ")])])],1)],1),t._v(" "),n("Col",{attrs:{span:"13",offset:"1"}},[n("FormItem",{attrs:{"label-width":0}},["entity"===e.mappingType?n("PathExp",{attrs:{rootPkg:t.pkgName,rootEntity:t.selectedEntityType,allDataModelsWithAttrs:t.allEntityType,disabled:"ENABLED"===t.currentPluginObj.status},model:{value:e.mappingEntityExpression,callback:function(n){t.$set(e,"mappingEntityExpression",n)},expression:"param.mappingEntityExpression"}}):t._e(),t._v(" "),"system_variable"===e.mappingType?n("Select",{attrs:{disabled:"ENABLED"===t.currentPluginObj.status},model:{value:e.mappingSystemVariableId,callback:function(n){t.$set(e,"mappingSystemVariableId",n)},expression:"param.mappingSystemVariableId"}},t._l(t.allSystemVariables,function(e){return n("Option",{key:e.id,attrs:{value:e.id}},[t._v(t._s(e.name))])}),1):t._e(),t._v(" "),"context"===e.mappingType?n("span",[t._v("N/A")]):t._e()],1)],1),t._v(" "),n("Col",{attrs:{span:"4",offset:"1"}},[n("FormItem",{attrs:{"label-width":0}},[n("Select",{attrs:{disabled:"ENABLED"===t.currentPluginObj.status},model:{value:e.mappingType,callback:function(n){t.$set(e,"mappingType",n)},expression:"param.mappingType"}},[n("Option",{key:"context",attrs:{value:"context"}},[t._v("context")]),t._v(" "),n("Option",{key:"system_variable",attrs:{value:"system_variable"}},[t._v("system_variable")]),t._v(" "),n("Option",{key:"entity",attrs:{value:"entity"}},[t._v("entity")])],1)],1)],1)],1)}),1)],1),t._v(" "),n("Row",[n("Col",{attrs:{span:"3"}},[n("FormItem",{attrs:{"label-width":0}},[n("span",[t._v(t._s(t.$t("output_params")))])])],1),t._v(" "),n("Col",{attrs:{span:"20",offset:"0"}},t._l(e["outputParameters"],function(e){return n("Row",{key:e.id+1e3},[n("Col",{attrs:{span:"4"}},[n("FormItem",{attrs:{"label-width":0}},[n("Tooltip",{attrs:{content:e.name}},[n("span",{staticStyle:{display:"inline-block","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n                        "+t._s(e.name)+"\n                      ")])])],1)],1),t._v(" "),n("Col",{attrs:{span:"14",offset:"1"}},[n("FormItem",{attrs:{"label-width":0}},["entity"===e.mappingType?n("Select",{attrs:{disabled:"ENABLED"===t.currentPluginObj.status},model:{value:e.mappingEntityExpression,callback:function(n){t.$set(e,"mappingEntityExpression",n)},expression:"outPut.mappingEntityExpression"}},t._l(t.currentEntityAttr,function(t){return n("Option",{key:t.name,attrs:{value:t.name,label:t.name}})}),1):t._e(),t._v(" "),"context"===e.mappingType?n("span",[t._v("N/A")]):t._e()],1)],1),t._v(" "),n("Col",{attrs:{span:"4",offset:"1"}},[n("FormItem",{attrs:{"label-width":0}},[n("Select",{attrs:{disabled:"ENABLED"===t.currentPluginObj.status},model:{value:e.mappingType,callback:function(n){t.$set(e,"mappingType",n)},expression:"outPut.mappingType"}},[n("Option",{key:"context",attrs:{value:"context"}},[t._v("context")]),t._v(" "),n("Option",{key:"entity",attrs:{value:"entity"}},[t._v("entity")])],1)],1)],1)],1)}),1)],1)],1)],1)}),t._v(" "),n("Row",{staticStyle:{margin:"20px auto"}},[n("Col",{attrs:{span:"5",offset:"10"}},["DISABLED"===t.currentPluginObj.status?n("Button",{attrs:{type:"primary"},on:{click:t.pluginSave}},[t._v(t._s(t.$t("save")))]):t._e(),t._v(" "),"DISABLED"===t.currentPluginObj.status?n("Button",{attrs:{type:"primary"},on:{click:t.regist}},[t._v(t._s(t.$t("regist")))]):t._e(),t._v(" "),"ENABLED"===t.currentPluginObj.status?n("Button",{attrs:{type:"error"},on:{click:t.removePlugin}},[t._v(t._s(t.$t("decommission")))]):t._e()],1)],1)],2):t._e()],1)],1)},A=[];function z(t){n("e258")}var B=!1,L=z,M=null,H=null,K=Object(d["a"])(R,$,A,B,L,M,H),F=K.exports,V=n("2ce2"),q=void 0,G={name:"menu-injection",data:function(){return{menus:[]}},watch:{pkgId:{handler:function(){q.getData()}}},props:{pkgId:{required:!0,type:Number}},created:function(){this.getData()},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["y"])(this.pkgId);case 2:e=t.sent,n=e.status,a=e.data,e.message,"OK"===n&&(i=[],a.forEach(function(t,e){if(!t.category&&"COLLABORATION"!==t.code&&"ADMIN"!==t.code){var n=V["a"].find(function(e){return e.code===t.code});i.push({id:t.id,code:t.code,displayName:"zh-CN"===s.$lang?n.cnName:n.enName,children:[]})}}),this.menus=i.map(function(t){return a.forEach(function(e){if(e.category===""+t.id){if("system"===e.menuType){var n=V["a"].find(function(t){return t.code===e.code});n&&(e.displayName="zh-CN"===s.$lang?n.cnName:n.enName)}t.children.push(e)}}),t}));case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",t._l(t.menus,function(e,a){return n("Col",{key:e.id,attrs:{span:"4"}},[n("List",{attrs:{size:"small"}},[n("h6",{attrs:{slot:"header"},slot:"header"},[t._v(t._s(e.displayName))]),t._v(" "),t._l(e.children,function(e,a){return n("ListItem",{key:a,staticStyle:{"padding-right":"10px"}},[n("Tooltip",{staticStyle:{width:"100%"},attrs:{content:e.displayName,placement:"bottom"}},["package"===e.menuType?n("p",{staticStyle:{color:"green",width:"100%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n            "+t._s(e.displayName)+"\n          ")]):n("p",{staticStyle:{width:"100%","white-space":"nowrap",overflow:"hidden","text-overflow":"ellipsis"}},[t._v("\n            "+t._s(e.displayName)+"\n          ")])])],1)})],2)],1)}),1)},Q=[],U=!1,X=null,Y=null,J=null,Z=Object(d["a"])(G,W,Q,U,X,Y,J),tt=Z.exports,et=void 0,nt={name:"sys-params",data:function(){return{tableData:[],tableColumns:[{title:"归属",key:"scopeType"},{title:"参数名称",key:"name"},{title:"参数值",key:"value"},{title:"说明",key:"description"},{title:"状态",key:"status"}]}},watch:{pkgId:{handler:function(){et.getData()}}},props:{pkgId:{required:!0,type:Number}},created:function(){this.getData()},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["N"])(this.pkgId);case 2:e=t.sent,n=e.status,a=e.data,e.message,"OK"===n&&(this.tableData=a);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Table",{attrs:{columns:t.tableColumns,data:t.tableData}})],1)},it=[],rt=!1,st=null,ot=null,ct=null,ut=Object(d["a"])(nt,at,it,rt,st,ot,ct),lt=ut.exports,pt=void 0,ht={name:"runtime-resources",data:function(){return{data:{}}},watch:{pkgId:{handler:function(){pt.getData()}}},props:{pkgId:{required:!0,type:Number}},created:function(){this.getData()},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["M"])(this.pkgId);case 2:e=t.sent,n=e.status,a=e.data,e.message,"OK"===n&&(this.data=a);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},dt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Collapse",{attrs:{value:[1,2,3]}},[n("Panel",{attrs:{name:"1"}},[n("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.$t("runtime_container")))]),t._v(" "),t._l(t.data.docker,function(e,a){return n("p",{key:a,attrs:{slot:"content"},slot:"content"},[n("highlight-code",{attrs:{lang:"json"}},[t._v(t._s(e))])],1)})],2),t._v(" "),n("Panel",{attrs:{name:"2"}},[n("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.$t("database")))]),t._v(" "),t._l(t.data.mysql,function(e,a){return n("p",{key:a,attrs:{slot:"content"},slot:"content"},[n("highlight-code",{attrs:{lang:"json"}},[t._v(t._s(e))])],1)})],2),t._v(" "),n("Panel",{attrs:{name:"3"}},[n("span",{staticStyle:{"font-size":"12px"}},[t._v(t._s(t.$t("storage_service")))]),t._v(" "),t._l(t.data.s3,function(e,a){return n("p",{key:a,attrs:{slot:"content"},slot:"content"},[n("highlight-code",{attrs:{lang:"json"}},[t._v(t._s(e))])],1)})],2)],1)],1)},gt=[],ft=!1,mt=null,vt=null,yt=null,bt=Object(d["a"])(ht,dt,gt,ft,mt,vt,yt),_t=bt.exports,wt=(n("6b54"),n("a481"),n("4f7f"),void 0),Pt={name:"auth-setting",data:function(){return{data:[],graph:{}}},watch:{pkgId:{handler:function(){wt.getData()}}},props:{pkgId:{required:!0,type:Number}},created:function(){this.getData()},methods:{getData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i,s,o,c;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["o"])(this.pkgId);case 2:e=t.sent,n=e.status,a=e.data,e.message,"OK"===n&&(i=[],s=[],i=a.map(function(t){return t.roleName}),s=a.map(function(t){return t.menuCode}),o=Array.from(new Set(i)),c=Array.from(new Set(s)),this.data={roles:o,menus:c,path:a},this.initGraph());case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),renderGraph:function(){var t=this,e=function(){var e=t.data.path.map(function(t){return t.roleName+" -> "+t.menuCode});return e.toString().replace(/,/g,";")},n="digraph G { rankdir = LR;\n                          subgraph cluster_0 {\n                            rankdir = TB;\n                            color=lightgrey;\n                            node [shape=box,fontname=Arial, style=filled,color=lightgrey];"+this.data.roles.toString().replace(/,/g," ")+';\n                            label = "Roles";\n                          }\n                          subgraph cluster_1 {\n                            color=lightgrey;\n                            node [shape=box,fontname=Arial, style=filled,color=lightgrey];'+this.data.menus.toString().replace(/,/g," ")+';\n                            label = "Menus";\n                          }'+e()+"}";this.graph.graphviz.renderDot(n)},initGraph:function(){var t=this,e=function(){var e;e=s["select"]("#auth-setting-graph"),e.on("dblclick.zoom",null),t.graph.graphviz=e.graphviz().zoom(!1).scale(.8)};e(),this.renderGraph()}}},kt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.data.length>0?n("div",{staticClass:"graph-container",attrs:{id:"auth-setting-graph"}}):n("span",[t._v(t._s(t.$t("no_auth_provided")))])},xt=[],Ot=!1,St=null,Et=null,Tt=null,jt=Object(d["a"])(Pt,kt,xt,Ot,St,Et,Tt),Dt=jt.exports;function It(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,a)}return n}function Ct(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?It(n,!0).forEach(function(e){Object(a["a"])(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):It(n).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}var Nt={pageSize:10,currentPage:1,total:0},Rt={pageSize:5,currentPage:1,total:0},$t={components:{DataModel:b,DependencyAnalysis:I,PluginRegister:F,MenuInjection:tt,SysParmas:lt,RuntimesResources:_t,AuthSettings:Dt},data:function(){return{isLoading:!1,plugins:[],isShowConfigPanel:!1,isShowServicePanel:!1,isShowRuntimeManagementPanel:!1,currentTab:"dependency",currentPlugin:{},logTableData:[],totalLogTableData:[],innerActions:[{label:this.$t("show_details"),props:{type:"info",size:"small"},actionType:"showLogDetails"}],logTableColumns:[{title:this.$t("instance"),key:"instance",inputKey:"instance",searchSeqNo:1,displaySeqNo:1,component:"WeSelect",isMultiple:!0,placeholder:this.$t("instance"),span:5,width:"200px",options:[]},{title:this.$t("file_name"),key:"file_name",inputKey:"file_name",searchSeqNo:2,displaySeqNo:2,component:"Input",isNotFilterable:!0,placeholder:this.$t("file_name"),width:"200px"},{title:this.$t("line_number"),key:"line_number",inputKey:"line_number",searchSeqNo:3,displaySeqNo:3,component:"Input",isNotFilterable:!0,placeholder:this.$t("line_number"),width:"150px"},{title:this.$t("match_text"),key:"log",inputKey:"log",searchSeqNo:4,displaySeqNo:4,component:"Input",placeholder:this.$t("match_text")}],logTablePagination:Nt,dbTablePagination:Rt,allAvailiableHosts:[],allInstances:[],searchFilters:[],logDetailsModalVisible:!1,logDetails:"",dbQueryCommandString:"",dbQueryColumns:[],dbQueryData:[],storageServiceColumns:[{title:this.$t("file_name"),key:"file"},{title:this.$t("path"),key:"path"},{title:"hash",key:"hash"},{title:this.$t("upload_time"),key:"uploadTime"}],storageServiceData:[],defaultCreateParams:"",selectHosts:[],availiableHostsWithPort:[],isShowDecomissionedPackage:!1}},methods:{onSuccess:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,n,a){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:"OK"===e.status?(this.$Notice.success({title:"Success",desc:e.message||""}),this.getAllPluginPkgs()):this.$Notice.warning({title:"Warning",desc:e.message||""});case 1:case"end":return t.stop()}},t,this)}));function e(e,n,a){return t.apply(this,arguments)}return e}(),onError:function(t,e,n){this.$Notice.error({title:"Error",desc:e.message||""})},swapPanel:function(t){this.isShowServicePanel="servicePanel"===t,this.isShowConfigPanel="pluginConfigPanel"===t,this.isShowRuntimeManagementPanel="runtimeManagePanel"===t},createPluginInstanceByPackageIdAndHostIp:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e,n){var a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.$Notice.info({title:"Info",desc:"Start Launching... It will take sometime."}),this.isLoading=!0,t.next=4,Object(r["c"])(this.currentPlugin.id,e,n);case 4:a=t.sent,a.data,i=a.status,a.message,this.isLoading=!1,"OK"===i&&(this.$Notice.success({title:"Success",desc:"Instance launched successfully"}),this.getAvailableInstancesByPackageId(this.currentPlugin.id));case 10:case"end":return t.stop()}},t,this)}));function e(e,n){return t.apply(this,arguments)}return e}(),registPackage:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["Y"])(this.currentPlugin.id);case 2:e=t.sent,n=e.status,e.data,e.message,"OK"===n&&this.$Notice.success({title:"Success",desc:this.$t("reload_to_get_ui")});case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),deletePlugin:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["g"])(e);case 2:n=t.sent,a=n.status,n.data,i=n.message,"OK"===a&&(this.$Notice.success({title:"Success",desc:i||""}),this.getAllPluginPkgs(),this.swapPanel(""));case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),configPlugin:function(t){this.swapPanel("pluginConfigPanel"),this.currentPlugin=this.plugins.find(function(e){return e.id===t}),this.selectedCiType=this.currentPlugin.cmdbCiTypeId||""},manageService:function(t){this.swapPanel("servicePanel"),this.currentPlugin=this.plugins.find(function(e){return e.id===t}),this.selectedCiType=this.currentPlugin.cmdbCiTypeId||""},manageRuntimePlugin:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:this.swapPanel("runtimeManagePanel"),n=this.plugins.find(function(t){return t.id===e}),this.selectedCiType=n.cmdbCiTypeId||"",this.currentPlugin=n,n.pluginConfigs&&(this.selectHosts=[],this.availiableHostsWithPort=[],this.getAvailableInstancesByPackageId(this.currentPlugin.id)),this.getAvailableContainerHosts(),this.resetLogTable();case 7:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),onRuntimeCollapseChange:function(t){var e=!!t.find(function(t){return"3"===t});e&&this.getStorageTableData()},getStorageTableData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["X"])(this.currentPlugin.id);case 2:e=t.sent,n=e.status,a=e.data,e.message,"OK"===n&&(this.storageServiceData=a.map(function(t){return{file:t[0],path:t[1],hash:t[2],uploadTime:t[3]}}));case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getDBTableData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e={sqlQuery:this.dbQueryCommandString,pageable:{pageSize:this.dbTablePagination.pageSize,startIndex:this.dbTablePagination.pageSize*(this.dbTablePagination.currentPage-1)}},t.next=3,Object(r["T"])(this.currentPlugin.id,e);case 3:n=t.sent,a=n.status,i=n.data,n.message,"OK"===a&&(this.dbTablePagination.total=i.pageInfo.totalRows,this.dbQueryColumns=i.headers.map(function(t){return{key:t,title:t}}),this.dbQueryData=i.contents.map(function(t){var e={};return t.forEach(function(t,n){e[s.dbQueryColumns[n].key]=t}),e}));case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onDBTablePageChange:function(t){this.dbTablePagination.currentPage=t,this.getDBTableData()},onDBTablePageSizeChange:function(t){this.dbTablePagination.pageSize=t,this.getDBTableData()},pluginPackageChangeHandler:function(t){this.swapPanel(""),this.dbQueryCommandString=""},removePluginInstance:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,Object(r["ab"])(e);case 3:n=t.sent,n.data,a=n.status,i=n.message,"OK"===a&&this.$Notice.success({title:"Success",desc:i}),this.getAvailableInstancesByPackageId(this.currentPlugin.id);case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getAvailableInstancesByPackageId:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(e){var n,a,i;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.next=3,Object(r["q"])(e);case 3:n=t.sent,a=n.data,i=n.status,n.message,"OK"===i&&(this.allInstances=a.map(function(t){if("REMOVED"!==t.status)return{id:t.id,hostIp:t.host,port:t.port,displayLabel:t.host+":"+t.port}})),this.isLoading=!1;case 9:case"end":return t.stop()}},t,this)}));function e(e){return t.apply(this,arguments)}return e}(),getAvailableContainerHosts:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["p"])();case 2:e=t.sent,n=e.data,a=e.status,e.message,"OK"===a&&(this.allAvailiableHosts=n);case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getAvailablePortByHostIp:function(){var t=this;this.availiableHostsWithPort=[],this.selectHosts.forEach(function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(n){var a,i,s;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(r["r"])(n);case 2:a=e.sent,i=a.data,s=a.status,a.message,"OK"===s&&t.availiableHostsWithPort.push({ip:n,port:i,createParams:t.defaultCreateParams});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},handleLogTableSubmit:function(t){this.searchFilters=t,this.getLogTableData()},getLogTableData:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a,i,s,o,c=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(!(this.searchFilters.length<2)){t.next=2;break}return t.abrupt("return");case 2:return e={instanceIds:this.searchFilters[0].value,pluginRequest:{inputs:[{key_word:this.searchFilters[1].value}]}},t.next=5,Object(r["U"])(e);case 5:if(n=t.sent,a=n.status,i=n.data,n.message,"OK"===a){for(o in s=function(t){var e=[];c.totalLogTableData=e.concat(i[t].outputs.map(function(e){return Ct({instance:c.allInstances.find(function(e){return e.id===+t}).displayLabel,instanceId:t},e)}))},i)s(o);this.handleLogTablePagination()}case 10:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),onLogTableChange:function(t){this.logTablePagination.currentPage=t,this.handleLogTablePagination()},onLogTablePageSizeChange:function(t){this.logTablePagination.pageSize=t,this.handleLogTablePagination()},handleLogTablePagination:function(){this.logTablePagination.total=this.totalLogTableData.length;var t=Array.from(this.totalLogTableData);this.logTableData=t.splice((this.logTablePagination.currentPage-1)*this.logTablePagination.pageSize,this.logTablePagination.pageSize)},actionFun:function(t,e){"showLogDetails"===t&&this.getLogDetail(e)},resetLogTable:function(){this.logTableData=[],this.totalLogTableData=[],this.$refs.table&&this.$refs.table.reset()},selectHost:function(t){this.selectHosts=t},handleTabClick:function(t){this.currentTab=t},getAllPluginPkgs:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,n,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(r["n"])();case 2:e=t.sent,n=e.status,a=e.data,e.message,"OK"===n&&(this.plugins=a.map(function(t){return Ct({},t,{title:"".concat(t.name,"[").concat(t.version,"]"),id:t.id,expand:!1,checked:!1,children:t.pluginConfigs.map(function(t){return Ct({},t,{title:t.name,id:t.id,expand:!0,checked:!1})})})}));case 7:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()},created:function(){this.getAllPluginPkgs()},computed:{setUploadActionHeader:function(){var t=document.cookie.split(";").find(function(t){return-1!==t.indexOf("XSRF-TOKEN")});return{"X-XSRF-TOKEN":t&&t.split("=")[1]}}}},At=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("Row",{staticStyle:{padding:"20px"}},[n("Col",{attrs:{span:"6"}},[n("Row",[n("Card",{attrs:{"dis-hover":""}},[n("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(t.$t("upload_plugin_pkg_title")))]),t._v(" "),n("Upload",{attrs:{"show-upload-list":"",accept:".zip",name:"zip-file","on-success":t.onSuccess,"on-error":t.onError,action:"platform/v1/packages",headers:t.setUploadActionHeader}},[n("Button",{attrs:{icon:"ios-cloud-upload-outline"}},[t._v(t._s(t.$t("upload_plugin_btn")))])],1)],1)],1),t._v(" "),n("Row",{staticClass:"plugins-tree-container",staticStyle:{"margin-top":"20px"}},[n("Card",{attrs:{"dis-hover":""}},[n("Row",{attrs:{slot:"title"},slot:"title"},[n("Col",{attrs:{span:"12"}},[t._v(t._s(t.$t("plugins_list")))]),t._v(" "),n("Col",{staticStyle:{float:"right"}},[n("Checkbox",{staticStyle:{width:"max-content"},model:{value:t.isShowDecomissionedPackage,callback:function(e){t.isShowDecomissionedPackage=e},expression:"isShowDecomissionedPackage"}},[t._v(t._s(t.$t("is_show_decomissioned_pkg")))])],1)],1),t._v(" "),n("div",{staticStyle:{height:"70%",overflow:"auto"}},[t.plugins.length<1?n("span",[t._v(t._s(t.$t("no_plugin_packages")))]):n("Collapse",{attrs:{accordion:""},on:{"on-change":t.pluginPackageChangeHandler}},t._l(t.plugins,function(e){return"DECOMMISSIONED"!==e.status||t.isShowDecomissionedPackage?n("Panel",{key:e.id,attrs:{name:e.id+""}},[n("span",{class:"DECOMMISSIONED"!==e.status?"nonDecomissionedPkgName":"decomissionedPkgName"},[t._v("\n                "+t._s(e.name+"_"+e.version)+"\n              ")]),t._v(" "),n("span",{staticStyle:{float:"right","margin-right":"10px"}},["DECOMMISSIONED"!==e.status?n("Button",{attrs:{size:"small",icon:"ios-trash"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),t.deletePlugin(e.id)}}}):t._e()],1),t._v(" "),n("p",{attrs:{slot:"content"},slot:"content"},[n("Button",{attrs:{size:"small",icon:"ios-checkmark-circle"},on:{click:function(n){return t.configPlugin(e.id)}}},[t._v(t._s(t.$t("plugin_config_check")))]),t._v(" "),n("Button",{attrs:{size:"small",icon:"ios-construct"},on:{click:function(n){return t.manageService(e.id)}}},[t._v(t._s(t.$t("service_regist")))]),t._v(" "),n("Button",{attrs:{size:"small",icon:"ios-settings"},on:{click:function(n){return t.manageRuntimePlugin(e.id)}}},[t._v(t._s(t.$t("runtime_manage")))])],1)]):t._e()}),1)],1)],1)],1)],1),t._v(" "),t.isShowConfigPanel?n("Col",{attrs:{span:"17",offset:"1"}},[n("Tabs",{attrs:{type:"card",value:t.currentTab},on:{"on-click":t.handleTabClick}},[n("TabPane",{attrs:{name:"dependency",label:t.$t("dependencies_analysis")}},["dependency"===t.currentTab?n("DependencyAnalysis",{attrs:{pkgId:t.currentPlugin.id}}):t._e()],1),t._v(" "),n("TabPane",{attrs:{name:"menus",label:t.$t("menu_injection")}},["menus"===t.currentTab?n("MenuInjection",{attrs:{pkgId:t.currentPlugin.id}}):t._e()],1),t._v(" "),n("TabPane",{attrs:{name:"models",label:t.$t("data_model")}},["models"===t.currentTab?n("DataModel",{attrs:{pkgId:t.currentPlugin.name}}):t._e()],1),t._v(" "),n("TabPane",{attrs:{name:"systemParameters",label:t.$t("system_params")}},["systemParameters"===t.currentTab?n("SysParmas",{attrs:{pkgId:t.currentPlugin.id}}):t._e()],1),t._v(" "),n("TabPane",{attrs:{name:"authorities",label:t.$t("auth_setting")}},["authorities"===t.currentTab?n("AuthSettings",{attrs:{pkgId:t.currentPlugin.id}}):t._e()],1),t._v(" "),n("TabPane",{attrs:{name:"runtimeResources",label:t.$t("runtime_resource")}},["runtimeResources"===t.currentTab?n("RuntimesResources",{attrs:{pkgId:t.currentPlugin.id}}):t._e()],1),t._v(" "),"UNREGISTERED"===t.currentPlugin.status?n("TabPane",{attrs:{name:"confirm",label:t.$t("confirm")}},[n("Button",{attrs:{type:"info"},on:{click:function(e){return t.registPackage()}}},[t._v(t._s(t.$t("confirm_to_regist_plugin")))])],1):t._e()],1)],1):t._e(),t._v(" "),t.isShowServicePanel?n("Col",{attrs:{span:"17",offset:"1"}},[n("Card",{attrs:{"dis-hover":""}},[t.isShowServicePanel?n("PluginRegister",{attrs:{pkgId:t.currentPlugin.id,pkgName:t.currentPlugin.name}}):t._e()],1)],1):t._e(),t._v(" "),t.isShowRuntimeManagementPanel?n("Col",{attrs:{span:"17",offset:"1"}},[t.isLoading?n("Spin",{attrs:{size:"large",fix:""}},[n("Icon",{staticClass:"spin-icon-load",attrs:{type:"ios-loading",size:"44"}}),t._v(" "),n("div",[t._v(t._s(t.$t("loading")))])],1):t._e(),t._v(" "),Object.keys(t.currentPlugin).length>0?n("div",[t.currentPlugin.children?n("div",[n("Row",{staticClass:"instances-container"},[n("Collapse",{attrs:{value:"1"},on:{"on-change":t.onRuntimeCollapseChange}},[n("Panel",{attrs:{name:"1"}},[n("span",{staticStyle:{"font-size":"14px","font-weight":"600"}},[t._v(t._s(t.$t("runtime_container")))]),t._v(" "),n("p",{attrs:{slot:"content"},slot:"content"},[n("Card",{attrs:{"dis-hover":""}},[n("Row",[n("Select",{staticStyle:{width:"40%"},attrs:{multiple:"","max-tag-count":4},on:{"on-change":t.selectHost},model:{value:t.selectHosts,callback:function(e){t.selectHosts=e},expression:"selectHosts"}},t._l(t.allAvailiableHosts,function(e){return n("Option",{key:e,attrs:{value:e}},[t._v(t._s(e))])}),1),t._v(" "),n("Button",{attrs:{size:"small",type:"success"},on:{click:t.getAvailablePortByHostIp}},[t._v(t._s(t.$t("port_preview")))]),t._v(" "),t.availiableHostsWithPort.length>0?n("div",[n("p",{staticStyle:{"margin-top":"20px"}},[t._v("\n                        "+t._s(t.$t("avaliable_port"))+":\n                      ")]),t._v(" "),t._l(t.availiableHostsWithPort,function(e){return n("div",{key:e.ip+e.port},[n("div",{staticClass:"instance-item-container",staticStyle:{"border-bottom":"1px solid gray",padding:"10px 0"}},[n("div",{staticClass:"instance-item"},[n("Col",{attrs:{span:"4"}},[t._v(t._s(e.ip+":"+e.port))]),t._v(" "),n("Button",{attrs:{size:"small",type:"success"},on:{click:function(n){return t.createPluginInstanceByPackageIdAndHostIp(e.ip,e.port)}}},[t._v(t._s(t.$t("create")))])],1)])])})],2):t._e()],1),t._v(" "),n("Row",[n("p",{staticStyle:{"margin-top":"20px"}},[t._v(t._s(t.$t("running_node"))+":")]),t._v(" "),0===t.allInstances.length?n("div",[t._v("\n                      "+t._s(t.$t("no_avaliable_instances"))+"\n                    ")]):n("div",t._l(t.allInstances,function(e){return n("div",{key:e.id},[n("div",{staticClass:"instance-item-container"},[n("Col",{attrs:{span:"4"}},[n("div",{staticClass:"instance-item"},[t._v("\n                              "+t._s(e.displayLabel)+"\n                            ")])]),t._v(" "),n("Button",{attrs:{size:"small",type:"error"},on:{click:function(n){return t.removePluginInstance(e.id)}}},[t._v(t._s(t.$t("ternmiante")))])],1)])}),0)])],1)],1)]),t._v(" "),n("Panel",{attrs:{name:"2"}},[n("span",{staticStyle:{"font-size":"14px","font-weight":"600"}},[t._v(t._s(t.$t("database")))]),t._v(" "),n("Row",{attrs:{slot:"content"},slot:"content"},[n("Row",[n("Col",{attrs:{span:"16"}},[n("Input",{attrs:{type:"textarea",placeholder:t.$t("only_select")},model:{value:t.dbQueryCommandString,callback:function(e){t.dbQueryCommandString=e},expression:"dbQueryCommandString"}})],1),t._v(" "),n("Col",{attrs:{span:"4",offset:"1"}},[n("Button",{on:{click:t.getDBTableData}},[t._v(t._s(t.$t("execute")))])],1)],1),t._v(" "),n("Row",{staticStyle:{"margin-top":"20px"}},[t._v("\n                  "+t._s(t.$t("search_result")+":")+"\n                  "),n("Table",{attrs:{columns:t.dbQueryColumns,data:t.dbQueryData}}),t._v(" "),n("Page",{staticStyle:{float:"right",margin:"10px 0"},attrs:{total:t.dbTablePagination.total,current:t.dbTablePagination.currentPage,"page-size":t.dbTablePagination.pageSize,"show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":t.onDBTablePageChange,"on-page-size-change":t.onDBTablePageSizeChange}})],1)],1)],1),t._v(" "),n("Panel",{attrs:{name:"3"}},[n("span",{staticStyle:{"font-size":"14px","font-weight":"600"}},[t._v(t._s(t.$t("storage_service")))]),t._v(" "),n("Row",{attrs:{slot:"content"},slot:"content"},[n("Table",{attrs:{columns:t.storageServiceColumns,data:t.storageServiceData}})],1)],1)],1)],1)],1):t._e()]):t._e()],1):t._e()],1)},zt=[];function Bt(t){n("8581")}var Lt=!1,Mt=Bt,Ht=null,Kt=null,Ft=Object(d["a"])($t,At,zt,Lt,Mt,Ht,Kt);e["default"]=Ft.exports},"4f7f":function(t,e,n){"use strict";var a=n("c26b"),i=n("b39a"),r="Set";t.exports=n("e0b8")(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return a.def(i(this,r),t=0===t?0:t,t)}},a)},"5dbc":function(t,e,n){var a=n("d3f4"),i=n("8b97").set;t.exports=function(t,e,n){var r,s=e.constructor;return s!==n&&"function"==typeof s&&(r=s.prototype)!==n.prototype&&a(r)&&i&&i(t,r),t}},"5df3":function(t,e,n){"use strict";var a=n("02f4")(!0);n("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=a(e,n),this._i+=t.length,{value:t,done:!1})})},"67ab":function(t,e,n){var a=n("ca5a")("meta"),i=n("d3f4"),r=n("69a8"),s=n("86cc").f,o=0,c=Object.isExtensible||function(){return!0},u=!n("79e5")(function(){return c(Object.preventExtensions({}))}),l=function(t){s(t,a,{value:{i:"O"+ ++o,w:{}}})},p=function(t,e){if(!i(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!r(t,a)){if(!c(t))return"F";if(!e)return"E";l(t)}return t[a].i},h=function(t,e){if(!r(t,a)){if(!c(t))return!0;if(!e)return!1;l(t)}return t[a].w},d=function(t){return u&&g.NEED&&c(t)&&!r(t,a)&&l(t),t},g=t.exports={KEY:a,NEED:!1,fastKey:p,getWeak:h,onFreeze:d}},"6e43":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"",""])},"7d8e":function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,".decomissionedPkgName{font-style:italic;text-decoration:line-through}",""])},8424:function(t,e,n){"use strict";n("96cf");var a=n("3b8d"),i=(n("28a5"),n("ac6a"),n("a481"),n("7f7f"),n("7514"),n("aa22")),r={name:"PathExp",data:function(){return{optionsHide:!1,currentEntity:"",currentPkg:"",inputVal:"",options:[],currentOperator:"",isRefBy:!1,entityPath:[]}},props:{value:{required:!1},rootPkg:{},disabled:{},rootEntity:{},allDataModelsWithAttrs:{}},watch:{currentPkg:{handler:function(t){}},value:{handler:function(t){},immediate:!0},allDataModelsWithAttrs:{handler:function(t){}},rootEntity:{handler:function(t){var e=this.allEntity.find(function(e){return e.name===t});this.currentPkg=e.packageName,this.currentEntity=t,this.inputVal="".concat(this.currentPkg,":").concat(t),this.entityPath=[{entity:this.currentEntity,pkg:this.currentPkg}],this.$emit("input",this.inputVal.replace(" ",""))}}},computed:{allEntity:function(){var t=[];return this.allDataModelsWithAttrs.forEach(function(e){e.pluginPackageEntities&&(t=t.concat(e.pluginPackageEntities))}),t}},mounted:function(){this.restorePathExp(),this.currentEntity=this.rootEntity,this.currentPkg=this.rootPkg,this.$emit("input",this.inputVal.replace(" ","")),document.querySelector(".wecube_attr-ul")&&(document.querySelector(".wecube_attr-ul").style.width=document.querySelector(".wecube_input_in textarea").clientWidth+"px")},methods:{restorePathExp:function(){var t=this;if(this.value){this.inputVal=this.value.replace(/\~/g," ~").replace(/\>/g," >").replace(/\./g," .");var e=this.value.split(/[~.>]/),n={};e.forEach(function(e){var a=e.indexOf(":");if(a>0){var i=e.indexOf(")"),r=e.split(":");n=i>0?{entity:r[1],pkg:r[0].split(")")[1]}:{entity:r[1],pkg:r[0]}}t.entityPath.push(n)})}else this.inputVal="".concat(this.rootPkg,":").concat(this.rootEntity||""),this.entityPath.push({entity:this.currentEntity,pkg:this.currentPkg})},optClickHandler:function(t){this.optionsHide=!1;var e="ref"===t.dataType?this.isRefBy?"(".concat(t.name,")").concat(t.refPackageName,":").concat(t.refEntityName):"".concat(t.name,">").concat(t.refPackageName,":").concat(t.refEntityName):t.name;this.currentPkg=t.refPackageName||t.packageName,this.currentEntity=t.refEntityName||t.entityName,this.entityPath.push({entity:this.currentEntity,pkg:this.currentPkg}),this.inputVal=this.inputVal+" "+this.currentOperator+e,this.options=[],this.$refs["textarea"].focus(),this.$emit("input",this.inputVal.replace(" ",""))},inputHandler:function(t){if(!t.data){this.isRefBy=!1;var e=this.inputVal.split(" ");return e.length>1?(e.splice(-1,1),this.inputVal=e.join(" "),this.entityPath.splice(-1,1),this.$emit("input",this.inputVal.replace(" ",""))):e.length<2&&(this.inputVal=e[0],this.$emit("input",this.inputVal.replace(" ",""))),void(this.$refs.textarea.value=this.inputVal)}if("."!==t.data&&"~"!==t.data)return this.$Message.error({content:this.$t("input_correct_operator")}),void(this.$refs.textarea.value=this.inputVal);"."===t.data&&(this.currentOperator=t.data,this.isRefBy=!1,this.getAttrByEntity()),"~"===t.data&&(this.currentOperator=t.data,this.isRefBy=!0,this.getRefByEntity())},getAttrByEntity:function(){var t=this;this.options=[],this.allEntity.forEach(function(e){e.name==t.entityPath[t.entityPath.length-1].entity&&(t.options=e.attributes)})},getRefByEntity:function(){var t=Object(a["a"])(regeneratorRuntime.mark(function t(){var e,n,a,r;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return e=this.entityPath[this.entityPath.length-1],t.next=3,Object(i["G"])(e.pkg,e.entity);case 3:n=t.sent,a=n.status,n.message,r=n.data,"OK"===a&&(this.options=r);case 8:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}()}},s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wecube_attr_input"},[n("Poptip",{attrs:{placement:"bottom"},model:{value:t.optionsHide,callback:function(e){t.optionsHide=e},expression:"optionsHide"}},[n("div",{ref:"wecube_cmdb_attr",staticClass:"wecube_input_in"},[n("textarea",{ref:"textarea",attrs:{rows:2,disabled:t.disabled},domProps:{value:t.inputVal},on:{input:t.inputHandler}})]),t._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[n("div",{staticClass:"wecube_attr-ul"},t._l(t.options,function(e){return n("ul",{key:e.id},[n("li",{on:{click:function(n){return t.optClickHandler(e)}}},[t._v("\n            "+t._s("ref"===e.dataType?t.isRefBy?"("+e.name+")"+e.refPackageName+":"+e.refEntityName:e.name+">"+e.refPackageName+":"+e.refEntityName:e.name)+"\n          ")])])}),0)])])],1)},o=[],c=n("2455");function u(t){n("0271")}var l=!1,p=u,h=null,d=null,g=Object(c["a"])(r,s,o,l,p,h,d);e["a"]=g.exports},8581:function(t,e,n){var a=n("7d8e");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("2fb2").default;i("6e0262fa",a,!0,{})},"8b97":function(t,e,n){var a=n("d3f4"),i=n("cb7c"),r=function(t,e){if(i(t),!a(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,a){try{a=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),a(t,[]),e=!(t instanceof Array)}catch(i){e=!0}return function(t,n){return r(t,n),e?t.__proto__=n:a(t,n),t}}({},!1):void 0),check:r}},aa77:function(t,e,n){var a=n("5ca1"),i=n("be13"),r=n("79e5"),s=n("fdef"),o="["+s+"]",c="​",u=RegExp("^"+o+o+"*"),l=RegExp(o+o+"*$"),p=function(t,e,n){var i={},o=r(function(){return!!s[t]()||c[t]()!=c}),u=i[t]=o?e(h):s[t];n&&(i[n]=u),a(a.P+a.F*o,"String",i)},h=p.trim=function(t,e){return t=String(i(t)),1&e&&(t=t.replace(u,"")),2&e&&(t=t.replace(l,"")),t};t.exports=p},b39a:function(t,e,n){var a=n("d3f4");t.exports=function(t,e){if(!a(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}},c26b:function(t,e,n){"use strict";var a=n("86cc").f,i=n("2aeb"),r=n("dcbc"),s=n("9b43"),o=n("f605"),c=n("4a59"),u=n("01f9"),l=n("d53b"),p=n("7a56"),h=n("9e1e"),d=n("67ab").fastKey,g=n("b39a"),f=h?"_s":"size",m=function(t,e){var n,a=d(e);if("F"!==a)return t._i[a];for(n=t._f;n;n=n.n)if(n.k==e)return n};t.exports={getConstructor:function(t,e,n,u){var l=t(function(t,a){o(t,l,e,"_i"),t._t=e,t._i=i(null),t._f=void 0,t._l=void 0,t[f]=0,void 0!=a&&c(a,n,t[u],t)});return r(l.prototype,{clear:function(){for(var t=g(this,e),n=t._i,a=t._f;a;a=a.n)a.r=!0,a.p&&(a.p=a.p.n=void 0),delete n[a.i];t._f=t._l=void 0,t[f]=0},delete:function(t){var n=g(this,e),a=m(n,t);if(a){var i=a.n,r=a.p;delete n._i[a.i],a.r=!0,r&&(r.n=i),i&&(i.p=r),n._f==a&&(n._f=i),n._l==a&&(n._l=r),n[f]--}return!!a},forEach:function(t){g(this,e);var n,a=s(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){a(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!m(g(this,e),t)}}),h&&a(l.prototype,"size",{get:function(){return g(this,e)[f]}}),l},def:function(t,e,n){var a,i,r=m(t,e);return r?r.v=n:(t._l=r={i:i=d(e,!0),k:e,v:n,p:a=t._l,n:void 0,r:!1},t._f||(t._f=r),a&&(a.n=r),t[f]++,"F"!==i&&(t._i[i]=r)),t},getEntry:m,setStrong:function(t,e,n){u(t,e,function(t,n){this._t=g(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?l(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,l(1))},n?"entries":"values",!n,!0),p(e)}}},c5f6:function(t,e,n){"use strict";var a=n("7726"),i=n("69a8"),r=n("2d95"),s=n("5dbc"),o=n("6a99"),c=n("79e5"),u=n("9093").f,l=n("11e9").f,p=n("86cc").f,h=n("aa77").trim,d="Number",g=a[d],f=g,m=g.prototype,v=r(n("2aeb")(m))==d,y="trim"in String.prototype,b=function(t){var e=o(t,!1);if("string"==typeof e&&e.length>2){e=y?e.trim():h(e,3);var n,a,i,r=e.charCodeAt(0);if(43===r||45===r){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===r){switch(e.charCodeAt(1)){case 66:case 98:a=2,i=49;break;case 79:case 111:a=8,i=55;break;default:return+e}for(var s,c=e.slice(2),u=0,l=c.length;u<l;u++)if(s=c.charCodeAt(u),s<48||s>i)return NaN;return parseInt(c,a)}}return+e};if(!g(" 0o1")||!g("0b1")||g("+0x1")){g=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof g&&(v?c(function(){m.valueOf.call(n)}):r(n)!=d)?s(new f(b(e)),n,g):b(e)};for(var _,w=n("9e1e")?u(f):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),P=0;w.length>P;P++)i(f,_=w[P])&&!i(g,_)&&p(g,_,l(f,_));g.prototype=m,m.constructor=g,n("2aba")(a,d,g)}},e0b8:function(t,e,n){"use strict";var a=n("7726"),i=n("5ca1"),r=n("2aba"),s=n("dcbc"),o=n("67ab"),c=n("4a59"),u=n("f605"),l=n("d3f4"),p=n("79e5"),h=n("5cc5"),d=n("7f20"),g=n("5dbc");t.exports=function(t,e,n,f,m,v){var y=a[t],b=y,_=m?"set":"add",w=b&&b.prototype,P={},k=function(t){var e=w[t];r(w,t,"delete"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(v&&!l(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return v&&!l(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof b&&(v||w.forEach&&!p(function(){(new b).entries().next()}))){var x=new b,O=x[_](v?{}:-0,1)!=x,S=p(function(){x.has(1)}),E=h(function(t){new b(t)}),T=!v&&p(function(){var t=new b,e=5;while(e--)t[_](e,e);return!t.has(-0)});E||(b=e(function(e,n){u(e,b,t);var a=g(new y,e,b);return void 0!=n&&c(n,m,a[_],a),a}),b.prototype=w,w.constructor=b),(S||T)&&(k("delete"),k("has"),m&&k("get")),(T||O)&&k(_),v&&w.clear&&delete w.clear}else b=f.getConstructor(e,t,m,_),s(b.prototype,n),o.NEED=!0;return d(b,t),P[t]=b,i(i.G+i.W+i.F*(b!=y),P),v||f.setStrong(b,t,m),b}},e258:function(t,e,n){var a=n("6e43");"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var i=n("2fb2").default;i("044a0f94",a,!0,{})},f400:function(t,e,n){"use strict";var a=n("c26b"),i=n("b39a"),r="Map";t.exports=n("e0b8")(r,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=a.getEntry(i(this,r),t);return e&&e.v},set:function(t,e){return a.def(i(this,r),0===t?0:t,e)}},a,!0)},f732:function(t,e,n){e=t.exports=n("2350")(!1),e.push([t.i,"*{padding:0;margin:0;list-style:none;font-size:14px}.wecube_attr-ul{width:100%;z-index:3000;background:#fff;max-height:200px;overflow:auto}.wecube_attr_input .ivu-poptip,.wecube_attr_input .ivu-poptip .ivu-poptip-rel{width:100%}.wecube_input_in{width:100%;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.wecube_input_in textarea{font-size:11px;line-height:28px;width:100%;border-radius:5px}.wecube_input_in .wecube-error-message{display:none}.wecube_input_in.wecube-error textarea{border:1px solid red}.wecube_input_in.wecube-error .wecube-error-message{display:block;height:20px;line-height:16px;color:red;padding:2px 0;font-size:12px}.wecube_attr-ul ul{width:100%;border-radius:3px}.ul-li-selected{color:#0682e7}.wecube_attr-ul ul li{width:100%;height:25px;line-height:25px;cursor:pointer}.wecube_attr-ul ul li:hover{background-color:#e3e7eb}",""])},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-4a26f7fa.b7218182.js.map