(function(e){function t(t){for(var a,r,s=t[0],c=t[1],u=t[2],l=0,d=[];l<s.length;l++)r=s[l],i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(e[a]=c[a]);p&&p(t);while(d.length)d.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],a=!0,r=1;r<n.length;r++){var s=n[r];0!==i[s]&&(a=!1)}a&&(o.splice(t--,1),e=c(c.s=n[0]))}return e}var a={},r={app:0},i={app:0},o=[];function s(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-10cfb8be":"97efe2d0","chunk-16dff386":"a57e9fc5","chunk-3251c492":"9c8340ba","chunk-664494f9":"692a8299","chunk-689183ac":"b6ccf582","chunk-94d300b4":"802f570b","chunk-9e21c266":"fa1f7134","chunk-a9038c06":"2d4ddfc5","chunk-302a80f1":"f28231d3","chunk-4a26f7fa":"f4f1a93d","chunk-d84ec71a":"ce0ad21e"}[e]+".js"}function c(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(e){var t=[],n={"chunk-10cfb8be":1};r[e]?t.push(r[e]):0!==r[e]&&n[e]&&t.push(r[e]=new Promise(function(t,n){for(var a="css/"+({}[e]||e)+"."+{"chunk-10cfb8be":"ff9c39da","chunk-16dff386":"31d6cfe0","chunk-3251c492":"31d6cfe0","chunk-664494f9":"31d6cfe0","chunk-689183ac":"31d6cfe0","chunk-94d300b4":"31d6cfe0","chunk-9e21c266":"31d6cfe0","chunk-a9038c06":"31d6cfe0","chunk-302a80f1":"31d6cfe0","chunk-4a26f7fa":"31d6cfe0","chunk-d84ec71a":"31d6cfe0"}[e]+".css",i=c.p+a,o=document.getElementsByTagName("link"),s=0;s<o.length;s++){var u=o[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return t()}var d=document.getElementsByTagName("style");for(s=0;s<d.length;s++){u=d[s],l=u.getAttribute("data-href");if(l===a||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var a=t&&t.target&&t.target.src||i,o=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");o.code="CSS_CHUNK_LOAD_FAILED",o.request=a,delete r[e],p.parentNode.removeChild(p),n(o)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)}).then(function(){r[e]=0}));var a=i[e];if(0!==a)if(a)t.push(a[2]);else{var o=new Promise(function(t,n){a=i[e]=[t,n]});t.push(a[2]=o);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(e),u=function(t){l.onerror=l.onload=null,clearTimeout(d);var n=i[e];if(0!==n){if(n){var a=t&&("load"===t.type?"missing":t.type),r=t&&t.target&&t.target.src,o=new Error("Loading chunk "+e+" failed.\n("+a+": "+r+")");o.type=a,o.request=r,n[1](o)}i[e]=void 0}};var d=setTimeout(function(){u({type:"timeout",target:l})},12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=a,c.d=function(e,t,n){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)c.d(n,a,function(t){return e[t]}.bind(null,a));return n},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"05f0":function(e,t,n){var a=n("f938");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("2fb2").default;r("3c456292",a,!0,{})},"0973":function(e,t,n){},"247a":function(e){e.exports={logout:"注销",table_number:"序号",table_enum_name:"枚举名称",table_key:"名",table_value:"值",table_group:"组",table_description:"说明",table_action:"操作",add:"添加",delete:"删除",modify:"修改",edit:"编辑",save:"保存",export:"导出",filter_columns:"过滤列",please_input:"请输入",filter_desc_label:"过滤条件(全模糊查询)",cancel:"取消",upload_plugin_pkg_title:"上传插件包",upload_plugin_btn:"上传插件",plugins_list:"插件包列表",ip_placeholder:"请输入IP",create:"创建",running_node:"运行节点",query_logs:"检索日志",ternmiante:"销毁",query_logs_modal_title:"运行日志",multiple_comma_placeholder:"支持多个关键字搜索，用逗号隔开",line_number:"行号",search:"搜索",search_result:"搜索结果",no_result:"没有结果",number_of_result:"条结果",enum_management:"枚举管理",name:"名称",loading:"加载中...",enum_name:"枚举名称",enum_key:"枚举键",enum_value:"枚举值",enum_type:"枚举类型",enum_group:"枚举组",enum_status:"状态",sys_enum:"系统枚举",pub_enum:"公有枚举",pri_enum:"私有枚举",confirm_to_delete:"确认删除？",more_filters:"更多条件",less_filters:"更少条件",reset:"重置",actions:"操作",home:"主页",architecture_diagram:"架构图",new_layer:"新增层",ci_status:"状态",layer_description:"描述说明",submit:"提交",new_ci_type:"新增CI类型",edit_layer_name:"编辑层名称",layer_move_up:"上移层",layer_move_down:"下移层",layer_remove:"删除层",roll_back:"回滚",delete_ci:"删除CI",ci_type_id:"CI类型ID",layer_of_belong:"所属层级",ci_description:"描述说明",icon:"图标",staging:"暂存",confirm:"确认",new_ci_attribute:"新增CI属性",edit_ci_name:"编辑名称",ci_attribute_move_up:"上移CI属性",ci_attribute_move_down:"下移CI属性",ci_attribute_remove:"删除CI属性",ci_attribute_id:"CI属性ID",ci_attribute_name:"CI属性名称",search_terms_sequence_number:"搜索条件排序序号",data_type:"数据类型",length:"长度",property_type:"真实类型",reference:"引用选择",reference_name:"引用命名",reference_type:"引用类型",enum_selection:"枚举选择",is_reuse:"是否复用",displayed_in_the_table:"显示在表",authority_control:"权限控制",allowed_to_be_empty:"允许为空",editable:"是否可编辑",populate_automatically:"自动填充",filling_rule:"填充规则",Filtering_rule:"过滤规则",editing_area:"编辑区",click_the_architecture_diagram:"请点击架构图进行操作",already_first_floor:"已经是第一层",already_last_floor:"已经是第一层",confirm_deletion:"确认删除？",already_first_one:"已经是第一个",already_last_one:"已经是第一个",user:"用户",add_user:"添加用户",role:"角色",add_role:"添加角色",menu:"菜单",data:"数据",details:"详情",username:"用户名",fullname:"全名",description:"描述",edit_user:"编辑用户",edit_data:"编辑数据",single_word_add:"增",single_word_delete:"删",single_word_update:"改",single_word_read:"查",single_word_exec:"执",full_word_add:"新增",full_word_delete:"删除",full_word_update:"修改",full_word_read:"查询",full_word_exec:"执行",selected_user:"选中用户",unselected_user:"未选中用户",yes:"是",no:"否",username_cannot_empty:"用户名不能为空",role_cannot_empty:"角色名不能为空",cmdb_model:"CMDB模型",execute:"执行",select_an_operation:"请选择操作",repeat_prompt:"此任务节点已成功执行，重复执行可能带来不确定结果，是否仍需重复执行？",retry:"重试",skip:"跳过",preview_execution:"执行预览",query_execution:"执行查询",no_orchestration_properties:"该CI没有编排属性",execution_target_type:"执行目标类型",target_location_properties:"执行目标定位属性",select_a_plugin:"插件选择",comprehensive_query_root_Ci:"综合查询根CI",comprehensive_query_name:"综合查询名称",raw_data:"原始数据",packet:"报文",request_url:"请求URL:",operation_management:"操作管理",execution_command:"执行命令",select_file:"选择文件",high_risk_detection:"高危检测",submit_for_approval:"提交审批",execution_result_details:"脚本执行结果详情",show_more:"显示详情",object:"对象",line_numbers:"行号",matching_content:"匹配内容",regular_expression:"支持正则表达式",comprehensive_query:"该综合查询",not_contain_property:"不包含执行目标定位属性",select_an_instance:"请选择实例",enter_search_keywords:"请输入搜索关键字",deployment_tasks:"部署任务",system_design_version:"系统设计版本",system_design_list:"系统设计列表",new_package:"上传新包",script_configuration:"脚本配置",not_selected:"未选择",differentiation_document:"差异化文件",startup_script:"启动脚本",stop_script:"停止脚本",deployment_script:"部署脚本",select_differentiation_document:"选择差异化文件",select_startup_script:"选择启动脚本",select_stop_script:"选择停止脚本",select_deployment_script:"选择部署脚本",package_name:"包名",upload_time:"上传时间",md5_value:"MD5值",upload_by:"上传人",index:"序号",file_line_number:"文件行号",save_successfully:"保存成功",configuration:"配置",instance:"实例",port_preview:"端口预览",avaliable_port:"可用端口",start_params:"启动参数",no_avaliable_instances:"无可用实例",log_query:"日志查询",log_details:"日志详情",operation:"操作",params_type:"参数类型",data_status:"数据状态",params_name:"参数名",amdb_attr:"CMDB属性",input_params:"输入参数",output_params:"输出参数",regist:"注册",decommission:"注销",show_details:"显示详情",file_name:"文件名",match_text:"匹配内容",replace_key_in_params:"请替换启动参数中的差异化参数",for_example:"e.g.:",flow_name:"编排名称",ci_type:"CI类型",save_flow:"保存编排",calc_form:"表单计算",config_plugin:"配置插件",node_type:"节点类型",locate_rules:"定位规则",plugin:"插件",timeout:"超时时间",mins:"分钟",preview:"预览",cannot_preview:"无法预览",select_entity_first:"请先选择实体类型",select_idc:"请选择IDC",query:"查询",resource_planning_map:"资源规划图",planning_and_design_drawing:"规划设计图",root_ci_type:"根CI类型",update:"更新",add_integrated_query_interface_name:"添加综合查询接口名称",integrated_query_deletion:"综合查询删除",explicit_message:"显示报文",select_non_ci_attr:"请选择非引用属性",select_ci_type:"请选择CI Type",auto_fill_error_msg:"连接符只支持英文字母大小写，数字0-9，英文符号 . - 的输入, { 触发规则填充",please_select_enum:"请选择枚举",please_input_dot_or_dash:"请输入正确的操作符 . 或 -",please_input_right_close:"请输入操作符 } 闭合当前规则",all:"所有",attribute:"属性",ref_to:"引用",ref_by:"被引用",select_flow:"选择编排",sequence_design:"调用设计",sequence_graph:"时序图",sequence_steps:"调用关系",select_sequence_steps:"选择调用关系",select_sequence:"选择调用时序",start_with_open_curly:"请输入 { 开启过滤规则填充",start_with_open_curly_or_bracket:"请输入 { 或者 [ 开启过滤规则填充",press_space_start:"请点击空格键触发过滤规则连接",please_input_dot:"请输入正确的操作符 .",arch_update:"架构变更",fix_version:"去定版",app_logic_graph:"应用逻辑图",sequence_graph_design:"调用时序设计",sequence_list:"调用时序设计序列",current_invoke:"当前调用",privious_step:"上一步",next_step:"下一步",return:"返回",physical_deploy_graph:"物理部署图",env_type:"环境类型",app_logic_tree_graph:"应用树状逻辑图",deploy_details:"部署详情",execute_flow:"执行流程",please_select_sys_design_and_env:"请先选择系统设计和环境类型",start_execution:"开始执行",regist_config:"注册配置",runtime_manage:"运行管理",dependencies_analysis:"依赖分析",menu_injection:"菜单注入",data_model:"数据模型",system_params:"系统参数",auth_setting:"权限设定",runtime_resource:"运行资源",plugin_regist:"插件注册",no_plugin_packages:"暂无插件包",path:"路径",runtime_container:"运行容器",database:"数据库",only_select:"显示使用的数据库,限定只能执行select",storage_service:"对象存储",belongs:"归属",params_value:"参数值",status:"状态",plugin_config_check:"插件配置",service_regist:"服务注册",confirm_to_regist_plugin:"确认注册插件包",is_show_decomissioned_pkg:"显示停用插件包",orchs:"任务编排",query_orch:"查询",create_orch:"新建",select_orch:"选择编排",target_object:"目标对象",create_job:"构建任务",no_plugin:"暂无插件",target_type:"目标对象类型",notification_title:"通知",notification_desc:"请等待插件加载完成后再使用插件相关功能",plugin_load:"插件加载完成",get_dynamic_model:"同步数据模型",apply_data_model:"应用数据模型",instance_type:"编排实体类型",input_correct_operator:"请输入正确的操作符 . 或 ~ ",hosts:"主机",instances:"实例",table_id:"ID",table_name:"名称",table_type:"类型",table_resource_server:"资源服务器",table_is_allocated:"是否分配",table_purpose:"描述",table_status:"状态",table_created_date:"创建时间",table_updated_date:"更新时间",table_host:"主机",table_login_username:"登录用户",table_login_password:"登录密码",table_port:"端口",table_default_value:"默认值",table_scope_type:"范围类型",table_scope_value:"范围",table_seq_no:"显示顺序",no_auth_provided:"本插件暂无权限设定",no_data_model_provided:"本插件暂无数据模型",reload_to_get_ui:"如果插件提供UI界面，重新加载可以获取插件页面",reload_to_delete_ui:"如果插件提供UI界面，重新加载可以删除插件页面",attribute_type:"属性类型",is_model_attribute:"当前节点为实例的非引用属性",password:"密码",password_cannot_empty:"密码不能为空",display_name:"显示名",menus:"菜单"}},"2ce2":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var a=[{code:"JOBS",cnName:"任务",enName:"Tasks"},{code:"DESIGNING",cnName:"设计",enName:"Design"},{code:"IMPLEMENTATION",cnName:"执行",enName:"Execute"},{code:"MONITORING",cnName:"监测",enName:"Monitor"},{code:"INTELLIGENCE_OPS",cnName:"智慧",enName:"Intelligence"},{code:"ADJUSTMENT",cnName:"调整",enName:"Adjust"},{code:"COLLABORATION",cnName:"协同",enName:"Conjoin"},{code:"ADMIN",cnName:"系统",enName:"System"},{code:"COLLABORATION_PLUGIN_MANAGEMENT",cnName:"插件注册",enName:"Plugin Management",link:"/collaboration/plugin-management"},{code:"COLLABORATION_WORKFLOW_ORCHESTRATION",cnName:"任务编排",enName:"Workflow Orchestration",link:"/collaboration/workflow-orchestration"},{code:"ADMIN_SYSTEM_PARAMS",cnName:"系统参数",enName:"System Params",link:"/admin/system-params"},{code:"ADMIN_RESOURCES_MANAGEMENT",cnName:"资源管理",enName:"Resources",link:"/admin/resources"},{code:"IMPLEMENTATION_WORKFLOW_EXECUTION",cnName:"编排任务执行",enName:"Workflow Execution",link:"/implementation/workflow-execution"},{code:"ADMIN_USER_ROLE_MANAGEMENT",cnName:"权限管理",enName:"Permission Management",link:"/admin/user-role-management"}]},"2e5d8":function(e,t,n){var a=n("75bd");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("2fb2").default;r("54fdacb8",a,!0,{})},"2f0d":function(e,t,n){var a={"./locale":"c020","./locale.js":"c020"};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="2f0d"},4678:function(e,t,n){var a={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-SG":"cdab","./en-SG.js":"cdab","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function r(e){var t=i(e);return n(t)}function i(e){var t=a[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}r.keys=function(){return Object.keys(a)},r.resolve=i,e.exports=r,r.id="4678"},"491d":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"",""])},"49f2":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,'#nav{padding:30px}#nav a{font-weight:700;color:#2c3e50}#nav a.router-link-exact-active{color:#42b983}.header{width:100%;background-color:#515a6e;display:block}.content-container{padding:5px 30px}.ivu-breadcrumb{color:#515a6e}.ivu-layout,.ivu-layout-sider{height:100%}.spin-icon-load{-webkit-animation:ani-demo-spin 1s linear infinite;animation:ani-demo-spin 1s linear infinite}body{overflow:auto!important}body,html{height:100%}.ivu-notice-desc{word-break:break-all;margin-right:10px;max-height:200px;overflow-y:auto}.validation-form .no-need-validation .ivu-form-item-label:before{content:" ";display:inline-block;margin-right:4px;line-height:1}.validation-form .ivu-form-item-label:before{content:"*";display:inline-block;margin-right:4px;line-height:1;font-size:12px;color:#ed4014}.ivu-table-fixed-body{height:auto!important}.ivu-notice-icon .ivu-icon{font-size:30px}',""])},"54c7":function(e){e.exports={logout:"Logout",table_number:"Number",table_enum_name:"Enum Name",table_key:"Key",table_value:"Value",table_group:"Group",table_description:"Description",table_action:"Action",add:"New",delete:"Delete",modify:"Modify",edit:"Edit",save:"Save",export:"Export",filter_columns:"Filter Columns",please_input:"Input ",filter_desc_label:"Filter Input (fuzzy query)",cancel:"Cancel",upload_plugin_pkg_title:"Upload Plugin Package",upload_plugin_btn:"Upload Plugin Package",plugins_list:"Plugin Packages List",ip_placeholder:"Please input IP address",create:"Create",running_node:"Node",query_logs:"Query Logs",ternmiante:"Terminate",query_logs_modal_title:"Logs",multiple_comma_placeholder:"Support multiple keywords, separated by commas",line_number:"Line Number",search:"Search",search_result:"Search Result",no_result:"No Result",number_of_result:"result(s) in total",enum_management:"Enum Management",name:"Name",loading:"Loading...",enum_name:"Enum Name",enum_key:"Key",enum_value:"Value",enum_type:"Type",enum_group:"Group",enum_status:"Status",sys_enum:"System Enum",pub_enum:"Public Enum",pri_enum:"Private Enum",confirm_to_delete:"Confirm to delete",more_filters:"More Filters",less_filters:"Less Filters",reset:"Reset",actions:"Actions",home:"Home",architecture_diagram:"Architecture Diagram",new_layer:"Create Layer",ci_status:"Status",layer_description:"Description",submit:"Submit",new_ci_type:"Create CI Type",edit_layer_name:"Edit Layer Name",layer_move_up:"Move Up",layer_move_down:"Move Down",layer_remove:"Delete Layer",roll_back:"Revert",delete_ci:"Delete CI",ci_type_id:"CI Type ID",layer_of_belong:"Layer",ci_description:"Description",icon:"Icon",staging:"Save Draft",confirm:"Confirm",new_ci_attribute:"Create CI Attribute",edit_ci_name:"Edit CI Name",ci_attribute_move_up:"Move Up",ci_attribute_move_down:"Move Down",ci_attribute_remove:"Delete CI Attribute",ci_attribute_id:"CI Attribute ID",ci_attribute_name:"CI Attribute Name",search_terms_sequence_number:"Search Sequence No.",data_type:"Data Type",length:"Length",property_type:"DB Data Type",reference:"Reference",reference_name:"Reference Name",reference_type:"Reference Type",enum_selection:"Enum Selection",is_reuse:"Inherite",displayed_in_the_table:"Visible",authority_control:"Authorized",allowed_to_be_empty:"Nullable",editable:"Editable",populate_automatically:"Autofill",filling_rule:"Filling Rule",Filtering_rule:"Filter Rule",editing_area:"Edit Panel",click_the_architecture_diagram:"Please click the diagram to start",already_first_floor:"Already Top",already_last_floor:"Already Bottom",confirm_deletion:"Confirm to delete",already_first_one:"Already Top",already_last_one:"Already Bottom",user:"User",add_user:"Create User",role:"Role",add_role:"Create Role",menu:"Menu",data:"Data",details:"Details",username:"User Name",fullname:"Full Name",description:"Description",edit_user:"Edit User",edit_data:"Edit Data",single_word_add:"Create",single_word_delete:"Delete",single_word_update:"Update",single_word_read:"Read",single_word_exec:"Execute",full_word_add:"Create",full_word_delete:"Delete",full_word_update:"Update",full_word_read:"Read",full_word_exec:"Execute",selected_user:"Selected User",unselected_user:"Unselected User",yes:"Yes",no:"No",username_cannot_empty:"User Name can not be empty",role_cannot_empty:"Role can not be empty",cmdb_model:"CMDB Model",execute:"Execute",select_an_operation:"Please Select",repeat_prompt:"This task routine has been successfully executed. Rerun may bring uncertain results. Do you still need to rerun it?",retry:"Rerun",skip:"Skip",preview_execution:"Preview",query_execution:"Details",no_orchestration_properties:"No Orchestration",execution_target_type:"Target Type",target_location_properties:"Target Location Properties",select_a_plugin:"Plugins",comprehensive_query_root_Ci:"Integrate Query Root CI",comprehensive_query_name:"Integrate Query Name",raw_data:"Response Data",packet:"Full Response",request_url:"Request URL:",operation_management:"Operations",execution_command:"Console",select_file:"Select File",high_risk_detection:"High Risk Check",submit_for_approval:"Submit for approval",execution_result_details:"Details",show_more:"Details",object:"Target",line_numbers:"Line Number",matching_content:"Match Text",regular_expression:"Supported Regular Expressions",comprehensive_query:"This integrated query ",not_contain_property:"dont contains target attribute",select_an_instance:"please select",enter_search_keywords:"Please input",deployment_tasks:"Deployment Task",system_design_version:"System Design Version",system_design_list:"System Design List",new_package:"Upload new package",script_configuration:"Script Configuration",not_selected:"Not Selected",differentiation_document:"Differentiation File",startup_script:"Start Script",stop_script:"Stop Script",deployment_script:"Deployment Script",select_differentiation_document:"Please select",select_startup_script:"Please select",select_stop_script:"Please select",select_deployment_script:"Please select",package_name:"Package name",upload_time:"Upload time",md5_value:"MD5",upload_by:"Upload by",index:"Index",file_line_number:"File line number",save_successfully:"Save successfully",configuration:"Configuration",instance:"Instance",port_preview:"Port Preview",avaliable_port:"Avaliable Port",start_params:"Start Params",no_avaliable_instances:"No Avaliable Node Instances",log_query:"Logs",log_details:"Log Details",operation:"Operation",params_type:"Params Type",data_status:"Data Status",params_name:"Parmas Name",amdb_attr:"CMDB Attribute",input_params:"Input Param",output_params:"Output Param",regist:"Regist",decommission:"Decommission",show_details:"Details",file_name:"File Name",match_text:"Match Text",replace_key_in_params:"Please replace key in params",for_example:"e.g.:",flow_name:"Flow Name",ci_type:"CI Type",save_flow:"Save Flow",calc_form:"Calculate Flow",config_plugin:"Config Plugin",node_type:"Node Type",locate_rules:"Locate Rules",plugin:"Plugin",timeout:"Timeout",mins:"Mins",preview:"Preview",cannot_preview:"Can not preview",select_entity_first:"Please select Entity Type first",select_idc:"Please Select IDC",query:"Submit",resource_planning_map:"Resource Planning Graph",planning_and_design_drawing:"Planning Design Graph",root_ci_type:"Root CI Type",update:"Update",add_integrated_query_interface_name:"Create Integrate Query Name",integrated_query_deletion:"Delete Integrate Query",explicit_message:"Show Response",select_non_ci_attr:"Please select non CI Attributes",select_ci_type:"Please select CI Type",auto_fill_error_msg:"The connector only supports English case, number 0-9, English symbol. - Input, {trigger rule padding",please_select_enum:"Please select enum",please_input_dot_or_dash:"Please input correct operator . or -",please_input_right_close:"Please enter operator } to close the current rule",all:"All",attribute:"Attribute",ref_to:"Reference to",ref_by:"Reference by",select_flow:"Select Flow",sequence_design:"Sequence Design",sequence_graph:"Sequence Diagram",sequence_steps:"Sequence Steps",select_sequence_steps:"Select Sequence Steps",select_sequence:"Select Sequence",start_with_open_curly:"Please start with { ",start_with_open_curly_or_bracket:"Please start with { or [ ",press_space_start:"Please click the space bar to trigger the rule",please_input_dot:"lease enter the correct operator '.'",arch_update:"Architecture Update",fix_version:"Fix Version",app_logic_graph:"Application Logic Graph",sequence_graph_design:"Sequence Graph Design",sequence_list:"Sequence Graph Design List",current_invoke:"Current Invoke",privious_step:"Previous Step",next_step:"Next Step",return:"Return",physical_deploy_graph:"Physical Deploy Graph",env_type:"Environment Type",app_logic_tree_graph:"Application Logic Tree Graph",deploy_details:"Deploy Details",execute_flow:"Execute Flow",please_select_sys_design_and_env:"Please select system design and environment type first",start_execution:"Start execution",regist_config:"Regist Configuration",runtime_manage:"Runtime",dependencies_analysis:"Dependency Analysis",menu_injection:"Menu Injection",data_model:"Data Model",system_params:"System Params",auth_setting:"Auth Setting",runtime_resource:"Runtime Resource",plugin_regist:"Plugin Regist",no_plugin_packages:"No Plugin Packages",path:"path",runtime_container:"Runtime Container",database:"DataBase",only_select:"Only select operation allowed",storage_service:"Storage Service",belongs:"Belongs",params_value:"Value",status:"Status",plugin_config_check:"Configuration",service_regist:"Regist",confirm_to_regist_plugin:"Confirm Regist Plugin Package",is_show_decomissioned_pkg:"Show Decommissioned Package",orchs:"Orchestrations Jobs",query_orch:"Enquery",create_orch:"Create",select_orch:"Orchestrations",target_object:"Target",create_job:"Create Orchestrations Job",no_plugin:"No Services",target_type:"Target Type",notification_title:"Notification",notification_desc:"Please wait a moment until all plugins loaded",plugin_load:"plugin loaded",get_dynamic_model:"Sync data model",apply_data_model:"Apply data model",instance_type:"Entity Type",input_correct_operator:"Please enter the correct operator . or ~ ",hosts:"Hosts",instances:"Instances",table_id:"ID",table_name:"Name",table_type:"Type",table_resource_server:"Resource Server",table_is_allocated:"Is Allocated",table_purpose:"Purpose",table_status:"Status",table_created_date:"Created Date",table_updated_date:"Updated Date",table_host:"Host",table_login_username:"Login Username",table_login_password:"Login Password",table_port:"Port",table_default_value:"Default Value",table_scope_type:"Scope Type",table_scope_value:"Scope Value",table_seq_no:"Seq No",no_auth_provided:"No Auths provided for now",no_data_model_provided:"No Data Model provided for now",reload_to_get_ui:"If UI provided by plugin, please reload to see new plugin's page",reload_to_delete_ui:"If UI provided by plugin, please reload to delete plugin's page",attribute_type:"Attribute Type",is_model_attribute:"Current end node is entity's non-ref attribute",password:"Password",password_cannot_empty:"Password Cannot Empty",display_name:"Display Name",menus:"Menu"}},"56d7":function(e,t,n){"use strict";n.r(t);n("8e6e"),n("456d");var a=n("bd86"),r=(n("b54a"),n("7514"),n("75fc")),i=(n("6762"),n("2fdb"),n("ac6a"),n("d225")),o=n("b0b4"),s=(n("cadf"),n("551c"),n("f751"),n("097d"),n("a026")),c=n("c964"),u=(n("7abb"),n("8da8"),{mounted:function(){var e=document.getElementById("boxLoading"),t=document.getElementById("boxTitle");e.style.display="none",t.style.display="none"}}),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"wecube_app"}},[n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{key:e.$route.name,staticClass:"pages"})],1)],1)},d=[],p=n("2455");function f(e){n("05f0")}var m=!1,h=f,g="data-v-7f2edb3c",_=null,b=Object(p["a"])(u,l,d,m,h,g,_),y=b.exports,v=n("8c4f");s["default"].use(v["a"]);var w=new v["a"]({routes:[{path:"/",name:"home",redirect:"/homepage",component:function(){return Promise.resolve().then(n.bind(null,"9261"))},children:[{path:"/homepage",name:"homepage",component:function(){return n.e("chunk-689183ac").then(n.bind(null,"5a72"))},params:{},props:!0},{path:"/coming-soon",name:"comingsoon",component:function(){return n.e("chunk-3251c492").then(n.bind(null,"7632"))},params:{},props:!0},{path:"/collaboration/workflow-orchestration",name:"flowManage",component:function(){return n.e("chunk-10cfb8be").then(n.bind(null,"45b3"))},props:!0},{path:"/admin/system-params",name:"systemParams",component:function(){return n.e("chunk-9e21c266").then(n.bind(null,"7112"))}},{path:"/admin/resources",name:"resources",component:function(){return n.e("chunk-d84ec71a").then(n.bind(null,"e1fd"))}},{path:"/admin/user-role-management",name:"userRoleManagement",component:function(){return n.e("chunk-664494f9").then(n.bind(null,"fc60"))}},{path:"/collaboration/plugin-management",name:"pluginManage",component:function(){return Promise.all([n.e("chunk-a9038c06"),n.e("chunk-4a26f7fa")]).then(n.bind(null,"1e21"))}},{path:"/implementation/workflow-execution",name:"workflowExecution",component:function(){return Promise.all([n.e("chunk-a9038c06"),n.e("chunk-302a80f1")]).then(n.bind(null,"4ca9"))}}]},{path:"/login",name:"login",component:function(){return n.e("chunk-94d300b4").then(n.bind(null,"c6f7"))},params:{},props:!0},{path:"/404",name:"404",component:function(){return n.e("chunk-16dff386").then(n.bind(null,"ee5d"))},params:{},props:!0}]}),k=w,O=n("f825"),S=n.n(O),j=(n("f8ce"),n("08a3")),T=n.n(j),x=n("3250"),C=n.n(x),I=n("198f"),R=n.n(I),P=n("247a"),D=n("54c7");s["default"].use(T.a),s["default"].locale("zh-CN",Object.assign(R.a,P)),s["default"].locale("en-US",Object.assign(C.a,D));var N=navigator.language,q=("zh-CN"===N||"en-US"===N)&&N,E=window.localStorage.getItem("lang")||q||"en-US";s["default"].config.lang=E;n("96cf");var A=n("3b8d"),$=n("aa22"),M=2,F={name:"WeSelect",props:{value:{},isMultiple:{default:function(){return!1}},isGroup:{default:function(){return!1}},options:{default:function(){return[]}},maxTags:{default:function(){return M}},filterParams:{}},data:function(){return{filterOpts:[]}},watch:{},computed:{opts:function(){return this.filterParams?this.filterOpts:this.options}},mounted:function(){},methods:{formatOptions:function(){},changeValue:function(e){this.$emit("input",e||null),this.$emit("change",e||null)},getFilterRulesOptions:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,i,o;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!t||!this.filterParams){e.next=15;break}return n=JSON.parse(JSON.stringify(this.filterParams.params)),delete n.isRowEditable,delete n.weTableForm,delete n.weTableRowId,delete n.isNewAddedRow,delete n.nextOperations,a={attrId:this.filterParams.attrId,params:{dialect:{data:n}}},e.next=10,Object($["ib"])(a);case 10:r=e.sent,i=r.data,o=r.status,r.message,"OK"===o&&(this.filterOpts=i.contents.filter(function(e){return"active"===e.status}).map(function(e){return{label:e.value,value:e.codeId}}));case 15:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},z=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.isGroup?n("Select",{attrs:{value:e.value,multiple:e.isMultiple,filterable:"",clearable:"","max-tag-count":e.maxTags},on:{"on-change":e.changeValue,"on-open-change":e.getFilterRulesOptions}},e._l(e.opts,function(t,a){return n("OptionGroup",{key:a,attrs:{label:t.label}},e._l(t.children,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)}),1):n("Select",{attrs:{value:e.value,multiple:e.isMultiple,filterable:"",clearable:""},on:{"on-change":e.changeValue,"on-open-change":e.getFilterRulesOptions}},e._l(e.opts,function(t){return n("Option",{key:t.value,attrs:{value:t.value}},[e._v(e._s(t.label))])}),1)],1)},V=[],L=!1,B=null,H=null,K=null,U=Object(p["a"])(F,z,V,L,B,H,K),W=U.exports,G=(n("20d6"),n("7f7f"),n("ab33"));function J(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?J(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):J(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var Q={name:"RefSelect",props:{value:{},highlightRow:{},ciType:{},filterParams:{}},watch:{value:{handler:function(e){this.selected=e},immediate:!0}},data:function(){return{payload:{filters:[],pageable:{pageSize:10,startIndex:0},paging:!0,sorting:{}},pagination:{pageSize:10,currentPage:1,total:0},visibleSwap:!1,tableData:[],allTableDataWithoutPaging:[],tableColumns:[],selected:[],tableValue:[],selectDisabled:!0}},mounted:function(){this.queryCiAttrs(this.ciType.id),this.getAllDataWithoutPaging()},methods:{getAllDataWithoutPaging:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(t=this.filterParams?JSON.parse(JSON.stringify(this.filterParams.params)):{},delete t.isRowEditable,delete t.weTableForm,delete t.weTableRowId,delete t.isNewAddedRow,delete t.nextOperations,!this.filterParams){e.next=12;break}return e.next=9,Object($["hb"])({attrId:this.filterParams.attrId,queryObject:{filters:[],paging:!1,dialect:{data:t}}});case 9:e.t0=e.sent,e.next=15;break;case 12:return e.next=14,Object($["eb"])({id:this.ciType.id,queryObject:{filters:[],paging:!1}});case 14:e.t0=e.sent;case 15:n=e.t0,"OK"===n.status&&(this.selectDisabled=!1,this.allTableDataWithoutPaging=this.filterParams?n.data.contents:n.data.contents.map(function(e){return e.data}));case 17:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSubmit:function(e){this.payload.filters=e,this.queryCiData()},pageChange:function(e){this.pagination.currentPage=e,this.queryCiData(),this.highlightRowHandler()},pageSizeChange:function(e){this.pagination.pageSize=e,this.queryCiData(),this.highlightRowHandler()},queryCiData:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(this.payload.pageable.pageSize=this.pagination.pageSize,this.payload.pageable.startIndex=(this.pagination.currentPage-1)*this.pagination.pageSize,t=this.filterParams?JSON.parse(JSON.stringify(this.filterParams.params)):{},delete t.isRowEditable,delete t.weTableForm,delete t.weTableRowId,delete t.isNewAddedRow,delete t.nextOperations,n={id:this.ciType.id,attrId:this.filterParams?this.filterParams.attrId:null,queryObject:this.filterParams?Y({},this.payload,{dialect:{data:t}}):this.payload},!this.filterParams){e.next=15;break}return e.next=12,Object($["hb"])(n);case 12:e.t0=e.sent,e.next=18;break;case 15:return e.next=17,Object($["eb"])(n);case 17:e.t0=e.sent;case 18:a=e.t0,r=a.status,a.message,i=a.data,"OK"===r&&(this.tableData=this.filterParams?i.contents:i.contents.map(function(e){return e.data}),this.pagination.total=i.pageInfo.totalRows);case 23:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),queryCiAttrs:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,i;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object($["u"])(t);case 2:n=e.sent,a=n.status,n.message,r=n.data,i=[],"OK"===a&&(i=r.filter(function(e){return"decommissioned"!==e.status&&"notCreated"!==e.status&&e.isDisplayed&&0!==e.isDisplayed}).map(function(e){return Y({},e,{title:e.description,key:e.propertyName,inputKey:e.propertyName,inputType:e.inputType,referenceId:e.referenceId,placeholder:e.description,ciType:{id:e.referenceId,name:e.name},isMultiple:"multiSelect"===e.inputType,component:"Input",type:"text"},G["a"][e.inputType])}),this.tableColumns=this.getSelectOptions(i));case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),getSelectOptions:function(e){return e.forEach(function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("select"!==t.inputType&&"multiSelect"!==t.inputType){e.next=8;break}return e.next=3,Object($["v"])(0,t.referenceId);case 3:n=e.sent,n.status,n.message,a=n.data,t["options"]=a.filter(function(e){return"active"===e.status}).map(function(e){return{label:e.code,value:e.codeId}});case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e},showRefModal:function(e){var t=this;e.preventDefault(),e.stopPropagation(),this.visibleSwap=!0,this.queryCiData(),this.$nextTick(function(){t.highlightRowHandler()})},highlightRowHandler:function(){var e=this;if(this.highlightRow){var t=this.tableData.findIndex(function(t){return t.guid===e.selected}),n=document.querySelectorAll(".modalTable tr");t>-1&&n[t+1].classList.add("ivu-table-row-highlight")}else{var a=this.$refs.refTable.$refs.table.$refs.tbody.objData;for(var r in a)a[r]._isChecked=!1;this.selected.forEach(function(t){var n=e.tableData.findIndex(function(e){return e.guid===t});a[n]._isChecked=!0})}},hideRefModal:function(e){e||(this.visibleSwap=!1)},getTableValue:function(e){this.tableValue=e},modalOk:function(){this.selected=this.highlightRow?this.tableValue.length>0?this.tableValue[0].guid:"":this.tableValue.map(function(e){return e.guid}),this.$emit("input",this.selected),this.visibleSwap=!1},selectChangeHandler:function(e){Array.isArray(e)?this.$emit("input",e):this.$emit("input",e||"")},getFilterRulesOptions:function(e){e&&(this.pagination.currentPage=1,this.getAllDataWithoutPaging())}},render:function(e){var t=this,n=this.allTableDataWithoutPaging.map(function(t){return e("Option",{attrs:{value:t.guid},key:t.guid},[t.key_name])});return e("div",{style:"width:100%"},[e("Select",{on:{input:function(e){return t.selected=e},"on-change":this.selectChangeHandler,"on-open-change":this.getFilterRulesOptions},attrs:{value:this.selected,multiple:!this.highlightRow,disabled:this.selectDisabled,filterable:!0,clearable:!0,"max-tag-count":2},style:"width:100%"},[e("span",{slot:"prefix",on:{click:function(e){return t.showRefModal(e)}}},["@"]),n]),e("Modal",{attrs:{title:this.ciType.name,value:this.visibleSwap,"footer-hide":!0,"mask-closable":!1,scrollable:!0,width:1300},on:{"on-visible-change":function(e){return t.hideRefModal(e)}}},[e("div",{class:"modalTable",style:"padding:20px;"},[this.visibleSwap&&e("WeTable",{attrs:{tableData:this.tableData,tableColumns:this.tableColumns,tableHeight:650,pagination:this.pagination,showCheckbox:!0,highlightRow:this.highlightRow,tableOuterActions:null,tableInnerActions:null,ascOptions:{}},on:{getSelectedRows:this.getTableValue,handleSubmit:this.handleSubmit,pageChange:this.pageChange,pageSizeChange:this.pageSizeChange},ref:"refTable"})]),e("div",{style:"text-align:right;margin-top:40px"},[e("span",{style:"margin-right:20px"},[e("Button",{attrs:{type:"info"},on:{click:this.modalOk}},["OK"])])])])])}},X=n("2638"),Z=n.n(X),ee=(n("6b54"),n("55dd"),n("7618")),te=(n("0973"),n("c1df")),ne=n.n(te);function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function re(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ie=5,oe="YYYY-MM-DD HH:mm:ss",se={name:"WeTable",props:{tableColumns:{default:function(){return[]},require:!0},tableData:{default:function(){return[]}},showCheckbox:{default:function(){return!0}},highlightRow:{default:function(){return!1}},isSortable:{default:function(){return!0}},filtersHidden:{default:function(){return!1}},tableOuterActions:{default:function(){return[]}},tableInnerActions:{default:function(){return[]}},pagination:{type:Object},ascOptions:{type:Object},isRefreshable:{default:function(){return!1}},isColumnsFilterOn:{default:function(){return!0}}},data:function(){return{form:{},selectedRows:[],data:[],isShowHiddenFilters:!1,showedColumns:[]}},mounted:function(){this.formatTableData(),this.showedColumns=this.tableColumns.map(function(e){return e.title})},watch:{tableData:function(e){this.formatTableData(),this.selectedRows=[]},tableColumns:{handler:function(e,t){var n=this;this.calColumn(),this.tableColumns.forEach(function(e){e.children?e.children.forEach(function(e){e.isNotFilterable||n.$set(n.form,e.inputKey,"")}):e.isNotFilterable||n.$set(n.form,e.inputKey,"")}),this.showedColumns=this.tableColumns.filter(function(e){return e.isDisplayed||e.displaySeqNo}).map(function(e){return e.title})},deep:!0,immediate:!0},ascOptions:{handler:function(e,t){this.calColumn()},deep:!0,immediate:!0}},computed:{},methods:{pushNewAddedRowToSelections:function(){this.selectedRows.push(this.data[0]),this.$emit("getSelectedRows",this.selectedRows,!0)},setAllRowsUneditable:function(){this.data.forEach(function(e){return e.isRowEditable=!1}),this.selectedRows=[]},setTableData:function(e){var t=this,n=Object.keys(this.data[0]);this.selectedRows.forEach(function(e){t.data.forEach(function(t){t.weTableRowId===e.weTableRowId&&n.forEach(function(n){"isRowEditable"!==n&&(t[n]=e[n])})})}),this.$nextTick(function(){t.setCheckoutStatus(e)})},setCheckoutStatus:function(e){var t=this,n=this.$refs.table.$refs.tbody.objData;for(var a in n)n[a]._isChecked=!1,n[a]._isDisabled=!1;this.selectedRows.forEach(function(a){var r=t.data.findIndex(function(e){return e.weTableRowId===a.weTableRowId});n[r]._isChecked=!0,n[r]._isDisabled=e})},rowCancelHandler:function(e){var t=this,n=this.selectedRows.findIndex(function(t){return t.weTableRowId===e});this.selectedRows.splice(n,1),this.data.forEach(function(t){t.weTableRowId===e&&(t.isRowEditable=!1)}),this.$nextTick(function(){return t.setCheckoutStatus(!0)}),this.$emit("getSelectedRows",this.selectedRows,!0)},swapRowEditable:function(e){var t=this;this.selectedRows.forEach(function(n){t.data.forEach(function(t){t.weTableRowId===n.weTableRowId&&(t.isRowEditable=e)})})},formatTableData:function(){var e=this;this.data=this.tableData.map(function(e,t){return re({},e,{weTableRowId:t+1,isRowEditable:!(!e.isRowEditable||0!==t)&&e.isRowEditable,weTableForm:re({},e)})}),this.data.forEach(function(t){var n=function(n){if("object"!==Object(ee["a"])(t["weTableForm"][n])||null===t["weTableForm"][n]||Array.isArray(t["weTableForm"][n])){if(Array.isArray(t["weTableForm"][n])&&"nextOperations"!==n){t["weTableForm"][n]=t["weTableForm"][n];var a=e.tableColumns.find(function(e){return e.inputKey===n});a&&"multiSelect"===a.inputType&&(t[n]=t["weTableForm"][n].map(function(e){return e.codeId})),a&&"multiRef"===a.inputType&&(t[n]=t["weTableForm"][n].map(function(e){return e.guid}))}}else t[n]=t["weTableForm"][n].codeId||t["weTableForm"][n].guid,t["weTableForm"][n]=t["weTableForm"][n].value||t["weTableForm"][n].key_name||t["weTableForm"][n].name;if(e.isRefreshable){var r=e.tableColumns.find(function(e){return e.inputKey===n});r&&r.isRefreshable&&(t[n]=null)}};for(var a in t["weTableForm"])n(a)})},handleSubmit:function(e){var t=this,n=function(e,n){switch(e){case"text":case"textArea":a.push({name:n,operator:"contains",value:t.form[n]});break;case"select":case"ref":a.push({name:n,operator:"eq",value:t.form[n]});break;case"date":""!==t.form[n][0]&&""!==t.form[n][1]&&(a.push({name:n,operator:"gt",value:ne()(t.form[n][0]).format(oe)}),a.push({name:n,operator:"lt",value:ne()(t.form[n][1]).format(oe)}));break;case"multiSelect":case"multiRef":a.push({name:n,operator:"in",value:t.form[n]});break;default:a.push({name:n,operator:"contains",value:t.form[n]});break}},a=[],r=function(e){t.form[e]&&""!==t.form[e]&&0!==t.form[e]&&t.tableColumns.filter(function(e){return e.searchSeqNo||e.children}).forEach(function(t){t.children?t.children.forEach(function(t){e===t.inputKey&&n(t.inputType,e)}):e===t.inputKey&&n(t.inputType,e)})};for(var i in this.form)r(i);this.$emit("handleSubmit",a)},reset:function(e){var t=this;this.tableColumns.forEach(function(e){e.children?e.children.forEach(function(e){e.isNotFilterable||(t.form[e.inputKey]="")}):e.isNotFilterable||(t.form[e.inputKey]="")})},getTableOuterActions:function(){var e=this,t=this.$createElement;if(this.tableOuterActions){this.isColumnsFilterOn&&this.tableOuterActions.forEach(function(e){"filterColumns"===e.actionType&&(e.props.disabled=!1)});var n=this.tableColumns.filter(function(e){return e.isDisplayed||e.displaySeqNo}).map(function(e){return e.title});return this.tableOuterActions.map(function(a){return"filterColumns"===a.actionType?t("Poptip",{attrs:{placement:"bottom"},style:"float: right;margin-right: 10px"},[t("Tooltip",{attrs:{content:e.$t("filter_columns"),placement:"top"}},[t("Button",Z()([{},a]))]),t("CheckboxGroup",{slot:"content",attrs:{value:e.showedColumns},on:{input:function(t){e.showedColumns=t,e.calColumn()}},style:"display: grid;"},[n.map(function(e){return t("Checkbox",{attrs:{label:e}},[t("span",[e])])})])]):t("Button",Z()([{style:"margin-right: 10px"},a,{on:{click:function(){e.$emit("actionFun",a.actionType,e.selectedRows)}}}]),[a.label])})}},renderFormItem:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=this.$createElement;if(!e.isNotFilterable){var r={props:re({},e),style:{width:"100%"}},i=function(e){switch(e.component){case"WeSelect":return a(e.component,Z()([{on:{input:function(n){return t.form[e.inputKey]=n},change:function(n){return e.onChange&&t.$emit(e.onChange,n)}},attrs:{value:t.form[e.inputKey],filterable:!0,clearable:!0}},r,{attrs:{options:e.optionKey?t.ascOptions[t.form[e.optionKey]]:e.options}}]));case"RefSelect":return a(e.component,Z()([{on:{input:function(n){return t.form[e.inputKey]=n}},attrs:{value:t.form[e.inputKey]}},r]));default:return a(e.component,Z()([{attrs:{value:t.form[e.inputKey]},on:{input:function(n){return t.form[e.inputKey]=n}}},r]))}};return a("Col",{attrs:{span:e.span||3},class:n<ie?"":this.isShowHiddenFilters?"hidden-filters-show":"hidden-filters"},[a("FormItem",{attrs:{label:e.title,prop:e.inputKey},key:e.inputKey},[i(e)])])}},getFormFilters:function(){var e=this,t=this.$createElement,n=function(e,t){return e.searchSeqNo<t.searchSeqNo?-1:e.searchSeqNo>t.searchSeqNo?1:0};return t("Form",{ref:"form",attrs:{"label-position":"top",inline:!0}},[t("Row",[this.tableColumns.filter(function(e){return!!e.children||!!e.searchSeqNo}).sort(n).map(function(a,r){return a.children?t("Row",[t("Col",{attrs:{span:3}},[t("strong",[a.title])]),t("Col",{attrs:{span:21}},[a.children.filter(function(e){return!!e.searchSeqNo}).sort(n).map(function(t){return e.renderFormItem(t)})])]):e.renderFormItem(a,r)}),t("Col",{attrs:{span:6}},[t("div",{style:"display: flex; margin-bottom: 20px"},[this.tableColumns.filter(function(e){return!!e.searchSeqNo}).sort(n).length>ie&&(this.isShowHiddenFilters?t("FormItem",{style:"position: relative; bottom: -22px;"},[t("Button",{attrs:{type:"info",ghost:!0,shape:"circle",icon:"ios-arrow-up"},on:{click:function(){e.isShowHiddenFilters=!1}}},[this.$t("less_filters")])]):t("FormItem",{style:"position: relative; bottom: -22px;"},[t("Button",{attrs:{type:"info",ghost:!0,shape:"circle",icon:"ios-arrow-down"},on:{click:function(){e.isShowHiddenFilters=!0}}},[this.$t("more_filters")])])),t("FormItem",{style:"position: relative; bottom: -22px;"},[t("Button",{attrs:{type:"primary",icon:"ios-search"},on:{click:function(){return e.handleSubmit("form")}}},[this.$t("search")])]),t("FormItem",{style:"position: relative; bottom: -22px;"},[t("Button",{attrs:{icon:"md-refresh"},on:{click:function(){return e.reset("form")}}},[this.$t("reset")])])])])])])},onCheckboxSelect:function(e){this.selectedRows=e,this.$emit("getSelectedRows",e,!1)},onRadioSelect:function(e,t){this.$emit("getSelectedRows",[e],!1)},cancelSelected:function(){this.$refs["table"].selectAll(!1),this.selectedRows=[]},sortHandler:function(e){this.$emit("sortHandler",e)},export:function(e){this.$refs.table.exportCsv({filename:e.filename,columns:this.columns,data:e.data})},calColumn:function(){var e=this,t=(this.$createElement,function(e,t){return e.displaySeqNo<t.displaySeqNo?-1:e.displaySeqNo>t.displaySeqNo?1:0});this.columns=this.tableColumns.filter(function(e){return e.isDisplayed||e.displaySeqNo||e.children}).sort(t).map(function(n){return n.children?re({},n,{children:n.children.filter(function(e){return e.isDisplayed||e.displaySeqNo}).sort(t).map(function(t){return e.renderCol(t)})}):e.renderCol(n)}),this.showCheckbox&&!this.highlightRow&&this.columns.unshift({type:"selection",width:60,align:"center",fixed:"left"}),this.tableInnerActions&&this.columns.push({title:this.$t("actions"),fixed:"right",key:"actions",maxWidth:500,minWidth:200,render:function(t,n){return t("div",[e.tableInnerActions.map(function(a){if(!a.visible||("nextOperations"===a.visible.key?n.row[a.visible.key].find(function(e){return e===a.actionType})&&a.visible.value===!n.row["isRowEditable"]:a.visible.value===!!n.row[a.visible.key]))return t("Button",{props:re({},re({},a.props)),style:"marginRight: 5px",on:{click:function(){e.$emit("actionFun",a.actionType,n.row)}}},[a.label])})])}}),this.isColumnsFilterOn&&(this.columns=this.columns.filter(function(t){return"selection"===t.type||"actions"===t.key||!!e.showedColumns.find(function(e){return e===t.title})}))},renderCol:function(e){var t=this,n=(this.$createElement,function(e,n,a,r){e.selectedRows.forEach(function(e){e.weTableRowId===r.row.weTableRowId&&(e[a.inputKey]=n)}),t.$emit("getSelectedRows",e.selectedRows,!0)});return re({},e,{tooltip:!0,minWidth:130,sortable:!!this.isSortable&&"custom",render:function(a,r){if(!r.row.isRowEditable||r.column.disEditor&&!r.row.isNewAddedRow||r.column.disAdded){var i="";Array.isArray(r.row.weTableForm[e.key])?("multiSelect"===r.column.inputType&&(i=r.row.weTableForm[e.key].map(function(e){return e.value}).toString()),"multiRef"===r.column.inputType&&(i=r.row.weTableForm[e.key].map(function(e){return e.key_name}).toString())):i=r.row.weTableForm[e.key];var o=i?i.toString().length:0,s={props:{disabled:o<10,content:i,"min-width":"130px","max-width":"500px"}};return a("Tooltip",Z()([{},s]),[a("div",{class:"ivu-table-cell-tooltip ivu-tooltip"},[a("div",{class:"ivu-tooltip-rel"},[a("span",{class:"ivu-table-cell-tooltip-content"},[i," ","orchestration"===r.column.propertyName&&"workflowExecution"===t.$route.name&&a("orchestration",{on:{handleSubmit:t.handleSubmit},attrs:{col:r.column,row:r.row}})])])])])}var c=t,u="WeSelect"===r.column.component?{value:r.column.isRefreshable?"multiSelect"===r.column.inputType?[]:"":"multiSelect"===r.column.inputType?Array.isArray(r.row[e.inputKey])?r.row[e.inputKey]:"":r.row[e.inputKey],filterParams:r.column.filterRule?{attrId:r.column.ciTypeAttrId,params:r.row}:null,isMultiple:r.column.isMultiple,options:r.column.optionKey?c.ascOptions[r.row[e.optionKey]]:r.column.options}:re({value:r.column.isRefreshable?"":"multiRef"===r.column.inputType?Array.isArray(r.row[e.inputKey])?r.row[e.inputKey]:"":r.row[e.inputKey]||"",filterParams:r.column.filterRule?{attrId:r.column.ciTypeAttrId,params:r.row}:null,ciType:"refSelect"===r.column.component?r.column.ciType:null},r.column,{type:"DatePicker"===r.column.component?"date":r.column.type,guid:r.row.guid?r.row.guid:"123"}),l="DatePicker"===r.column.component?{"on-change":function(t){n(c,t,e,r)}}:{input:function(t){n(c,t,e,r)}},d={props:u,on:l};return a(r.column.component,Z()([{},d]))}})}},render:function(e){var t=this,n=this.data,a=this.columns,r=this.pagination,i=this.highlightRow,o=this.filtersHidden;return e("div",[!o&&e("div",[this.getFormFilters()]),e("Row",{style:"margin-bottom:10px"},[this.getTableOuterActions()]),e("Table",{ref:"table",attrs:{border:!0,data:n,columns:a,"highlight-row":i,size:"small"},on:{"on-selection-change":this.onCheckboxSelect,"on-current-change":this.onRadioSelect,"on-sort-change":this.sortHandler}}),r&&e("Page",{attrs:{total:r.total,"page-size":r.pageSize,current:r.currentPage,"show-elevator":!0,"show-sizer":!0,"show-total":!0},on:{"on-change":function(e){return t.$emit("pageChange",e)},"on-page-size-change":function(e){return t.$emit("pageSizeChange",e)}},style:"float: right; margin: 10px 0;"})])}},ce={props:{data:Array,columns:Array,page:{type:Object,default:function(){return{currentPage:1,pageSize:5,total:0}}},pageSizeOptions:{type:Array,default:function(){return[5,10,20]}},loading:{default:!1,required:!1}},methods:{onChange:function(e){this.$emit("pageChange",e)},onPageSizeChange:function(e){this.$emit("pageSizeChange",e)},onRowClick:function(e){this.$emit("rowClick",e)}}},ue=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Table",{attrs:{data:e.data,columns:e.columns,loading:e.loading},on:{"on-row-click":e.onRowClick}}),e._v(" "),n("Page",{staticStyle:{float:"right",margin:"10px 0"},attrs:{current:e.page.currentPage,"page-size":e.page.pageSize,"page-size-opts":e.pageSizeOptions,total:e.page.total,"show-elevator":"","show-sizer":"","show-total":""},on:{"on-change":e.onChange,"on-page-size-change":e.onPageSizeChange}})],1)},le=[];function de(e){n("b849")}var pe=!1,fe=de,me="data-v-41d6dfd1",he=null,ge=Object(p["a"])(ce,ue,le,pe,fe,me,he),_e=ge.exports;n("28a5");function be(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ye(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?be(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):be(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var ve={data:function(){return{optionsHide:!1,isRefFromParent:null,allCi:[],options:[],inputVal:"",inputValBackup:"",routine:[]}},computed:{displayValue:function(){var e=this;if(this.sourceData){var t=JSON.parse(this.sourceData);return t.map(function(t){var n="",a="",r="";return n=e.ciTypesObj[t.ciTypeId].name,t.parentRs&&(r=1===t.parentRs.isReferedFromParent?".":"-",a="(".concat(e.ciTypeAttributeObj[t.parentRs.attrId].name,")"),"ref"!==e.ciTypeAttributeObj[t.parentRs.attrId].inputType)?(a=e.ciTypeAttributeObj[t.parentRs.attrId].name,r+a):r+a+n}).join(" ")}}},props:{value:{required:!1},rootCiType:{default:""},allCiTypes:{type:Array},cmdbColumnSource:{default:""},canReSelectCiType:{default:!1,required:!1},isReadOnly:{default:!1,required:!1},ciTypesObj:{default:null,required:!1},ciTypeAttributeObj:{default:null,required:!1},sourceData:{type:String,required:!1},isEndWithCIType:{type:Boolean,default:!1,required:!1}},watch:{cmdbColumnSource:function(e){this.restoreOpeation()},ciTypeAttributeObj:function(e){this.restoreOpeation()},rootCiType:function(e){if(e){if(this.routine=[],e){var t=this.allCi.find(function(t){return t.ciTypeId===e});this.routine.push({ciTypeId:t.ciTypeId,ciTypeName:t.name}),this.inputVal=t.name+" "}this.$emit("input",this.getValue(this.routine)),this.$emit("change",this.getValue(this.routine))}},allCiTypes:function(e){this.formatAllCiType()},routine:function(e){this.$emit("updateRoutine",this.getValue(e).cmdbColumnCriteria.routine);var t=e[e.length-1].ciTypeAttrId;t&&("ref"===this.ciTypeAttributeObj[t].inputType||"multiRef"===this.ciTypeAttributeObj[t].inputType?!this.isEndWithCIType&&this.$refs["wecube_cmdb_attr"].classList.add("wecube-error"):this.$refs["wecube_cmdb_attr"].classList.remove("wecube-error"))}},methods:{restoreOpeation:function(){var e=this;if(this.cmdbColumnSource&&this.ciTypeAttributeObj){this.routine=JSON.parse(this.cmdbColumnSource);var t=this.ciTypesObj[this.routine[0].ciTypeId].name+" ";this.routine.forEach(function(n,a){if(a>0){var r=1===n.isReferedFromParent?".":"-",i=e.ciTypeAttributeObj[n.ciTypeAttrId].name,o=e.ciTypesObj[n.ciTypeId].name,s="ref"===e.ciTypeAttributeObj[n.ciTypeAttrId].inputType?"(".concat(i,")").concat(o," "):i+" ";t=t+r+s}}),this.inputVal=t,this.$emit("input",this.getValue(this.routine)),this.$emit("change",this.getValue(this.routine))}else if(this.rootCiType){var n=this.allCi.find(function(t){return t.ciTypeId===e.rootCiType});this.routine.push({ciTypeId:n.ciTypeId,ciTypeName:n.name}),this.inputVal=n.name+" ",this.$emit("input",this.getValue(this.routine)),this.$emit("change",this.getValue(this.routine))}},getNextRef:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(t){var n,a,r,i,o,s,c,u,l,d,p,f,m=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=this.routine[this.routine.length-1],a=!n.isReferedFromParent||"ref"===this.ciTypeAttributeObj[n.ciTypeAttrId].inputType,!a){e.next=22;break}if(r=this.routine[this.routine.length-1].ciTypeId,"."!==t){e.next=13;break}return this.inputVal=this.inputVal+t,e.next=8,Object($["t"])(r);case 8:i=e.sent,o=i.status,s=i.data,c=i.message,"OK"===o?(u=[],s.forEach(function(e){"created"===e.status&&u.push(ye({},e,{ciTypeName:"ref"===e.inputType?m.allCi.find(function(t){return t.ciTypeId===e.referenceId}).name:m.allCi.find(function(t){return t.ciTypeId===e.ciTypeId}).name,ciTypeAttrName:e.name,isReferedFromParent:1,id:"ref"===e.inputType?e.referenceId:e.ciTypeId}))}),this.options=this.isEndWithCIType?u.filter(function(e){return"ref"===e.inputType||"multiRef"===e.inputType}):u):this.$Message.error({content:c});case 13:if("-"!==t){e.next=22;break}return this.inputVal=this.inputVal+t,e.next=17,Object($["O"])(r);case 17:l=e.sent,d=l.status,p=l.data,f=l.message,"OK"===d?this.options=p.map(function(e){var t=m.allCi.find(function(t){return t.ciTypeId===e.ciTypeId});return ye({},e,{ciTypeName:t?t.name:"",ciTypeAttrName:e.name,ciTypeAttrId:e.ciTypeAttrId,isReferedFromParent:0,id:e.ciTypeId})}):this.$Message.error({content:f});case 22:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),formatAllCiType:function(){var e=this;this.allCiTypes.forEach(function(t){e.allCi=e.allCi.concat(t.ciTypes?Object(r["a"])(t.ciTypes):[])})},inputHandler:function(e){if(!e.data){var t=this.inputVal.split(" "),n="";return t.length>2?(t.splice(-2,2),t.forEach(function(e){n+=e+" "}),this.inputVal=n,this.routine.splice(-1,1),this.$emit("input",this.getValue(this.routine)),this.$emit("change",this.getValue(this.routine))):t.length<=2&&this.canReSelectCiType&&(this.inputVal="",this.routine=[],this.$emit("input",this.getValue(this.routine)),this.$emit("change",this.getValue(this.routine)),this.$emit("handleRootCiTypeChange","")),void(this.$refs.textarea.value=this.inputVal)}"."!==e.data&&"-"!==e.data?(this.$Message.error({content:this.$t("input_correct_operator")}),this.$refs.textarea.value=this.inputVal):("."!==this.inputVal[this.inputVal.length-1]&&"-"!==this.inputVal[this.inputVal.length-1]||(this.inputVal=this.inputVal.substr(0,this.inputVal.length-1)),this.routine.length>0&&this.getNextRef(e.data),this.optionsHide=!0)},optClickHandler:function(e){this.optionsHide=!1;var t="ref"===e.inputType?"(".concat(e.ciTypeAttrName,")").concat(e.ciTypeName," "):e.ciTypeAttrName+" ";this.inputVal=this.inputVal+t,this.inputValBackup=this.inputVal;"ref"===e.inputType?e.referenceId:e.ciTypeId;this.routine.push(ye({},e,{ciTypeId:e.id,ciTypeName:this.allCi.find(function(t){return t.ciTypeId===e.id}).name})),this.options=[],this.$refs["textarea"].focus(),this.$emit("input",this.getValue(this.routine)),this.$emit("change",this.getValue(this.routine))},getValue:function(e){var t={cmdbColumnCriteria:{routine:[],attribute:{attrId:"",isCondition:!0,isDiaplayed:!0}},cmdbColumnSource:[]};return e.forEach(function(e,n){0===n?(t.cmdbColumnSource.push({ciTypeId:e.ciTypeId}),t.cmdbColumnCriteria.routine.push({ciTypeId:e.ciTypeId})):(t.cmdbColumnCriteria.routine.push({ciTypeId:e.ciTypeId,parentRs:{attrId:e.ciTypeAttrId,isReferedFromParent:e.isReferedFromParent}}),t.cmdbColumnCriteria.attribute.attrId=e.ciTypeAttrId,t.cmdbColumnSource.push({ciTypeId:e.ciTypeId,ciTypeAttrId:e.ciTypeAttrId,isReferedFromParent:e.isReferedFromParent}))}),t},blurHandler:function(){this.optionsHide=!1},rootCiTypeChange:function(e){this.$emit("handleRootCiTypeChange",e.ciTypeId),this.optionsHide=!1}},mounted:function(){this.formatAllCiType(),this.restoreOpeation(),document.querySelector(".attr-ul")&&(document.querySelector(".attr-ul").style.width=document.querySelector(".input_in textarea").clientWidth+"px")}},we=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"attr_input"},[e.isReadOnly?n("span",[e._v(e._s(e.displayValue))]):n("Poptip",{attrs:{placement:"bottom"},model:{value:e.optionsHide,callback:function(t){e.optionsHide=t},expression:"optionsHide"}},[n("div",{ref:"wecube_cmdb_attr",staticClass:"input_in"},[n("textarea",{ref:"textarea",attrs:{rows:1.5},domProps:{value:e.inputVal},on:{input:e.inputHandler}}),e._v(" "),e.isEndWithCIType?e._e():n("span",{staticClass:"wecube-error-message"},[e._v(e._s(e.$t("select_non_ci_attr")))])]),e._v(" "),n("div",{attrs:{slot:"content"},slot:"content"},[e.rootCiType?n("div",{staticClass:"attr-ul"},e._l(e.options,function(t){return n("ul",{key:t.attrId},[n("li",{on:{click:function(n){return e.optClickHandler(t)}}},[e._v("\n            "+e._s("ref"===t.inputType?"( "+t.ciTypeAttrName+" ) "+t.ciTypeName:t.ciTypeAttrName)+"\n          ")])])}),0):n("div",{staticClass:"attr-ul"},e._l(e.allCi,function(t){return n("ul",{key:t.ciTypeId},[n("li",{on:{click:function(){return e.rootCiTypeChange(t)}}},[e._v(e._s(t.name))])])}),0)])])],1)},ke=[];function Oe(e){n("f028")}var Se=!1,je=Oe,Te=null,xe=null,Ce=Object(p["a"])(ve,we,ke,Se,je,Te,xe),Ie=Ce.exports,Re=(n("a481"),n("fbdb")),Pe=n.n(Re);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qe={name:"sequenceDiagram",data:function(){return{sequenceData:[],selectedSequences:[],selectedSequenceData:[],sequenceVisiable:!1,graphString:"sequenceDiagram \n A->>B"}},props:{guid:{},value:{default:[]}},watch:{sequenceData:{handler:function(e){e.length>0&&this.displaySequence()}}},mounted:function(){this.getSequenceData()},methods:{displaySequence:function(){this.value&&(this.selectedSequences=this.value,this.selectChangeHandler(this.value))},moveUpSequence:function(e){var t=this.selectedSequenceData.map(function(e){return e.guid}).indexOf(e);if(this.selectedSequenceData[t-1]){var n=JSON.parse(JSON.stringify(this.selectedSequenceData));n[t]=this.selectedSequenceData[t-1],n[t-1]=this.selectedSequenceData[t],this.selectedSequenceData=n,this.initSequenceGraph(),this.$emit("input",this.selectedSequenceData.map(function(e){return e.guid}))}else this.$Notice.warning({title:"Warning",desc:this.$t("already_first_floor")})},moveDownSequence:function(e){var t=this.selectedSequenceData.map(function(e){return e.guid}).indexOf(e);if(this.selectedSequenceData[t+1]){var n=JSON.parse(JSON.stringify(this.selectedSequenceData));n[t]=this.selectedSequenceData[t+1],n[t+1]=this.selectedSequenceData[t],this.selectedSequenceData=n,this.initSequenceGraph(),this.$emit("input",this.selectedSequenceData.map(function(e){return e.guid}))}else this.$Notice.warning({title:"Warning",desc:this.$t("already_last_floor")})},initSequenceGraph:function(){var e=this;this.graphString="sequenceDiagram \n";var t=["sequenceDiagram"];this.selectedSequenceData.length>0&&(this.selectedSequenceData.forEach(function(e,n){t.push("".concat(e.unit_design.key_name.replace(/-/g,"&"),"->>").concat(e.service_design.key_name.replace("-".concat(e.service_design.code),"").replace(/-/g,"&"),":").concat(n+1," : ").concat(0===e.description.length?"":e.description))}),this.graphString=t.toString().replace(/,/g," \n"));var n=document.querySelector("#abc".concat(this.guid));n.removeAttribute("data-processed"),n.innerHTML=this.graphString,Pe.a.parse(this.graphString),Pe.a.init(void 0,n),this.$nextTick(function(){e.replaceSvgContentHandler()})},replaceSvgContentHandler:function(){var e=document.querySelectorAll("g text tspan");e.forEach(function(e){var t=e.innerHTML;e.innerHTML=t.replace(/&amp;/g,"-")})},showSequence:function(){var e=this;this.sequenceVisiable=!0,this.$nextTick(function(){e.initSequenceGraph()})},selectChangeHandler:function(e){var t=this;this.selectedSequenceData=e.map(function(e){var n=t.sequenceData.find(function(t){return t.guid===e});if(n)return n}),this.initSequenceGraph(),this.$emit("input",e)},visibleChangeHandler:function(e){this.sequenceVisiable=e},getSequenceData:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={id:5,queryObject:{filters:[],pageable:{pageSize:10,startIndex:0},paging:!1,sorting:{}}},e.next=3,Object($["eb"])(t);case 3:n=e.sent,a=n.data,r=n.status,n.message,"OK"===r&&(this.sequenceData=a.contents.map(function(e){return Ne({},e.data)}));case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()}},Ee=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Button",{attrs:{size:"small",type:"info"},on:{click:e.showSequence}},[e._v(e._s(e.$t("select_sequence")))]),e._v(" "),n("Modal",{attrs:{width:"90","footer-hide":!0,"mask-closable":!1,title:e.$t("sequence_design")},on:{"on-visible-change":e.visibleChangeHandler},model:{value:e.sequenceVisiable,callback:function(t){e.sequenceVisiable=t},expression:"sequenceVisiable"}},[n("Row",[n("Col",{attrs:{span:"17"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("sequence_graph")))]),e._v(" "),n("div",{attrs:{id:"abc"+e.guid}})])],1),e._v(" "),n("Col",{staticStyle:{padding:"0 0 0 20px"},attrs:{span:"7"}},[n("Card",[n("p",{attrs:{slot:"title"},slot:"title"},[e._v(e._s(e.$t("sequence_steps")))]),e._v(" "),n("Row",[n("Col",{attrs:{span:"7"}},[n("span",[e._v(e._s(e.$t("select_sequence_steps")))])]),e._v(" "),n("Col",{attrs:{span:"16"}},[n("Select",{attrs:{multiple:"",filterable:"","max-tag-count":1,clearabled:""},on:{"on-change":e.selectChangeHandler},model:{value:e.selectedSequences,callback:function(t){e.selectedSequences=t},expression:"selectedSequences"}},e._l(e.sequenceData,function(e){return n("Option",{key:e.guid,attrs:{label:e.key_name,value:e.guid}})}),1)],1)],1),e._v(" "),e._l(e.selectedSequenceData,function(t){return n("p",{key:t.guid,staticStyle:{display:"flex","margin-top":"5px",border:"1px dashed gray","border-radius":"5px",padding:"0 10px"}},[n("span",{staticClass:"sequence_name",attrs:{title:t.key_name}},[e._v(e._s(t.key_name))]),e._v(" "),n("Button",{attrs:{size:"small",icon:"md-arrow-round-up"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.moveUpSequence(t.guid)}}}),e._v(" "),n("Button",{attrs:{size:"small",icon:"md-arrow-round-down"},on:{click:function(n){return n.stopPropagation(),n.preventDefault(),e.moveDownSequence(t.guid)}}})],1)})],2)],1)],1)],1)],1)},Ae=[];function $e(e){n("2e5d8")}var Me=!1,Fe=$e,ze=null,Ve=null,Le=Object(p["a"])(qe,Ee,Ae,Me,Fe,ze,Ve),Be=Le.exports,He={name:"orchestration",data:function(){return{orchestrationVisiable:!1,allOrchestration:[],selectedOrchestration:""}},props:{row:{},col:{}},mounted:function(){this.getAllOrchestration()},methods:{getAllOrchestration:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,n,a;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object($["v"])(0,this.col.referenceId);case 2:t=e.sent,n=t.data,t.message,a=t.status,"OK"===a&&(this.allOrchestration=n.map(function(e){return{label:e.value,codeId:e.codeId}}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),saveOrchestration:function(){var e=Object(A["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return t={id:this.row.citypeId,updateData:[{guid:this.row.guid,orchestration:this.selectedOrchestration?this.selectedOrchestration:null}]},e.next=3,Object($["xb"])(t);case 3:n=e.sent,a=n.status,n.data,r=n.message,"OK"===a&&(this.$Notice.success({title:"Success",desc:r}),this.$emit("handleSubmit"));case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),visibleChangeHandler:function(e){this.orchestrationVisiable=e},showOrchestration:function(){this.orchestrationVisiable=!0,this.selectedOrchestration=this.row.orchestration||""}}},Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{display:"inline-block",float:"right"}},[n("Button",{attrs:{size:"small",shape:"circle",type:"primary",icon:"ios-build-outline"},on:{click:e.showOrchestration}}),e._v(" "),n("Modal",{attrs:{width:"300","mask-closable":!1,title:e.$t("select_flow")},on:{"on-visible-change":e.visibleChangeHandler,"on-cancel":function(e){},"on-ok":e.saveOrchestration},model:{value:e.orchestrationVisiable,callback:function(t){e.orchestrationVisiable=t},expression:"orchestrationVisiable"}},[n("Select",{attrs:{filterable:"",clearable:""},model:{value:e.selectedOrchestration,callback:function(t){e.selectedOrchestration=t},expression:"selectedOrchestration"}},e._l(e.allOrchestration,function(e){return n("Option",{key:e.codeId,attrs:{label:e.label,value:e.codeId}})}),1)],1)],1)},Ue=[],We=!1,Ge=null,Je=null,Ye=null,Qe=Object(p["a"])(He,Ke,Ue,We,Ge,Je,Ye),Xe=Qe.exports,Ze=n("9261"),et=n("a417");function tt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function nt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?tt(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}s["default"].component("WeSelect",W),s["default"].component("RefSelect",Q),s["default"].component("WeTable",se),s["default"].component("SimpleTable",_e),s["default"].component("AttrInput",Ie),s["default"].component("sequenceDiagram",Be),s["default"].component("orchestration",Xe),s["default"].config.productionTip=!1,s["default"].use(S.a,{transfer:!0,size:"default",VueI18n:T.a,locale:C.a}),s["default"].use(c["a"]),window.request=et["a"],window.needReLoad=!0,window.routers=[];var at=function(){function e(){Object(i["a"])(this,e),this.handles={}}return Object(o["a"])(e,[{key:"on",value:function(e,t){return this.handles.hasOwnProperty(e)||(this.handles[e]=[]),"function"==typeof t&&this.handles[e].push(t),this}},{key:"emit",value:function(e,t){return this.handles.hasOwnProperty(e)&&this.handles[e].forEach(function(e,n,a){e.apply(null,t)}),this}}]),e}(),rt=new at;rt.on("change",function(e){window.location.href=window.location.origin+"/#"+e}),window.addRoutes=function(e,t){console.log(e,t),window.routers=window.routers.concat(e),st(e),k.addRoutes([{path:"/",name:t,redirect:"/homepage",component:Ze["default"],children:e}]),window.sessionStorage.currentPath&&rt.emit("change",[window.sessionStorage.currentPath])},window.component=function(e,t){s["default"].component(e,t)},window.use=function(e,t){s["default"].use(e,t)};var it=function(e,t){var n;return window.routers.concat(e).forEach(function(e){e.children&&e.children.forEach(function(e){e.path!==t&&e.redirect!==t||(n=!0)}),e.path!==t&&e.redirect!==t||(n=!0),t.includes(e.path)&&"/"!==e.path&&(n=!0)}),n},ot=[],st=function(e){if(window.myMenus){var t,n=(t=[]).concat.apply(t,Object(r["a"])(window.myMenus.map(function(e){return e.submenus})));n.forEach(function(t){var n=e.find(function(e){return e.path===t.link||e.redirect===t.link});n&&n.children&&n.children.forEach(function(e){ot.push({link:"".concat(n.path,"/").concat(e.path)})})})}};k.beforeEach(function(e,t,n){var a=it(k.options.routes,e.path);if(a)if(window.myMenus){var i,o=(i=[]).concat.apply(i,Object(r["a"])(window.myMenus.map(function(e){return e.submenus})).concat([ot])).find(function(t){return t.link===e.path});console.log(o),o||"/404"===e.path||"/login"===e.path||"/homepage"===e.path?(window.sessionStorage.setItem("currentPath","/404"===e.path?"/homepage":e.path),n()):n("/404")}else n();else window.location.href=window.location.origin+"#/homepage",n("/homepage")});var ct=new s["default"]({router:k,render:function(e){return e(y)}});window.vm=ct,window.locale=function(e,t){var n=ct._$lang.locales[e],a={};n&&(a=nt({},n,{},t),ct._$lang.locales[e]=a)},window.addOptions=function(e){Object.keys(e).forEach(function(t){ct.__proto__[t]=e[t]})},ct.$mount("#wecube_app")},"57ba":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"*{padding:0;margin:0;list-style:none;font-size:14px}.attr-ul{z-index:3000;background:#fff;max-height:200px;overflow:auto}.attr-ul,.attr_input .ivu-poptip,.attr_input .ivu-poptip .ivu-poptip-rel,.input_in{width:100%}.input_in{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column}.input_in textarea{font-size:11px;line-height:28px;width:100%;border-radius:5px}.input_in .wecube-error-message{display:none}.input_in.wecube-error textarea{border:1px solid red}.input_in.wecube-error .wecube-error-message{display:block;height:20px;line-height:16px;color:red;padding:2px 0;font-size:12px}.attr-ul ul{width:100%;border-radius:3px}.ul-li-selected{color:#0682e7}.attr-ul ul li{width:100%;height:25px;line-height:25px;cursor:pointer}.attr-ul ul li:hover{background-color:#e3e7eb}",""])},"75bd":function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".sequence_name{display:inline-block;width:85%;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;line-height:30px;height:30px}",""])},9261:function(e,t,n){"use strict";n.r(t);n("ac6a"),n("b54a");var a=n("75fc"),r=(n("7514"),n("8e6e"),n("456d"),n("bd86")),i=(n("96cf"),n("3b8d")),o=n("a026"),s=n("aa22"),c=n("2ce2");function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(n,!0).forEach(function(t){Object(r["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var d={data:function(){return{username:"",currentLanguage:"",language:{"zh-CN":"简体中文","en-US":"English"},menus:[],needLoad:!0}},methods:{logout:function(){window.location.href=window.location.origin+"/#/login"},changeLanguage:function(e){o["default"].config.lang=e,this.currentLanguage=this.language[e],localStorage.setItem("lang",e)},getLocalLang:function(){var e=localStorage.getItem("lang")||navigator.language;this.currentLanguage=this.language[e]},getMyMenus:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["E"])();case 2:t=e.sent,n=t.status,a=t.data,t.message,"OK"===n&&(a.forEach(function(e){if(!e.category){var t=c["a"].find(function(t){return t.code===e.code});t?r.menus.push(l({title:"zh-CN"===r.$lang?t.cnName:t.enName,id:e.id,submenus:[]},e,{},t)):r.menus.push(l({title:e.code,id:e.id,submenus:[]},e))}}),a.forEach(function(e){if(e.category){var t=c["a"].find(function(t){return t.code===e.code});t?r.menus.forEach(function(n){e.category===""+n.id&&n.submenus.push(l({title:"zh-CN"===r.$lang?t.cnName:t.enName,id:e.id},e,{},t))}):r.menus.forEach(function(t){e.category===""+t.id&&t.submenus.push(l({title:e.displayName,id:e.id,link:e.path},e))})}}),this.$emit("allMenus",this.menus),window.myMenus=this.menus);case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getAllPluginPackageResourceFiles:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){var t,n,a,r,i,o=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["n"])();case 2:t=e.sent,n=t.status,t.message,a=t.data,"OK"===n&&a&&a.length>0&&(this.$Notice.info({title:this.$t("notification_title"),desc:this.$t("notification_desc")}),r=document.getElementsByTagName("body"),i={},a.forEach(function(e){if(e.relatedPath.indexOf(".js")>-1){var t=document.createElement("script");t.type="text/javascript",t.src=e.relatedPath,i[e.packageName]=t,r[0].appendChild(t)}if(e.relatedPath.indexOf(".css")>-1){var n=document.createElement("link");n.type="text/css",n.rel="stylesheet",n.href=e.relatedPath,r[0].appendChild(n)}}),Object.keys(i).forEach(function(e){i[e].readyState?i[e].onreadystatechange=function(){"complete"!=i[e].readyState&&"loaded"!=i[e].readyState||(i[e].onreadystatechange=null)}:i[e].onload=function(){setTimeout(function(){o.$Notice.success({title:o.$t("notification_title"),desc:"".concat(e," ").concat(o.$t("plugin_load"))})},0)}}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},created:function(){var e=Object(i["a"])(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.getLocalLang(),this.getMyMenus(),this.username=window.sessionStorage.getItem("username");case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),watch:{$lang:function(e){this.$router.go(0)}},mounted:function(){window.needReLoad&&(this.getAllPluginPackageResourceFiles(),window.needReLoad=!1)}},p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Header",[n("div",{staticClass:"menus"},[n("Menu",{attrs:{mode:"horizontal",theme:"dark"}},e._l(e.menus,function(t){return n("div",{key:t.code},[t.submenus.length<1?n("MenuItem",{staticStyle:{cursor:"not-allowed"},attrs:{name:t.title}},[e._v("\n          "+e._s(t.title)+"\n        ")]):n("Submenu",{attrs:{name:t.code}},[n("template",{staticStyle:{"font-size":"16px"},slot:"title"},[e._v(e._s(t.title))]),e._v(" "),e._l(t.submenus,function(t){return n("router-link",{key:t.code,attrs:{to:t.link||""}},[n("MenuItem",{attrs:{name:t.code}},[e._v(e._s(t.title))])],1)})],2)],1)}),0)],1),e._v(" "),n("div",{staticClass:"header-right_container"},[n("div",{staticClass:"profile"},[n("Dropdown",{staticStyle:{cursor:"pointer"}},[n("span",{staticStyle:{color:"white"}},[e._v(e._s(e.username))]),e._v(" "),n("Icon",{attrs:{size:18,type:"ios-arrow-down",color:"white",size:"14"}}),e._v(" "),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},[n("DropdownItem",{attrs:{name:"logout",to:"/login"}},[n("a",{staticStyle:{width:"100%",display:"block"},on:{click:e.logout}},[e._v("\n              "+e._s(e.$t("logout"))+"\n            ")])])],1)],1)],1),e._v(" "),n("div",{staticClass:"language"},[n("Dropdown",[n("a",{attrs:{href:"javascript:void(0)"}},[n("Icon",{staticStyle:{"margin-right":"5px",cursor:"pointer"},attrs:{size:"16",type:"ios-globe"}}),e._v("\n          "+e._s(e.currentLanguage)+"\n          "),n("Icon",{attrs:{type:"ios-arrow-down"}})],1),e._v(" "),n("DropdownMenu",{attrs:{slot:"list"},slot:"list"},e._l(e.language,function(t,a){return n("DropdownItem",{key:t.id,nativeOn:{click:function(t){return e.changeLanguage(a)}}},[e._v(e._s(t))])}),1)],1)],1)])])},f=[],m=n("2455");function h(e){n("c670")}var g=!1,_=h,b="data-v-4ed68b34",y=null,v=Object(m["a"])(d,p,f,g,_,b,y),w=v.exports,k={components:{Header:w},data:function(){return{isShowBreadcrum:!0,allMenusAry:[],parentBreadcrumb:"",childBreadcrumb:""}},methods:{allMenus:function(e){this.allMenusAry=e},setBreadcrumb:function(){var e,t=this;if(this.isShowBreadcrum=!("/homepage"===this.$route.path||"/404"===this.$route.path),"/coming-soon"===this.$route.path)return this.parentBreadcrumb="-",void(this.childBreadcrumb="Coming Soon");var n=localStorage.getItem("lang")||navigator.language,r=window.myMenus?(e=[]).concat.apply(e,Object(a["a"])(window.myMenus.map(function(e){return e.submenus}))).find(function(e){return e.link===t.$route.path}):c["a"].find(function(e){return e.link===t.$route.path});r?(this.allMenusAry.forEach(function(e){e.submenus.forEach(function(a){r.code===a.code&&(t.parentBreadcrumb="zh-CN"===n?e.cnName:e.enName)})}),this.childBreadcrumb=r.title):(this.parentBreadcrumb="-",this.childBreadcrumb=this.$route.path.substr(1))}},created:function(){this.setBreadcrumb()},mounted:function(){},watch:{allMenusAry:{handler:function(e){this.setBreadcrumb()},immediate:!0},$route:{handler:function(e){this.setBreadcrumb()},immediate:!0}}},O=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"header"},[n("Header",{on:{allMenus:e.allMenus}})],1),e._v(" "),n("div",{staticClass:"content-container"},[e.isShowBreadcrum?n("Breadcrumb",{staticStyle:{margin:"10px 0"}},[n("BreadcrumbItem",[n("a",{attrs:{href:"/"}},[e._v(e._s(e.$t("home")))])]),e._v(" "),n("BreadcrumbItem",[e._v(e._s(e.parentBreadcrumb))]),e._v(" "),n("BreadcrumbItem",[e._v(e._s(e.childBreadcrumb))])],1):e._e(),e._v(" "),n("router-view",{key:e.$route.name,staticClass:"pages"})],1),e._v(" "),n("BackTop",{attrs:{height:100,bottom:100}})],1)},S=[];function j(e){n("e8534")}var T=!1,x=j,C=null,I=null,R=Object(m["a"])(k,O,S,T,x,C,I);t["default"]=R.exports},a417:function(e,t,n){"use strict";n("8e6e"),n("456d"),n("ac6a");var a=n("bd86"),r=(n("7514"),n("a026")),i=n("bc3a"),o=n.n(i);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(n,!0).forEach(function(t){Object(a["a"])(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var u="",l=o.a.create({withCredentials:!0,baseURL:u,timeout:5e4}),d=function(e){return new Error(e.message||"error")},p=null;l.interceptors.request.use(function(e){return new Promise(function(t,n){var a=(new Date).getTime(),r=window.sessionStorage,i=JSON.parse(r.getItem("token"));if(i){var s=i.find(function(e){return"accessToken"===e.tokenType}),c=1*s.expiration-a;c<6e4&&!p&&(p=o.a.get("/auth/v1/api/token",{headers:{Authorization:"Bearer "+i.find(function(e){return"refreshToken"===e.tokenType}).token}}),p.then(function(n){r.setItem("token",JSON.stringify(n.data.data)),e.headers.Authorization="Bearer "+n.data.data.find(function(e){return"accessToken"===e.tokenType}).token,p=null,t(e)},function(e){p=null,window.location.href=window.location.origin+"/#/login",r.removeItem("token")})),c<6e4&&p&&p.then(function(n){r.setItem("token",JSON.stringify(n.data.data)),e.headers.Authorization="Bearer "+n.data.data.find(function(e){return"accessToken"===e.tokenType}).token,p=null,t(e)},function(e){p=null,window.location.href=window.location.origin+"/#/login",r.removeItem("token")}),c>6e4&&(e.headers.Authorization="Bearer "+s.token,t(e))}else t(e)})},function(e){return Promise.reject(e)}),l.interceptors.response.use(function(e){if(200===e.status){if("ERROR"===e.data.status){var t=Array.isArray(e.data.data)?e.data.data.map(function(e){return e.errorMessage}).join("<br/>"):e.data.message;r["default"].prototype.$Notice.warning({title:"Error",desc:t,duration:0})}return e.data instanceof Array?e.data:c({},e.data)}return{data:d(e)}},function(e){var t=e.response;return 401===t.status?(window.location.href=window.location.origin+"/#/login",t):(r["default"].prototype.$Notice.warning({title:"Error",desc:t.data&&"status:"+t.data.status+"<br/> error:"+t.data.error+"<br/> message:"+t.data.message||"error"}),new Promise(function(t,n){t({data:d(e)})}))}),t["a"]=l},aa22:function(e,t,n){"use strict";n.d(t,"E",function(){return r}),n.d(t,"ub",function(){return i}),n.d(t,"vb",function(){return o}),n.d(t,"k",function(){return s}),n.d(t,"x",function(){return c}),n.d(t,"z",function(){return u}),n.d(t,"X",function(){return l}),n.d(t,"Y",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"M",function(){return f}),n.d(t,"L",function(){return m}),n.d(t,"rb",function(){return h}),n.d(t,"nb",function(){return g}),n.d(t,"H",function(){return _}),n.d(t,"y",function(){return b}),n.d(t,"j",function(){return y}),n.d(t,"I",function(){return v}),n.d(t,"qb",function(){return w}),n.d(t,"e",function(){return k}),n.d(t,"Ab",function(){return O}),n.d(t,"i",function(){return S}),n.d(t,"pb",function(){return j}),n.d(t,"d",function(){return T}),n.d(t,"zb",function(){return x}),n.d(t,"h",function(){return C}),n.d(t,"ob",function(){return I}),n.d(t,"R",function(){return R}),n.d(t,"S",function(){return P}),n.d(t,"P",function(){return D}),n.d(t,"Q",function(){return N}),n.d(t,"v",function(){return q}),n.d(t,"o",function(){return E}),n.d(t,"O",function(){return A}),n.d(t,"t",function(){return $}),n.d(t,"r",function(){return M}),n.d(t,"c",function(){return F}),n.d(t,"mb",function(){return z}),n.d(t,"gb",function(){return V}),n.d(t,"q",function(){return L}),n.d(t,"s",function(){return B}),n.d(t,"eb",function(){return H}),n.d(t,"u",function(){return K}),n.d(t,"xb",function(){return U}),n.d(t,"ib",function(){return W}),n.d(t,"hb",function(){return G}),n.d(t,"cb",function(){return J}),n.d(t,"g",function(){return Y}),n.d(t,"J",function(){return Q}),n.d(t,"K",function(){return X}),n.d(t,"m",function(){return Z}),n.d(t,"A",function(){return ee}),n.d(t,"W",function(){return te}),n.d(t,"V",function(){return ne}),n.d(t,"p",function(){return ae}),n.d(t,"lb",function(){return re}),n.d(t,"f",function(){return ie}),n.d(t,"wb",function(){return oe}),n.d(t,"kb",function(){return se}),n.d(t,"fb",function(){return ce}),n.d(t,"jb",function(){return ue}),n.d(t,"n",function(){return le}),n.d(t,"db",function(){return de}),n.d(t,"a",function(){return pe}),n.d(t,"N",function(){return fe}),n.d(t,"D",function(){return me}),n.d(t,"F",function(){return he}),n.d(t,"G",function(){return ge}),n.d(t,"Bb",function(){return _e}),n.d(t,"Z",function(){return be}),n.d(t,"tb",function(){return ye}),n.d(t,"T",function(){return ve}),n.d(t,"U",function(){return we}),n.d(t,"ab",function(){return ke}),n.d(t,"bb",function(){return Oe}),n.d(t,"sb",function(){return Se}),n.d(t,"l",function(){return je}),n.d(t,"C",function(){return Te}),n.d(t,"B",function(){return xe}),n.d(t,"yb",function(){return Ce}),n.d(t,"w",function(){return Ie});n("6b54");var a=n("a417"),r=function(){return a["a"].get("/platform/v1/my-menus")},i=function(e){return a["a"].post("/platform/v1/process/definitions/deploy",e)},o=function(e){return a["a"].post("/platform/v1/process/definitions/draft",e)},s=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return e?a["a"].get("/platform/v1/process/definitions"):a["a"].get("/platform/v1/process/definitions?includeDraft=0")},c=function(e){return a["a"].get("/platform/v1/process/definitions/".concat(e,"/detail"))},u=function(e){return a["a"].get("/platform/v1/process/definitions/".concat(e,"/outline"))},l=function(e,t){return a["a"].get("platform/v1/packages/".concat(e,"/entities/").concat(t,"/retrieve"))},d=function(e,t){return a["a"].get("platform/v1/process/definitions/".concat(e,"/preview/entities/").concat(t))},p=function(e){return a["a"].post("platform/v1/process/instances",e)},f=function(){return a["a"].get("platform/v1/process/instances")},m=function(e){return a["a"].get("platform/v1/process/instances/".concat(e))},h=function(e){return a["a"].post("platform/v1/process/instances/proceed",e)},g=function(e){return a["a"].delete("platform/v1/process/definitions/".concat(e))},_=function(e,t){return a["a"].get("platform/v1/process/definitions/".concat(e,"/tasknodes/").concat(t))},b=function(e){return a["a"].get("platform/v1/process/definitions/".concat(e,"/tasknodes/briefs"))},y=function(){return a["a"].get("platform/v1/models")},v=function(){return a["a"].get("platform/v1/plugins/interfaces/enabled")},w=function(e){return a["a"].post("/platform/v1/system-variables/retrieve",e)},k=function(e){return a["a"].post("/platform/v1/system-variables/create",e)},O=function(e){return a["a"].post("/platform/v1/system-variables/update",e)},S=function(e){return a["a"].post("/platform/v1/system-variables/delete",e)},j=function(e){return a["a"].post("/platform/resource/servers/retrieve",e)},T=function(e){return a["a"].post("/platform/resource/servers/create",e)},x=function(e){return a["a"].post("/platform/resource/servers/update",e)},C=function(e){return a["a"].post("/platform/resource/servers/delete",e)},I=function(e){return a["a"].post("/platform/resource/items/retrieve",e)},R=function(){return a["a"].get("/platform/resource/constants/resource-server-status")},P=function(){return a["a"].get("/platform/resource/constants/resource-server-types")},D=function(){return a["a"].get("/platform/resource/constants/resource-item-status")},N=function(){return a["a"].get("/platform/resource/constants/resource-item-types")},q=function(e,t){return a["a"].get("/platform/v1/cmdb/enum/category-types/".concat(e,"/categories/").concat(t,"/codes"))},E=function(){return a["a"].get("/platform/v1/packages")},A=function(e){return a["a"].get("/platform/v1/cmdb/ci-types/".concat(e,"/references/by"))},$=function(e){return a["a"].get("/platform/v1/cmdb/ci-types/".concat(e,"/attributes"))},M=function(e){return a["a"].get("/platform/v1/packages/".concat(e,"/instances"))},F=function(e,t,n){return a["a"].post("/platform/v1/packages/".concat(e,"/hosts/").concat(t,"/ports/").concat(n,"/instance/launch"))},z=function(e){return a["a"].delete("/platform/v1/packages/instances/".concat(e,"/remove"))},V=function(e){return a["a"].post("/platform/v1/plugin/packages/instances/log",e)},L=function(){return a["a"].get("/platform/v1/available-container-hosts")},B=function(e){return a["a"].get("/platform/v1/hosts/".concat(e,"/next-available-port"))},H=function(e){return a["a"].post("/platform/v1/cmdb/ci-types/".concat(e.id,"/ci-data/query"),e.queryObject)},K=function(e){return a["a"].get("/platform/v1/cmdb/ci-types/".concat(e,"/attributes"))},U=function(e){return a["a"].post("/platform/v1/cmdb/ci-types/".concat(e.id,"/ci-data/batch-update"),e.updateData)},W=function(e){return a["a"].post("/platform/v1/cmdb/referenceEnumCodes/".concat(e.attrId,"/query"),e.params)},G=function(e){return a["a"].post("/platform/v1/cmdb/referenceCiData/".concat(e.attrId,"/query"),e.queryObject)},J=function(e){return a["a"].post("/auth/v1/api/login",e)},Y=function(e){return a["a"].post("/platform/v1/packages/decommission/".concat(e))},Q=function(e){return a["a"].get("/platform/v1/packages/".concat(e,"/models"))},X=function(e){return a["a"].get("/platform/v1/packages/".concat(e,"/dependencies"))},Z=function(e){return a["a"].get("/platform/v1/packages/".concat(e,"/plugins"))},ee=function(e){return a["a"].get("/platform/v1/packages/".concat(e,"/menus"))},te=function(e){return a["a"].get("/platform/v1/packages/".concat(e,"/system-parameters"))},ne=function(e){return a["a"].get("/platform/v1/packages/".concat(e,"/runtime-resources"))},ae=function(e){return a["a"].get("/platform/v1/packages/".concat(e,"/authorities"))},re=function(e){return a["a"].post("/platform/v1/plugins/enable/".concat(e))},ie=function(e){return a["a"].post("/platform/v1/plugins/disable/".concat(e))},oe=function(e){return a["a"].post("/platform/v1/plugins",e)},se=function(e){return a["a"].post("/platform/v1/packages/register/".concat(e))},ce=function(e,t){return a["a"].post("/platform/v1/packages/".concat(e,"/resources/mysql/query"),t)},ue=function(e,t){return a["a"].get("/platform/v1/packages/".concat(e,"/resources/s3/files"),t)},le=function(){return a["a"].get("/platform/v1/resource-files")},de=function(e){return a["a"].get("/platform/v1/models/package/".concat(e))},pe=function(e){return a["a"].post("/platform/v1/models",e)},fe=function(e,t){return a["a"].get("/platform/v1/models/package/".concat(e,"/entity/").concat(t,"/refById"))},me=function(e,t){return a["a"].get("/wecmdb/entities/".concat(e,"?filter=id,").concat(t,"&sortName=id"))},he=function(e){return a["a"].get("/platform/v1/process/instances/".concat(e,"/tasknode-bindings"))},ge=function(e,t){return a["a"].get("/platform/v1/process/instances/".concat(e,"/tasknodes/").concat(t,"/context"))},_e=function(e){return a["a"].post("/platform/v1/users/create",e)},be=function(){return a["a"].get("/platform/v1/users/retrieve")},ye=function(e){return a["a"].post("/platform/v1/roles/create",e)},ve=function(){return a["a"].get("/platform/v1/roles/retrieve")},we=function(e){return a["a"].get("/platform/v1/users/".concat(e,"/roles"))},ke=function(e){return a["a"].get("/platform/v1/roles/".concat(e,"/users"))},Oe=function(e,t){return a["a"].post("/platform/v1/roles/".concat(t,"/users/grant"),e)},Se=function(e,t){return a["a"].delete("/platform/v1/roles/".concat(t,"/users/revoke"),{data:e})},je=function(){return a["a"].get("/platform/v1/my-menus")},Te=function(e){return a["a"].get("platform/v1//users/".concat(e,"/menus"))},xe=function(e){return a["a"].get("platform/v1/roles/".concat(e,"/menus"))},Ce=function(e,t){return a["a"].post("platform/v1/roles/".concat(e,"/menus"),t)},Ie=function(e,t){return a["a"].get("/platform/v1/plugins/interfaces/package/".concat(e,"/entity/").concat(t,"/enabled"))}},ab33:function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return i});var a=n("a026"),r={number:{component:"Input",type:"number"},date:{component:"DatePicker",type:"datetimerange"},text:{component:"Input",type:"text"},select:{component:"WeSelect",options:[]},ref:{component:"refSelect",highlightRow:!0},multiSelect:{component:"WeSelect",options:[]},multiRef:{component:"refSelect"},textArea:{component:"Input",type:"text"}},i=[{label:a["default"].t("add"),props:{type:"success",icon:"md-add",disabled:!1},actionType:"add"},{label:a["default"].t("save"),props:{type:"info",icon:"md-checkmark",disabled:!0},actionType:"save"},{label:a["default"].t("edit"),props:{type:"info",icon:"ios-build",disabled:!0},actionType:"edit"},{label:a["default"].t("delete"),props:{type:"error",icon:"ios-trash-outline",disabled:!0},actionType:"delete"},{label:a["default"].t("cancel"),props:{type:"warning",icon:"md-undo"},actionType:"cancel"},{label:a["default"].t("export"),props:{type:"primary",icon:"ios-download-outline"},actionType:"export"},{label:a["default"].t("filter_columns"),props:{type:"primary",icon:"ios-funnel",shape:"circle",disabled:!1},actionType:"filterColumns"}];a["default"].t("cancel")},b849:function(e,t,n){var a=n("491d");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("2fb2").default;r("34b1413c",a,!0,{})},baef:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,".header[data-v-4ed68b34]{display:-webkit-box;display:-ms-flexbox;display:flex}.header .ivu-layout-header[data-v-4ed68b34]{height:50px;line-height:50px}.header a[data-v-4ed68b34]{color:#fff}.header .menus[data-v-4ed68b34]{display:inline-block}.header .menus .ivu-menu-horizontal[data-v-4ed68b34]{height:50px;line-height:50px;display:-webkit-box;display:-ms-flexbox;display:flex}.header .menus .ivu-menu-horizontal .ivu-menu-submenu[data-v-4ed68b34]{padding:0 10px;font-size:15px}.header .menus .ivu-menu-horizontal .ivu-menu-item[data-v-4ed68b34]{font-size:15px}.header .menus .ivu-menu-dark.ivu-menu-horizontal .ivu-menu-submenu[data-v-4ed68b34]{color:#fff}.header .menus .ivu-menu-item-active[data-v-4ed68b34],.header .menus .ivu-menu-item[data-v-4ed68b34]:hover{color:hsla(0,0%,100%,.7)}.header .menus .ivu-menu-dark.ivu-menu-horizontal .ivu-menu-submenu-active[data-v-4ed68b34],.header .menus .ivu-menu-dark.ivu-menu-horizontal .ivu-menu-submenu[data-v-4ed68b34]:hover{color:#fff}.header .menus .ivu-menu-drop-list .ivu-menu-item-active[data-v-4ed68b34],.header .menus .ivu-menu-drop-list .ivu-menu-item[data-v-4ed68b34]:hover{color:#000}.header .header-right_container[data-v-4ed68b34]{float:right}.header .header-right_container .language[data-v-4ed68b34],.header .header-right_container .profile[data-v-4ed68b34]{float:right;display:inline-block;vertical-align:middle;margin-left:20px}",""])},c670:function(e,t,n){var a=n("baef");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("2fb2").default;r("547b4000",a,!0,{})},e8534:function(e,t,n){var a=n("49f2");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("2fb2").default;r("c5eae022",a,!0,{})},f028:function(e,t,n){var a=n("57ba");"string"===typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);var r=n("2fb2").default;r("1b7d171c",a,!0,{})},f938:function(e,t,n){t=e.exports=n("2350")(!1),t.push([e.i,"#wecube_app[data-v-7f2edb3c]{font-family:Avenir,Helvetica,Arial,sans-serif;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:#2c3e50;height:100%;min-width:1280px}",""])}});
//# sourceMappingURL=app.c710ce54.js.map