{"version":3,"sources":["webpack:///./src/pages/admin/permission-management.vue?dc6a","webpack:///./src/const/menus.js","webpack:///./node_modules/timers-browserify/main.js","webpack:///./node_modules/setimmediate/setImmediate.js","webpack:///./src/pages/admin/permission-management.vue?65af","webpack:///src/pages/admin/permission-management.vue","webpack:///./src/pages/admin/permission-management.vue?5678","webpack:///./src/pages/admin/permission-management.vue"],"names":["exports","module","push","i","MENUS","code","cnName","enName","link","self","window","apply","Function","prototype","Timeout","id","clearFn","this","_id","_clearFn","setTimeout","call","scope","arguments","clearTimeout","setInterval","clearInterval","timeout","close","unref","ref","enroll","item","msecs","_idleTimeoutId","_idleTimeout","unenroll","_unrefActive","active","_onTimeout","setImmediate","global","clearImmediate","registerImmediate","nextHandle","tasksByHandle","currentlyRunningATask","doc","document","attachTo","Object","getPrototypeOf","toString","process","installNextTickImplementation","canUsePostMessage","installPostMessageImplementation","MessageChannel","installMessageChannelImplementation","createElement","installReadyStateChangeImplementation","installSetTimeoutImplementation","callback","args","Array","length","task","handle","run","undefined","runIfPresent","nextTick","postMessage","importScripts","postMessageIsAsynchronous","oldOnMessage","onmessage","messagePrefix","Math","random","onGlobalMessage","event","source","data","indexOf","slice","addEventListener","attachEvent","channel","port1","port2","html","documentElement","script","onreadystatechange","removeChild","appendChild","content","locals","add","default","actionsType","users","roles","menus","dataPermissionDisabled","menusForEdit","permissionEntryPoints","permissionEntryPointsForEdit","permissionEntryPointsBackup","addRoleModalVisible","addUserModalVisible","addedRoleValue","userManageModal","permissionManageModal","usersKeyBySelectedRole","allUsersForTransfer","selectedRole","transferTitles","currentRoleId","ciTypePermissions","allMenusOriginResponse","transferStyle","currentRoleCiTypeId","outerActions","innerActions","ciTypeAttrsPermissions","ciTypeAttrsPermissionsBackUp","attrsPermissionsColumns","permissionsTableOptions","defaultColumns","seletedRows","addedUser","methods","renderUserNameForTransfer","label","openPermissionManageModal","roleCiTypeId","getAttrPermissions","actionFun","type","exportHandler","addHandler","editHandler","saveHandler","deleteHandler","cancelHandler","$refs","table","rowCancelHandler","weTableRowId","$Modal","confirm","title","onOk","onCancel","querySelector","click","forEach","_","inputType","emptyRowData","inputKey","Date","getTime","unshift","$nextTick","props","disabled","actionType","swapRowEditable","setAllRowsUneditable","setCheckoutStatus","onSelectedRowsChange","rows","cancelEdit","ciTypesPermissionsHandler","setPermissionAction","ci","ciTypeId","openAddRoleModal","openAddUserModal","menusPermissionSelected","allMenus","children","m","checked","subMenu","indeterminate","menusResponseHandeler","parentId","expand","h","permissionResponseHandeler","getPermissions","getArrDifference","arr1","concat","arr2","filter","arr","v","lastIndexOf","cancel","confirmUser","handleRoleClick","created","getAllUsers","getAllRoles","getAllMenus","watch","render","_vm","_h","$createElement","_c","_self","attrs","slot","_v","on","_l","key","username","color","handleUserClick","_s","staticStyle","staticClass","description","$event","openUserManageModal","handleMenuTreeCheck","ciTypeName","act","actionCode","nativeOn","preventDefault","actionName","addRole","model","value","$$v","expression","addUser","$set","handleUserTransferChange","staticRenderFns","injectStyle","context","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component"],"mappings":"qGAAAA,EAAUC,EAAOD,QAAU,EAAQ,OAAR,EAA4D,GAKvFA,EAAQE,KAAK,CAACD,EAAOE,EAAI,svBAAuvB,M,oCCLhxB,gCAAO,IAAMC,EAAQ,CACnB,CACEC,KAAM,OACNC,OAAQ,KACRC,OAAQ,QAEV,CACEF,KAAM,YACNC,OAAQ,KACRC,OAAQ,aAEV,CACEF,KAAM,iBACNC,OAAQ,KACRC,OAAQ,kBAEV,CACEF,KAAM,aACNC,OAAQ,KACRC,OAAQ,cAEV,CACEF,KAAM,aACNC,OAAQ,KACRC,OAAQ,cAEV,CACEF,KAAM,mBACNC,OAAQ,KACRC,OAAQ,oBAEV,CACEF,KAAM,gBACNC,OAAQ,KACRC,OAAQ,iBAEV,CACEF,KAAM,QACNC,OAAQ,KACRC,OAAQ,SAEV,CACEF,KAAM,iBACNC,OAAQ,OACRC,OAAQ,YACRC,KAAM,gBAGR,CACEH,KAAM,gBACNC,OAAQ,OACRC,OAAQ,WACRC,KAAM,gBAGR,CACEH,KAAM,qBACNC,OAAQ,OACRC,OAAQ,kBACRC,KAAM,uBAER,CACEH,KAAM,8BACNC,OAAQ,OACRC,OAAQ,oBACRC,KAAM,gCAER,CACEH,KAAM,qCACNC,OAAQ,SACRC,OAAQ,eACRC,KAAM,uCAER,CACEH,KAAM,mCACNC,OAAQ,SACRC,OAAQ,aACRC,KAAM,qCAER,CACEH,KAAM,+BACNC,OAAQ,SACRC,OAAQ,qBACRC,KAAM,iCAER,CACEH,KAAM,4BACNC,OAAQ,SACRC,OAAQ,kBACRC,KAAM,8BAER,CACEH,KAAM,2CACNC,OAAQ,WACRC,OAAQ,gCACRC,KAAM,6CAER,CACEH,KAAM,0CACNC,OAAQ,WACRC,OAAQ,qBACRC,KAAM,4CAER,CACEH,KAAM,4BACNC,OAAQ,SACRC,OAAQ,kBACRC,KAAM,8BAER,CACEH,KAAM,yBACNC,OAAQ,SACRC,OAAQ,eACRC,KAAM,2BAER,CACEH,KAAM,qCACNC,OAAQ,OACRC,OAAQ,sBACRC,KAAM,uCAER,CACEH,KAAM,wCACNC,OAAQ,OACRC,OAAQ,aACRC,KAAM,0CAER,CACEH,KAAM,2BACNC,OAAQ,OACRC,OAAQ,YACRC,KAAM,6BAER,CACEH,KAAM,kDACNC,OAAQ,SACRC,OAAQ,mCACRC,KAAM,gBAGR,CACEH,KAAM,sCACNC,OAAQ,SACRC,OAAQ,oBACRC,KAAM,gBAGR,CACEH,KAAM,4CACNC,OAAQ,SACRC,OAAQ,yBACRC,KAAM,gBAGR,CACEH,KAAM,mCACNC,OAAQ,SACRC,OAAQ,gBACRC,KAAM,gBAGR,CACEH,KAAM,uBACNC,OAAQ,OACRC,OAAQ,YACRC,KAAM,gBAGR,CACEH,KAAM,oCACNC,OAAQ,QACRC,OAAQ,yBACRC,KAAM,gBAGR,CACEH,KAAM,sBACNC,OAAQ,OACRC,OAAQ,WACRC,KAAM,gBAGR,CACEH,KAAM,sCACNC,OAAQ,OACRC,OAAQ,2BACRC,KAAM,gBAGR,CACEH,KAAM,uBACNC,OAAQ,OACRC,OAAQ,YACRC,KAAM,gBAGR,CACEH,KAAM,sBACNC,OAAQ,OACRC,OAAQ,WACRC,KAAM,gBAGR,CACEH,KAAM,4BACNC,OAAQ,OACRC,OAAQ,WACRC,KAAM,gBAGR,CACEH,KAAM,wCACNC,OAAQ,OACRC,OAAQ,uBACRC,KAAM,gBAGR,CACEH,KAAM,kCACNC,OAAQ,OACRC,OAAQ,iBACRC,KAAM,oCAER,CACEH,KAAM,uCACNC,OAAQ,OACRC,OAAQ,qBACRC,KAAM,yCAER,CACEH,KAAM,gCACNC,OAAQ,OACRC,OAAQ,kBACRC,KAAM,gBAGR,CACEH,KAAM,8BACNC,OAAQ,WACRC,OAAQ,gBACRC,KAAM,gCAER,CACEH,KAAM,8BACNC,OAAQ,SACRC,OAAQ,aACRC,KAAM,gCAER,CACEH,KAAM,6BACNC,OAAQ,SACRC,OAAQ,uBACRC,KAAM,+BAER,CACEH,KAAM,oCACNC,OAAQ,SACRC,OAAQ,oBACRC,KAAM,wC,sBClQV,6CAC6B,qBAATC,MAAwBA,MAChCC,OACRC,EAAQC,SAASC,UAAUF,MAiB/B,SAASG,EAAQC,EAAIC,GACnBC,KAAKC,IAAMH,EACXE,KAAKE,SAAWH,EAflBhB,EAAQoB,WAAa,WACnB,OAAO,IAAIN,EAAQH,EAAMU,KAAKD,WAAYE,EAAOC,WAAYC,eAE/DxB,EAAQyB,YAAc,WACpB,OAAO,IAAIX,EAAQH,EAAMU,KAAKI,YAAaH,EAAOC,WAAYG,gBAEhE1B,EAAQwB,aACRxB,EAAQ0B,cAAgB,SAASC,GAC3BA,GACFA,EAAQC,SAQZd,EAAQD,UAAUgB,MAAQf,EAAQD,UAAUiB,IAAM,aAClDhB,EAAQD,UAAUe,MAAQ,WACxBX,KAAKE,SAASE,KAAKC,EAAOL,KAAKC,MAIjClB,EAAQ+B,OAAS,SAASC,EAAMC,GAC9BT,aAAaQ,EAAKE,gBAClBF,EAAKG,aAAeF,GAGtBjC,EAAQoC,SAAW,SAASJ,GAC1BR,aAAaQ,EAAKE,gBAClBF,EAAKG,cAAgB,GAGvBnC,EAAQqC,aAAerC,EAAQsC,OAAS,SAASN,GAC/CR,aAAaQ,EAAKE,gBAElB,IAAID,EAAQD,EAAKG,aACbF,GAAS,IACXD,EAAKE,eAAiBd,WAAW,WAC3BY,EAAKO,YACPP,EAAKO,cACNN,KAKP,EAAQ,QAIRjC,EAAQwC,aAAgC,qBAAT/B,MAAwBA,KAAK+B,cAClB,qBAAXC,GAA0BA,EAAOD,cACxCvB,MAAQA,KAAKuB,aACrCxC,EAAQ0C,eAAkC,qBAATjC,MAAwBA,KAAKiC,gBAClB,qBAAXD,GAA0BA,EAAOC,gBACxCzB,MAAQA,KAAKyB,iB,4CC9DvC,6BACI,aAEA,IAAID,EAAOD,aAAX,CAIA,IAIIG,EAJAC,EAAa,EACbC,EAAgB,GAChBC,GAAwB,EACxBC,EAAMN,EAAOO,SAoJbC,EAAWC,OAAOC,gBAAkBD,OAAOC,eAAeV,GAC9DQ,EAAWA,GAAYA,EAAS7B,WAAa6B,EAAWR,EAGf,qBAArC,GAAGW,SAAS/B,KAAKoB,EAAOY,SAExBC,IAEOC,IAEPC,IAEOf,EAAOgB,eAEdC,IAEOX,GAAO,uBAAwBA,EAAIY,cAAc,UAExDC,IAIAC,IAGJZ,EAAST,aAAeA,EACxBS,EAASP,eAAiBA,EA3K1B,SAASF,EAAasB,GAEI,oBAAbA,IACTA,EAAW,IAAIlD,SAAS,GAAKkD,IAI/B,IADA,IAAIC,EAAO,IAAIC,MAAMzC,UAAU0C,OAAS,GAC/B9D,EAAI,EAAGA,EAAI4D,EAAKE,OAAQ9D,IAC7B4D,EAAK5D,GAAKoB,UAAUpB,EAAI,GAG5B,IAAI+D,EAAO,CAAEJ,SAAUA,EAAUC,KAAMA,GAGvC,OAFAlB,EAAcD,GAAcsB,EAC5BvB,EAAkBC,GACXA,IAGT,SAASF,EAAeyB,UACbtB,EAAcsB,GAGzB,SAASC,EAAIF,GACT,IAAIJ,EAAWI,EAAKJ,SAChBC,EAAOG,EAAKH,KAChB,OAAQA,EAAKE,QACb,KAAK,EACDH,IACA,MACJ,KAAK,EACDA,EAASC,EAAK,IACd,MACJ,KAAK,EACDD,EAASC,EAAK,GAAIA,EAAK,IACvB,MACJ,KAAK,EACDD,EAASC,EAAK,GAAIA,EAAK,GAAIA,EAAK,IAChC,MACJ,QACID,EAASnD,MAAM0D,EAAWN,GAC1B,OAIR,SAASO,EAAaH,GAGlB,GAAIrB,EAGA1B,WAAWkD,EAAc,EAAGH,OACzB,CACH,IAAID,EAAOrB,EAAcsB,GACzB,GAAID,EAAM,CACNpB,GAAwB,EACxB,IACIsB,EAAIF,GACN,QACExB,EAAeyB,GACfrB,GAAwB,KAMxC,SAASQ,IACLX,EAAoB,SAASwB,GACzBd,EAAQkB,SAAS,WAAcD,EAAaH,MAIpD,SAASZ,IAGL,GAAId,EAAO+B,cAAgB/B,EAAOgC,cAAe,CAC7C,IAAIC,GAA4B,EAC5BC,EAAelC,EAAOmC,UAM1B,OALAnC,EAAOmC,UAAY,WACfF,GAA4B,GAEhCjC,EAAO+B,YAAY,GAAI,KACvB/B,EAAOmC,UAAYD,EACZD,GAIf,SAASlB,IAKL,IAAIqB,EAAgB,gBAAkBC,KAAKC,SAAW,IAClDC,EAAkB,SAASC,GACvBA,EAAMC,SAAWzC,GACK,kBAAfwC,EAAME,MACyB,IAAtCF,EAAME,KAAKC,QAAQP,IACnBP,GAAcW,EAAME,KAAKE,MAAMR,EAAcZ,UAIjDxB,EAAO6C,iBACP7C,EAAO6C,iBAAiB,UAAWN,GAAiB,GAEpDvC,EAAO8C,YAAY,YAAaP,GAGpCrC,EAAoB,SAASwB,GACzB1B,EAAO+B,YAAYK,EAAgBV,EAAQ,MAInD,SAAST,IACL,IAAI8B,EAAU,IAAI/B,eAClB+B,EAAQC,MAAMb,UAAY,SAASK,GAC/B,IAAId,EAASc,EAAME,KACnBb,EAAaH,IAGjBxB,EAAoB,SAASwB,GACzBqB,EAAQE,MAAMlB,YAAYL,IAIlC,SAASP,IACL,IAAI+B,EAAO5C,EAAI6C,gBACfjD,EAAoB,SAASwB,GAGzB,IAAI0B,EAAS9C,EAAIY,cAAc,UAC/BkC,EAAOC,mBAAqB,WACxBxB,EAAaH,GACb0B,EAAOC,mBAAqB,KAC5BH,EAAKI,YAAYF,GACjBA,EAAS,MAEbF,EAAKK,YAAYH,IAIzB,SAAShC,IACLlB,EAAoB,SAASwB,GACzB/C,WAAWkD,EAAc,EAAGH,MAzJxC,CAyLkB,qBAAT1D,KAAyC,qBAAXgC,EAAyBxB,KAAOwB,EAAShC,Q,qDCtLhF,IAAIwF,EAAU,EAAQ,QACA,kBAAZA,IAAsBA,EAAU,CAAC,CAAChG,EAAOE,EAAI8F,EAAS,MAC7DA,EAAQC,SAAQjG,EAAOD,QAAUiG,EAAQC,QAE5C,IAAIC,EAAM,EAAQ,QAA0FC,QAC/FD,EAAI,WAAYF,GAAS,EAAM,K,mxBCmN5C,OACEd,KADF,WAEI,MAAO,CACLkB,YAAa,CACnB,CACQ,WAAR,qBACQ,KAAR,WACQ,WAAR,KAEA,CACQ,WAAR,oBACQ,KAAR,UACQ,WAAR,KAEA,CACQ,WAAR,yBACQ,KAAR,eACQ,WAAR,KAEA,CACQ,WAAR,oBACQ,KAAR,UACQ,WAAR,KAOM,CACE,WAAR,sBACQ,KAAR,YACQ,WAAR,MAGMC,MAAO,GACPC,MAAO,GACPC,MAAO,GACPC,wBAAwB,EACxBC,aAAc,GACdC,sBAAuB,GACvBC,6BAA8B,GAC9BC,4BAA6B,GAC7BC,qBAAqB,EACrBC,qBAAqB,EACrBC,eAAgB,GAChBC,iBAAiB,EACjBC,uBAAuB,EACvBC,uBAAwB,GACxBC,oBAAqB,GACrBC,aAAc,EACdC,eAAgB,CAAC,QAAS,QAC1BC,cAAe,EACfC,kBAAmB,GACnBC,uBAAwB,GACxBC,cAAe,CAArB,eACMC,oBAAqB,GAErBC,aAAN,OACMC,aAAN,OACMC,uBAAwB,GACxBC,6BAA8B,GAC9BC,wBAAyB,GACzBC,wBAAyB,GACzBC,eAAgB,CACtB,CACQ,MAAR,KACQ,IAAR,oBACQ,SAAR,oBACQ,aAAR,EACQ,YAAR,MACQ,UAAR,WACQ,QAAR,CACA,CACU,MAAV,IACU,MAAV,KAEA,CACU,MAAV,IACU,MAAV,OAIA,CACQ,MAAR,KACQ,IAAR,qBACQ,SAAR,qBACQ,aAAR,EACQ,YAAR,MACQ,UAAR,WACQ,QAAR,CACA,CACU,MAAV,IACU,MAAV,KAEA,CACU,MAAV,IACU,MAAV,OAIA,CACQ,MAAR,KACQ,IAAR,yBACQ,SAAR,yBACQ,aAAR,EACQ,YAAR,MACQ,UAAR,WACQ,QAAR,CACA,CACU,MAAV,IACU,MAAV,KAEA,CACU,MAAV,IACU,MAAV,OAIA,CACQ,MAAR,KACQ,IAAR,sBACQ,SAAR,sBACQ,aAAR,EACQ,YAAR,MACQ,UAAR,WACQ,QAAR,CACA,CACU,MAAV,IACU,MAAV,KAEA,CACU,MAAV,IACU,MAAV,OAIA,CACQ,MAAR,KACQ,IAAR,oBACQ,SAAR,oBACQ,aAAR,EACQ,YAAR,MACQ,UAAR,WACQ,QAAR,CACA,CACU,MAAV,IACU,MAAV,KAEA,CACU,MAAV,IACU,MAAV,QAsBMC,YAAa,GACbC,UAAW,KAGfC,QAAS,CACPC,0BADJ,SACA,GACM,OAAOtG,EAAKuG,OAEdC,0BAJJ,SAIA,GACMvH,KAAK0G,oBAAsBc,EAC3BxH,KAAKiG,uBAAwB,EAC7BjG,KAAKyH,sBAEP,mBATJ,sLAcA,gBACA,0BAfA,gBAWA,EAXA,EAWA,OACA,EAZA,EAYA,KAZA,EAaA,QAIA,WACA,yCACA,mDACA,SADA,WAEA,GACA,4DACA,yBACA,6CACA,MACA,OACA,uBACA,oBACA,4DACA,MACA,2BACA,0BACA,mDACA,WACA,kBACA,IAGA,6CAlBA,oBAqBA,WAEA,sCACA,kBACA,YACA,EADA,CAEA,aACA,mBACA,wBACA,iBACA,sBACA,0BACA,mBACA,sCACA,aACA,oBAXA,CAYA,sCAGA,4BACA,sMACA,uBADA,gCAEA,gBACA,EACA,eAJA,OAEA,EAFA,OAMA,KACA,kBACA,yBACA,OACA,eACA,iBAGA,uBAdA,iGA9DA,sGAmFI,cAnFJ,2JAoFA,8CACA,eACA,gBAEA,WAEA,yBACA,2BACA,SA5FA,sGA+FIC,UA/FJ,SA+FA,KACM,OAAQC,GACN,IAAK,SACH3H,KAAK4H,gBACL,MACF,IAAK,MACH5H,KAAK6H,aACL,MACF,IAAK,OACH7H,KAAK8H,cACL,MACF,IAAK,OACH9H,KAAK+H,YAAY7D,GACjB,MACF,IAAK,SACHlE,KAAKgI,cAAc9D,GACnB,MACF,IAAK,SACHlE,KAAKiI,gBACL,MACF,IAAK,cACHjI,KAAKkI,MAAMC,MAAMC,iBAAiBlE,EAAKmE,cACvC,MACF,QACE,QAGN,YA1HJ,mEA0HA,GA1HA,oHA2HA,aACA,mCACA,mBACA,iDAGA,qCACA,uBAEA,oDACA,eACA,mBACA,uBAIA,gCACA,gDACA,gDACA,GACA,qBACA,oBACA,sBACA,kBACA,yBACA,oBACA,eACA,uBACA,gBAEA,YAzJA,wBA0JA,sBACA,sCACA,uBACA,uBACA,qBACA,eALA,eAMA,GACA,wCACA,IACA,wCAHA,sBAhKA,SAuKA,eACA,yBACA,GAzKA,gBAuKA,EAvKA,EAuKA,SAvKA,EAuKA,QAvKA,EAuKA,KAIA,WACA,sBACA,gCACA,SAGA,0BACA,8CACA,KAnLA,aAsLA,YAtLA,wBAuLA,sBACA,sCACA,uBACA,uBACA,qBACA,eACA,0CACA,qEAPA,WASA,GACA,wCACA,IACA,MACA,+BACA,gCALA,sBAhMA,UA0MA,gBACA,yBACA,GA5MA,iBA0MA,EA1MA,EA0MA,SA1MA,EA0MA,QA1MA,EA0MA,KAIA,WACA,sBACA,mCACA,SAEA,0BACA,+CApNA,wGAwNIL,cAxNJ,SAwNA,cACMhI,KAAKsI,OAAOC,QAAQ,CAClBC,MAAO,QACP,UAAW,IACXC,KAAM,WAAd,6JACA,oDADA,SAMA,eACA,sBACA,GARA,gBAGA,EAHA,EAGA,OACA,EAJA,EAIA,QAJA,EAKA,KAKA,WACA,mBACA,mCACA,SAEA,mCACA,iBACA,uBACA,uBACA,0BAEA,wBArBA,8FAAc,GAwBNC,SAAU,eAEZ3G,SAAS4G,cAAc,mBAAmBC,SAE5Cf,WAxPJ,WAwPA,WACA,KACM7H,KAAK+G,wBAAwB8B,QAAQ,SAA3C,GAC4B,gBAAhBC,EAAEC,WAA+C,aAAhBD,EAAEC,UACrCC,EAAaF,EAAEG,UAAY,GAE3BD,EAAaF,EAAEG,UAAY,KAG/BD,EAAa,kBAAmB,EAChCA,EAAa,kBAAmB,EAChCA,EAAa,iBAAkB,IAAIE,MAAOC,UAC1CnJ,KAAK6G,uBAAuBuC,QAAQJ,GACpChJ,KAAKqJ,UAAU,WACb,EAAR,0CACQ,EAAR,oCAEMrJ,KAAK2G,aAAakC,QAAQ,SAAhC,GACQC,EAAEQ,MAAMC,SAA4B,QAAjBT,EAAEU,cAGzB1B,YA7QJ,WA6QA,WACM9H,KAAKkI,MAAMC,MAAMsB,iBAAgB,GACjCzJ,KAAK2G,aAAakC,QAAQ,SAAhC,GAC6B,SAAjBC,EAAEU,aACJV,EAAEQ,MAAMC,UAAW,KAGvBvJ,KAAKqJ,UAAU,WACb,EAAR,qCAGIpB,cAxRJ,WAyRMjI,KAAKkI,MAAMC,MAAMuB,uBACjB1J,KAAKkI,MAAMC,MAAMwB,oBACjB3J,KAAK2G,cACX,sCACQ,EAAR,iBACA,sBACA,yBACA,4BAIIiD,qBApSJ,SAoSA,KACUC,EAAK7G,OAAS,EAChBhD,KAAK2G,aAAakC,QAAQ,SAAlC,GACUC,EAAEQ,MAAMC,SAA4B,QAAjBT,EAAEU,aAGvBxJ,KAAK2G,aAAakC,QAAQ,SAAlC,GACUC,EAAEQ,MAAMC,WAClB,sBACA,yBACA,2BAIMvJ,KAAKkH,YAAc2C,GAErBC,WApTJ,WAqTM9J,KAAK2F,6BAA+B,GACpC3F,KAAKiI,iBAEP8B,0BAxTJ,SAwTA,OACM/J,KAAKgK,sBAAmC,MAAbC,EAAG7K,IAAgBuI,EAAMsC,EAAGC,WAEzD,yBA3TJ,mEA2TA,OA3TA,mGA4TA,YA5TA,iCA6TA,eACA,EACA,mBA/TA,gBA6TA,EA7TA,EA6TA,OA7TA,EA6TA,OA7TA,EA6TA,QAIA,WACA,sBACA,gBACA,SAEA,+BAtUA,yCAyUA,gBACA,EACA,mBA3UA,iBAyUA,EAzUA,EAyUA,OAzUA,EAyUA,OAzUA,EAyUA,QAIA,WACA,sBACA,gBACA,SAEA,+BAlVA,4GAsVI,QAtVJ,kKAuVA,yBAvVA,uBAwVA,sBACA,gBACA,iBA1VA,0CA8VA,gBACA,6BACA,kCAhWA,gBA8VA,EA9VA,EA8VA,OA9VA,EA8VA,OA9VA,EA8VA,QAIA,WACA,sBACA,gBACA,SAEA,oBAvWA,uGA0WI,QA1WJ,kKA2WA,6BA3WA,uBA4WA,sBACA,gBACA,iBA9WA,0CAkXA,+BAlXA,gBAkXA,EAlXA,EAkXA,OAlXA,EAkXA,OAlXA,EAkXA,QACA,WACA,sBACA,gBACA,SAEA,kBACA,oBAzXA,uGA4XI,eA5XJ,mEA6XA,EACA,EACA,GA/XA,uGAgYA,EAhYA,iCAkYA,EAlYA,qBAmYA,EAnYA,gCAoYA,mBApYA,2DAqYA,mBArYA,4BAmYA,EAnYA,KAsYA,gDACA,GACA,qCACA,6BACA,kBACA,0BAGA,8BACA,6BACA,WACA,wBAEA,iDAnZA,wBAsZA,EACA,iDAEA,yCACA,2BA1ZA,4GA8ZI,gBA9ZJ,mEA8ZA,KA9ZA,wGA+ZA,qBACA,+BACA,+BACA,aACA,iBACA,eApaA,SAuaA,mBAvaA,gBAuaA,EAvaA,EAuaA,SAvaA,EAuaA,KAvaA,EAuaA,QACA,+BACA,UACA,+BACA,aACA,kDACA,IACA,aAEA,4DAhbA,0GAobI,YApbJ,+KAqbA,iBArbA,gBAqbA,EArbA,EAqbA,SArbA,EAqbA,KArbA,EAqbA,QACA,WACA,6BACA,OACA,YACA,oBACA,oBACA,0BACA,WACA,oBA9bA,sGAmcIC,iBAncJ,WAocMnK,KAAK6F,qBAAsB,GAE7BuE,iBAtcJ,WAucMpK,KAAK8F,qBAAsB,GAG7BuE,wBA1cJ,SA0cA,mEACMC,EAASzB,QAAQ,SAAvB,GACQC,EAAEyB,SAAS1B,QAAQ,SAA3B,GACU,IAAV,yCACU2B,EAAEC,UAAUC,IAEd5B,EAAE6B,eAAgB,EAClB7B,EAAE2B,SAAU,KAIhB,gBArdJ,mEAqdA,KArdA,iGAsdA,qBACA,+BACA,sCACA,6BACA,GAEA,+BACA,aACA,WACA,eA/dA,SAkeA,mBAleA,gBAkeA,EAleA,EAkeA,SAleA,EAkeA,KAleA,EAkeA,QACA,4BACA,UACA,+BACA,aACA,0DACA,IACA,eAzeA,0GA8eI,oBA9eJ,mEA8eA,KA9eA,+FA+eA,KACA,WAGA,eAFA,8CAIA,UArfA,gCAsfA,qCAtfA,2DAufA,sCAvfA,mCAqfA,EArfA,EAqfA,SArfA,EAqfA,QArfA,EAqfA,KAGA,UACA,sBACA,gBACA,SAGA,8CA9fA,0GAggBI,YAhgBJ,+KAigBA,iBAjgBA,gBAigBA,EAjgBA,EAigBA,SAjgBA,EAigBA,KAjgBA,EAigBA,QACA,WACA,6BACA,OACA,YACA,oBACA,0BACA,oBACA,WACA,oBA1gBA,sGA+gBIG,sBA/gBJ,SA+gBA,2EACA,KAgCM,OA/BA1G,EAAK2E,QAAQ,SAAnB,GACQ,IAAKC,EAAE+B,SAAU,CACf,IAAV,mDACUtF,EAAMtG,KAAK,EAArB,GACA,EADA,CAEYuJ,MAAZ,UAAmB,EAAnB,wBACY1I,GAAIgJ,EAAEhJ,GACNgL,QAAQ,EACRL,SAAS,EACTF,SAAU,GACVhB,SAAZ,QAIMrF,EAAK2E,QAAQ,SAAnB,GACQ,GAAIC,EAAE+B,SAAU,CACd,IAAV,mDACUtF,EAAMsD,QAAQ,SAAxB,GACgBC,EAAE+B,WAAaE,EAAEjL,IACnBiL,EAAER,SAAStL,KAAK,EAA9B,GACA,EADA,CAEgBuJ,MAAhB,UAAuB,EAAvB,wBACgB1I,GAAIgJ,EAAEhJ,GACNgL,QAAQ,EACRL,SAAS,EACTlB,SAAhB,UAMahE,GAET,YAljBJ,+KAmjBA,iBAnjBA,gBAmjBA,EAnjBA,EAmjBA,SAnjBA,EAmjBA,KAnjBA,EAmjBA,QACA,WACA,8BACA,yCACA,oDAvjBA,sGA0jBIyF,2BA1jBJ,SA0jBA,GACMhL,KAAKiL,gBAAe,GAAM,EAAMjL,KAAKsG,gBAEvC,oBA7jBJ,mEA6jBA,OA7jBA,2FA8jBA,uBA9jBA,qDA+jBA,EA/jBA,gCAgkBA,eACA,mBACA,EACA,GAnkBA,OAgkBA,EAhkBA,OAqkBA,mCArkBA,wCAukBA,gBACA,mBACA,EACA,GA1kBA,QAukBA,EAvkBA,OA4kBA,mCA5kBA,4GA+kBI4E,iBA/kBJ,SA+kBA,KACM,OAAOC,EAAKC,OAAOC,GAAMC,OAAO,SAAtC,OACQ,OAAOC,EAAIpH,QAAQqH,KAAOD,EAAIE,YAAYD,MAG9C,oBAplBJ,mEAolBA,GAplBA,iGAqlBA,+BACA,4BACA,oBAvlBA,SAwlBA,mBAxlBA,gBAwlBA,EAxlBA,EAwlBA,SAxlBA,EAwlBA,KAxlBA,EAwlBA,QACA,WACA,iEAEA,oDACA,OACA,SACA,oBACA,kEAGA,wBAnmBA,wGAqmBIE,OArmBJ,aAsmBIC,YAtmBJ,WAumBiC,IAAvB3L,KAAKsG,eACPtG,KAAK4L,iBAAgB,EAAM5L,KAAKsG,iBAItCuF,QA7xBF,WA8xBI7L,KAAK8L,cACL9L,KAAK+L,cACL/L,KAAKgM,eAGPC,MAAO,IC9/BLC,EAAS,WAAa,IAAIC,EAAInM,KAASoM,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,MAAM,CAAC,KAAO,MAAM,CAACF,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACN,EAAIO,GAAG,0BAA0BJ,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,SAAS,KAAO,SAASG,GAAG,CAAC,MAAQR,EAAI/B,mBAAmB,CAAC+B,EAAIO,GAAG,WAAW,GAAGP,EAAIO,GAAG,KAAKP,EAAIS,GAAIT,EAAS,MAAE,SAASpL,GAAM,OAAOuL,EAAG,MAAM,CAACO,IAAI9L,EAAKjB,GAAG0M,MAAM,CAAC,KAAOzL,EAAK+L,SAAS,MAAQ/L,EAAKgM,MAAM,QAAUhM,EAAK0J,QAAQ,UAAY,GAAG,MAAO,GAAOkC,GAAG,CAAC,YAAYR,EAAIa,kBAAkB,CAACV,EAAG,OAAO,CAACE,MAAM,CAAC,MAAS,IAAOzL,EAAa,SAAI,MAASA,EAAgB,YAAI,QAAS,CAACoL,EAAIO,GAAGP,EAAIc,GAAI,IAAOlM,EAAa,SAAI,MAASA,EAAgB,YAAI,eAAgB,IAAI,GAAGoL,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACY,YAAY,CAAC,cAAc,QAAQV,MAAM,CAAC,KAAO,IAAI,OAAS,MAAM,CAACF,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACN,EAAIO,GAAG,0BAA0BJ,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,UAAU,KAAO,SAAS,KAAO,SAASG,GAAG,CAAC,MAAQR,EAAIhC,mBAAmB,CAACgC,EAAIO,GAAG,WAAW,GAAGP,EAAIO,GAAG,KAAKP,EAAIS,GAAIT,EAAS,MAAE,SAASpL,GAAM,OAAOuL,EAAG,MAAM,CAACO,IAAI9L,EAAKjB,GAAGqN,YAAY,aAAa,CAACb,EAAG,MAAM,CAACE,MAAM,CAAC,KAAOzL,EAAKjB,GAAG,MAAQiB,EAAKgM,MAAM,QAAUhM,EAAK0J,QAAQ,UAAY,GAAG,MAAO,GAAOkC,GAAG,CAAC,YAAYR,EAAIP,kBAAkB,CAACU,EAAG,OAAO,CAACE,MAAM,CAAC,MAAQzL,EAAKqM,cAAc,CAACjB,EAAIO,GAAGP,EAAIc,GAAGlM,EAAKqM,kBAAkBjB,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,YAAY,KAAO,SAAS,KAAO,SAASG,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOlB,EAAImB,oBAAoBvM,EAAKjB,OAAO,CAACqM,EAAIO,GAAG,SAAS,MAAM,IAAI,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACY,YAAY,CAAC,cAAc,QAAQV,MAAM,CAAC,KAAO,IAAI,OAAS,MAAM,CAACF,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACN,EAAIO,GAAG,UAAUP,EAAIO,GAAG,KAAKJ,EAAG,OAAO,CAACE,MAAM,CAAC,KAAOL,EAAI5G,MAAM,gBAAgB,IAAIoH,GAAG,CAAC,kBAAkBR,EAAIoB,wBAAwB,IAAI,GAAGpB,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACY,YAAY,CAAC,cAAc,QAAQV,MAAM,CAAC,KAAO,IAAI,OAAS,MAAM,CAACF,EAAG,OAAO,CAACA,EAAG,IAAI,CAACE,MAAM,CAAC,KAAO,SAASC,KAAK,SAAS,CAACN,EAAIO,GAAG,UAAUP,EAAIO,GAAG,KAAKP,EAAIS,GAAIT,EAAqB,kBAAE,SAASlC,GAAI,OAAOqC,EAAG,MAAM,CAACO,IAAI5C,EAAGC,SAASiD,YAAY,oBAAoB,CAACb,EAAG,OAAO,CAACa,YAAY,UAAUD,YAAY,CAAC,YAAY,QAAQ,cAAc,SAAS,SAAW,SAAS,gBAAgB,YAAYV,MAAM,CAAC,MAAQvC,EAAGuD,aAAa,CAACrB,EAAIO,GAAGP,EAAIc,GAAGhD,EAAGuD,eAAerB,EAAIO,GAAG,KAAKJ,EAAG,MAAM,CAACa,YAAY,mBAAmB,CAAChB,EAAIS,GAAIT,EAAe,YAAE,SAASsB,GAAK,OAAOnB,EAAG,WAAW,CAACO,IAAIY,EAAIC,WAAWlB,MAAM,CAAC,SAAWL,EAAI3G,uBAAuB,cAAuC,MAAvByE,EAAGwD,EAAIC,YAAoB,MAA+B,MAAvBzD,EAAGwD,EAAIC,aAAqBC,SAAS,CAAC,MAAQ,SAASN,GAAgC,OAAxBA,EAAOO,iBAAwBzB,EAAIpC,0BAA0BE,EAAIwD,EAAIC,WAAYD,EAAI9F,SAAS,CAACwE,EAAIO,GAAGP,EAAIc,GAAGQ,EAAII,iBAAiB1B,EAAIO,GAAG,KAAKJ,EAAG,SAAS,CAACE,MAAM,CAAC,KAAO,YAAY,KAAO,SAAS,KAAO,QAAQ,SAAWL,EAAI3G,wBAAwBmH,GAAG,CAAC,MAAQ,SAASU,GAAQ,OAAOlB,EAAI5E,0BAA0B0C,EAAGzC,iBAAiB,CAAC2E,EAAIO,GAAG,SAAS,QAAQ,IAAI,GAAGP,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,QAAQG,GAAG,CAAC,QAAQR,EAAI2B,QAAQ,YAAY3B,EAAIT,QAAQqC,MAAM,CAACC,MAAO7B,EAAuB,oBAAEtJ,SAAS,SAAUoL,GAAM9B,EAAItG,oBAAoBoI,GAAKC,WAAW,wBAAwB,CAAC5B,EAAG,QAAQ,CAACE,MAAM,CAAC,YAAc,UAAUuB,MAAM,CAACC,MAAO7B,EAAkB,eAAEtJ,SAAS,SAAUoL,GAAM9B,EAAIpG,eAAekI,GAAKC,WAAW,qBAAqB,GAAG/B,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,QAAQG,GAAG,CAAC,QAAQR,EAAIgC,QAAQ,YAAYhC,EAAIT,QAAQqC,MAAM,CAACC,MAAO7B,EAAuB,oBAAEtJ,SAAS,SAAUoL,GAAM9B,EAAIrG,oBAAoBmI,GAAKC,WAAW,wBAAwB,CAAC5B,EAAG,OAAO,CAACzL,IAAI,gBAAgBsM,YAAY,kBAAkBX,MAAM,CAAC,MAAQL,EAAIhF,UAAU,iBAAiB,OAAO,cAAc,MAAM,CAACmF,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,MAAM,KAAO,aAAa,CAACF,EAAG,QAAQ,CAACyB,MAAM,CAACC,MAAO7B,EAAIhF,UAAkB,SAAEtE,SAAS,SAAUoL,GAAM9B,EAAIiC,KAAKjC,EAAIhF,UAAW,WAAY8G,IAAMC,WAAW,yBAAyB,GAAG/B,EAAIO,GAAG,KAAKJ,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,KAAK,KAAO,aAAa,CAACF,EAAG,QAAQ,CAACyB,MAAM,CAACC,MAAO7B,EAAIhF,UAAkB,SAAEtE,SAAS,SAAUoL,GAAM9B,EAAIiC,KAAKjC,EAAIhF,UAAW,WAAY8G,IAAMC,WAAW,yBAAyB,GAAG/B,EAAIO,GAAG,KAAKJ,EAAG,WAAW,CAACE,MAAM,CAAC,MAAQ,OAAO,KAAO,gBAAgB,CAACF,EAAG,QAAQ,CAACyB,MAAM,CAACC,MAAO7B,EAAIhF,UAAqB,YAAEtE,SAAS,SAAUoL,GAAM9B,EAAIiC,KAAKjC,EAAIhF,UAAW,cAAe8G,IAAMC,WAAW,4BAA4B,IAAI,IAAI,GAAG/B,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,MAAM,MAAQ,QAAQG,GAAG,CAAC,QAAQR,EAAIR,YAAY,YAAYQ,EAAIR,aAAaoC,MAAM,CAACC,MAAO7B,EAAmB,gBAAEtJ,SAAS,SAAUoL,GAAM9B,EAAInG,gBAAgBiI,GAAKC,WAAW,oBAAoB,CAAC5B,EAAG,WAAW,CAACE,MAAM,CAAC,OAASL,EAAI9F,eAAe,aAAa8F,EAAI1F,cAAc,KAAO0F,EAAIhG,oBAAoB,cAAcgG,EAAIjG,uBAAuB,gBAAgBiG,EAAI9E,0BAA0B,WAAa,IAAIsF,GAAG,CAAC,YAAYR,EAAIkC,6BAA6B,GAAGlC,EAAIO,GAAG,KAAKJ,EAAG,QAAQ,CAACE,MAAM,CAAC,MAAQ,SAAS,MAAQ,MAAMG,GAAG,CAAC,QAAQR,EAAIrC,WAAW,YAAYqC,EAAIrC,YAAYiE,MAAM,CAACC,MAAO7B,EAAyB,sBAAEtJ,SAAS,SAAUoL,GAAM9B,EAAIlG,sBAAsBgI,GAAKC,WAAW,0BAA0B,CAAC5B,EAAG,UAAU,CAACzL,IAAI,QAAQ2L,MAAM,CAAC,UAAYL,EAAItF,uBAAuB,eAAgB,EAAK,kBAAoBsF,EAAIxF,aAAa,kBAAoBwF,EAAIvF,aAAa,aAAeuF,EAAIpF,wBAAwB,WAAaoF,EAAInF,wBAAwB,cAAe,EAAK,YAAc,OAAO2F,GAAG,CAAC,UAAYR,EAAIzE,UAAU,gBAAkByE,EAAIvC,yBAAyB,IAAI,IACn7K0E,EAAkB,G,YCDtB,SAASC,EAAaC,GACpB,EAAQ,QAQV,IAAIC,GAA8B,EAE9BC,EAAiBH,EAEjBI,EAAkB,kBAElBC,EAA4B,KAE5BC,EAAY,eACd,EACA,EACA,EACAJ,EACAC,EACAC,EACAC,GAGa,aAAAC,EAAiB","file":"js/chunk-060d7559.33e6edd7.js","sourcesContent":["exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".ivu-tag[data-v-671692c8]{display:block;border:1px dashed #515a61!important}.ivu-tag .ivu-tag-text[data-v-671692c8]{white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block}.role-item .ivu-tag[data-v-671692c8]{display:inline-block;width:65%}.data-permissions[data-v-671692c8]{width:100%;height:30px;border:1px dashed gray;padding-left:5px;padding-right:5px;border-radius:5px;margin-bottom:5px}.ciTypes-options[data-v-671692c8]{float:right;line-height:30px}.ciTypes[data-v-671692c8]{float:left;line-height:30px}.ciTypes-options .ivu-checkbox-indeterminate .ivu-checkbox-inner[data-v-671692c8]{background-color:#4ee643}.ciTypes-options .ivu-checkbox-disabled.ivu-checkbox-checked .ivu-checkbox-inner[data-v-671692c8]{background-color:#2d8cf0}\", \"\"]);\n\n// exports\n","export const MENUS = [\r\n  {\r\n    code: \"JOBS\",\r\n    cnName: \"任务\",\r\n    enName: \"Jobs\"\r\n  },\r\n  {\r\n    code: \"DESIGNING\",\r\n    cnName: \"设计\",\r\n    enName: \"Designing\"\r\n  },\r\n  {\r\n    code: \"IMPLEMENTATION\",\r\n    cnName: \"执行\",\r\n    enName: \"Implementation\"\r\n  },\r\n  {\r\n    code: \"MONITORING\",\r\n    cnName: \"监测\",\r\n    enName: \"Monitoring\"\r\n  },\r\n  {\r\n    code: \"ADJUSTMENT\",\r\n    cnName: \"调整\",\r\n    enName: \"Adjustment\"\r\n  },\r\n  {\r\n    code: \"INTELLIGENCE_OPS\",\r\n    cnName: \"智慧\",\r\n    enName: \"Intelligence Ops\"\r\n  },\r\n  {\r\n    code: \"COLLABORATION\",\r\n    cnName: \"协同\",\r\n    enName: \"Collaboration\"\r\n  },\r\n  {\r\n    code: \"ADMIN\",\r\n    cnName: \"系统\",\r\n    enName: \"Admin\"\r\n  },\r\n  {\r\n    code: \"JOBS_INITIATOR\",\r\n    cnName: \"本组发起\",\r\n    enName: \"Initiator\",\r\n    link: \"/coming-soon\"\r\n    // /jobs/initiator\r\n  },\r\n  {\r\n    code: \"JOBS_EXECUTOR\",\r\n    cnName: \"本组处理\",\r\n    enName: \"Executor\",\r\n    link: \"/coming-soon\"\r\n    // /jobs/executor\r\n  },\r\n  {\r\n    code: \"DESIGNING_PLANNING\",\r\n    cnName: \"规划设计\",\r\n    enName: \"Design Planning\",\r\n    link: \"/designing/planning\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_RESOURCE_PLANNING\",\r\n    cnName: \"资源规划\",\r\n    enName: \"Resource Planning\",\r\n    link: \"/designing/resource-planning\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_APPLICATION_ARCHITECTURE\",\r\n    cnName: \"应用架构设计\",\r\n    enName: \"Architecture\",\r\n    link: \"/designing/application-architecture\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_APPLICATION_DEPLOYMENT\",\r\n    cnName: \"应用部署设计\",\r\n    enName: \"Deployment\",\r\n    link: \"/designing/application-deployment\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_CI_DATA_MANAGEMENT\",\r\n    cnName: \"CI数据管理\",\r\n    enName: \"CI Data Management\",\r\n    link: \"/designing/ci-data-management\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_CI_DATA_ENQUIRY\",\r\n    cnName: \"CI数据查询\",\r\n    enName: \"CI Data Enquiry\",\r\n    link: \"/designing/ci-data-enquiry\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_CI_INTEGRATED_QUERY_MANAGEMENT\",\r\n    cnName: \"CI综合查询管理\",\r\n    enName: \"CI Integrate Query Management\",\r\n    link: \"/designing/ci-integrated-query-management\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_CI_INTEGRATED_QUERY_EXECUTION\",\r\n    cnName: \"CI数据综合查询\",\r\n    enName: \"CI Integrate Query\",\r\n    link: \"/designing/ci-integrated-query-execution\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_ENUM_MANAGEMENT\",\r\n    cnName: \"枚举数据管理\",\r\n    enName: \"Enum Management\",\r\n    link: \"/designing/enum-management\"\r\n  },\r\n  {\r\n    code: \"DESIGNING_ENUM_ENQUIRY\",\r\n    cnName: \"枚举数据查询\",\r\n    enName: \"Enum Enquiry\",\r\n    link: \"/designing/enum-enquiry\"\r\n  },\r\n  {\r\n    code: \"IMPLEMENTATION_ARTIFACT_MANAGEMENT\",\r\n    cnName: \"物料管理\",\r\n    enName: \"Artifact Management\",\r\n    link: \"/implementation/artifact-management\"\r\n  },\r\n  {\r\n    code: \"IMPLEMENTATION_APPLICATION_DEPLOYMENT\",\r\n    cnName: \"应用部署\",\r\n    enName: \"Deployment\",\r\n    link: \"/implementation/application-deployment\"\r\n  },\r\n  {\r\n    code: \"IMPLEMENTATION_BATCH_JOB\",\r\n    cnName: \"批量执行\",\r\n    enName: \"Batch Job\",\r\n    link: \"/implementation/batch-job\"\r\n  },\r\n  {\r\n    code: \"IMPLEMENTATION_HIGH_RISK_INSTRUCTION_MANAGEMENT\",\r\n    cnName: \"高危指令配置\",\r\n    enName: \"High Risk Instruction Management\",\r\n    link: \"/coming-soon\"\r\n    // /implementation/high-risk-instruction-management\r\n  },\r\n  {\r\n    code: \"MONITORING_BASIC_MONITOR_MANAGEMENT\",\r\n    cnName: \"基础监控管理\",\r\n    enName: \"Common Management\",\r\n    link: \"/coming-soon\"\r\n    // /monitoring/basic-monitor-management\r\n  },\r\n  {\r\n    code: \"MONITORING_APPLICATION_MONITOR_MANAGEMENT\",\r\n    cnName: \"应用监控管理\",\r\n    enName: \"Application Management\",\r\n    link: \"/coming-soon\"\r\n    // /monitoring/application-monitor-management\r\n  },\r\n  {\r\n    code: \"MONITORING_CONTROL_PANEL_SETTING\",\r\n    cnName: \"监控面板配置\",\r\n    enName: \"Panel Setting\",\r\n    link: \"/coming-soon\"\r\n    // /monitoring/control-panel-setting\r\n  },\r\n  {\r\n    code: \"MONITORING_DISCOVERY\",\r\n    cnName: \"现实发现\",\r\n    enName: \"Discovery\",\r\n    link: \"/coming-soon\"\r\n    // /monitoring/discovery\r\n  },\r\n  {\r\n    code: \"MONITORING_CONSISTENCE_MANAGEMENT\",\r\n    cnName: \"一致性管理\",\r\n    enName: \"Consistence Management\",\r\n    link: \"/coming-soon\"\r\n    // /monitoring/consistence-management\r\n  },\r\n  {\r\n    code: \"ADJUSTMENT_TENDENCY\",\r\n    cnName: \"趋势管理\",\r\n    enName: \"Tendency\",\r\n    link: \"/coming-soon\"\r\n    // /adjustment/tendency\r\n  },\r\n  {\r\n    code: \"ADJUSTMENT_ROOT_CAUSE_INVESTIGATION\",\r\n    cnName: \"根因分析\",\r\n    enName: \"Root Cause Investigation\",\r\n    link: \"/coming-soon\"\r\n    // /adjustment/root-cause-investigation\r\n  },\r\n  {\r\n    code: \"ADJUSTMENT_EXPANSION\",\r\n    cnName: \"趋势扩容\",\r\n    enName: \"Expansion\",\r\n    link: \"/coming-soon\"\r\n    // /adjustment/expansion\r\n  },\r\n  {\r\n    code: \"ADJUSTMENT_RECOVERY\",\r\n    cnName: \"故障恢复\",\r\n    enName: \"Recovery\",\r\n    link: \"/coming-soon\"\r\n    // /adjustment/recovery\r\n  },\r\n  {\r\n    code: \"INTELLIGENCE_OPS_MODELING\",\r\n    cnName: \"数据建模\",\r\n    enName: \"Modeling\",\r\n    link: \"/coming-soon\"\r\n    // /intelligence/ops-modeling\r\n  },\r\n  {\r\n    code: \"INTELLIGENCE_OPS_DATA_SYNCHRONIZATION\",\r\n    cnName: \"数据同步\",\r\n    enName: \"Data Synchronization\",\r\n    link: \"/coming-soon\"\r\n    // /intelligence/ops-data-synchronization\r\n  },\r\n  {\r\n    code: \"COLLABORATION_PLUGIN_MANAGEMENT\",\r\n    cnName: \"插件注册\",\r\n    enName: \"Plugin Manager\",\r\n    link: \"/collaboration/plugin-management\"\r\n  },\r\n  {\r\n    code: \"COLLABORATION_WORKFLOW_ORCHESTRATION\",\r\n    cnName: \"任务编排\",\r\n    enName: \"Workflow Designing\",\r\n    link: \"/collaboration/workflow-orchestration\"\r\n  },\r\n  {\r\n    code: \"COLLABORATION_SERVICE_CHANNEL\",\r\n    cnName: \"服务通道\",\r\n    enName: \"Service Channel\",\r\n    link: \"/coming-soon\"\r\n    // /collaboration/service-channel\r\n  },\r\n  {\r\n    code: \"ADMIN_CMDB_MODEL_MANAGEMENT\",\r\n    cnName: \"CMDB模型管理\",\r\n    enName: \"CMDB Modeling\",\r\n    link: \"/admin/cmdb-model-management\"\r\n  },\r\n  {\r\n    code: \"ADMIN_PERMISSION_MANAGEMENT\",\r\n    cnName: \"系统权限管理\",\r\n    enName: \"Permission\",\r\n    link: \"/admin/permission-management\"\r\n  },\r\n  {\r\n    code: \"ADMIN_BASE_DATA_MANAGEMENT\",\r\n    cnName: \"基础数据管理\",\r\n    enName: \"Base Data Management\",\r\n    link: \"/admin/base-data-management\"\r\n  },\r\n  {\r\n    code: \"IMPLEMENTATION_WORKFLOW_EXECUTION\",\r\n    cnName: \"编排任务执行\",\r\n    enName: \"Workflow Exection\",\r\n    link: \"/implementation/workflow-execution\"\r\n  }\r\n];\r\n","var scope = (typeof global !== \"undefined\" && global) ||\n            (typeof self !== \"undefined\" && self) ||\n            window;\nvar apply = Function.prototype.apply;\n\n// DOM APIs, for completeness\n\nexports.setTimeout = function() {\n  return new Timeout(apply.call(setTimeout, scope, arguments), clearTimeout);\n};\nexports.setInterval = function() {\n  return new Timeout(apply.call(setInterval, scope, arguments), clearInterval);\n};\nexports.clearTimeout =\nexports.clearInterval = function(timeout) {\n  if (timeout) {\n    timeout.close();\n  }\n};\n\nfunction Timeout(id, clearFn) {\n  this._id = id;\n  this._clearFn = clearFn;\n}\nTimeout.prototype.unref = Timeout.prototype.ref = function() {};\nTimeout.prototype.close = function() {\n  this._clearFn.call(scope, this._id);\n};\n\n// Does not start the time, just sets up the members needed.\nexports.enroll = function(item, msecs) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = msecs;\n};\n\nexports.unenroll = function(item) {\n  clearTimeout(item._idleTimeoutId);\n  item._idleTimeout = -1;\n};\n\nexports._unrefActive = exports.active = function(item) {\n  clearTimeout(item._idleTimeoutId);\n\n  var msecs = item._idleTimeout;\n  if (msecs >= 0) {\n    item._idleTimeoutId = setTimeout(function onTimeout() {\n      if (item._onTimeout)\n        item._onTimeout();\n    }, msecs);\n  }\n};\n\n// setimmediate attaches itself to the global object\nrequire(\"setimmediate\");\n// On some exotic environments, it's not clear which object `setimmediate` was\n// able to install onto.  Search each possibility in the same order as the\n// `setimmediate` library.\nexports.setImmediate = (typeof self !== \"undefined\" && self.setImmediate) ||\n                       (typeof global !== \"undefined\" && global.setImmediate) ||\n                       (this && this.setImmediate);\nexports.clearImmediate = (typeof self !== \"undefined\" && self.clearImmediate) ||\n                         (typeof global !== \"undefined\" && global.clearImmediate) ||\n                         (this && this.clearImmediate);\n","(function (global, undefined) {\n    \"use strict\";\n\n    if (global.setImmediate) {\n        return;\n    }\n\n    var nextHandle = 1; // Spec says greater than zero\n    var tasksByHandle = {};\n    var currentlyRunningATask = false;\n    var doc = global.document;\n    var registerImmediate;\n\n    function setImmediate(callback) {\n      // Callback can either be a function or a string\n      if (typeof callback !== \"function\") {\n        callback = new Function(\"\" + callback);\n      }\n      // Copy function arguments\n      var args = new Array(arguments.length - 1);\n      for (var i = 0; i < args.length; i++) {\n          args[i] = arguments[i + 1];\n      }\n      // Store and register the task\n      var task = { callback: callback, args: args };\n      tasksByHandle[nextHandle] = task;\n      registerImmediate(nextHandle);\n      return nextHandle++;\n    }\n\n    function clearImmediate(handle) {\n        delete tasksByHandle[handle];\n    }\n\n    function run(task) {\n        var callback = task.callback;\n        var args = task.args;\n        switch (args.length) {\n        case 0:\n            callback();\n            break;\n        case 1:\n            callback(args[0]);\n            break;\n        case 2:\n            callback(args[0], args[1]);\n            break;\n        case 3:\n            callback(args[0], args[1], args[2]);\n            break;\n        default:\n            callback.apply(undefined, args);\n            break;\n        }\n    }\n\n    function runIfPresent(handle) {\n        // From the spec: \"Wait until any invocations of this algorithm started before this one have completed.\"\n        // So if we're currently running a task, we'll need to delay this invocation.\n        if (currentlyRunningATask) {\n            // Delay by doing a setTimeout. setImmediate was tried instead, but in Firefox 7 it generated a\n            // \"too much recursion\" error.\n            setTimeout(runIfPresent, 0, handle);\n        } else {\n            var task = tasksByHandle[handle];\n            if (task) {\n                currentlyRunningATask = true;\n                try {\n                    run(task);\n                } finally {\n                    clearImmediate(handle);\n                    currentlyRunningATask = false;\n                }\n            }\n        }\n    }\n\n    function installNextTickImplementation() {\n        registerImmediate = function(handle) {\n            process.nextTick(function () { runIfPresent(handle); });\n        };\n    }\n\n    function canUsePostMessage() {\n        // The test against `importScripts` prevents this implementation from being installed inside a web worker,\n        // where `global.postMessage` means something completely different and can't be used for this purpose.\n        if (global.postMessage && !global.importScripts) {\n            var postMessageIsAsynchronous = true;\n            var oldOnMessage = global.onmessage;\n            global.onmessage = function() {\n                postMessageIsAsynchronous = false;\n            };\n            global.postMessage(\"\", \"*\");\n            global.onmessage = oldOnMessage;\n            return postMessageIsAsynchronous;\n        }\n    }\n\n    function installPostMessageImplementation() {\n        // Installs an event handler on `global` for the `message` event: see\n        // * https://developer.mozilla.org/en/DOM/window.postMessage\n        // * http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#crossDocumentMessages\n\n        var messagePrefix = \"setImmediate$\" + Math.random() + \"$\";\n        var onGlobalMessage = function(event) {\n            if (event.source === global &&\n                typeof event.data === \"string\" &&\n                event.data.indexOf(messagePrefix) === 0) {\n                runIfPresent(+event.data.slice(messagePrefix.length));\n            }\n        };\n\n        if (global.addEventListener) {\n            global.addEventListener(\"message\", onGlobalMessage, false);\n        } else {\n            global.attachEvent(\"onmessage\", onGlobalMessage);\n        }\n\n        registerImmediate = function(handle) {\n            global.postMessage(messagePrefix + handle, \"*\");\n        };\n    }\n\n    function installMessageChannelImplementation() {\n        var channel = new MessageChannel();\n        channel.port1.onmessage = function(event) {\n            var handle = event.data;\n            runIfPresent(handle);\n        };\n\n        registerImmediate = function(handle) {\n            channel.port2.postMessage(handle);\n        };\n    }\n\n    function installReadyStateChangeImplementation() {\n        var html = doc.documentElement;\n        registerImmediate = function(handle) {\n            // Create a <script> element; its readystatechange event will be fired asynchronously once it is inserted\n            // into the document. Do so, thus queuing up the task. Remember to clean up once it's been called.\n            var script = doc.createElement(\"script\");\n            script.onreadystatechange = function () {\n                runIfPresent(handle);\n                script.onreadystatechange = null;\n                html.removeChild(script);\n                script = null;\n            };\n            html.appendChild(script);\n        };\n    }\n\n    function installSetTimeoutImplementation() {\n        registerImmediate = function(handle) {\n            setTimeout(runIfPresent, 0, handle);\n        };\n    }\n\n    // If supported, we should attach to the prototype of global, since that is where setTimeout et al. live.\n    var attachTo = Object.getPrototypeOf && Object.getPrototypeOf(global);\n    attachTo = attachTo && attachTo.setTimeout ? attachTo : global;\n\n    // Don't get fooled by e.g. browserify environments.\n    if ({}.toString.call(global.process) === \"[object process]\") {\n        // For Node.js before 0.9\n        installNextTickImplementation();\n\n    } else if (canUsePostMessage()) {\n        // For non-IE10 modern browsers\n        installPostMessageImplementation();\n\n    } else if (global.MessageChannel) {\n        // For web workers, where supported\n        installMessageChannelImplementation();\n\n    } else if (doc && \"onreadystatechange\" in doc.createElement(\"script\")) {\n        // For IE 6–8\n        installReadyStateChangeImplementation();\n\n    } else {\n        // For older browsers\n        installSetTimeoutImplementation();\n    }\n\n    attachTo.setImmediate = setImmediate;\n    attachTo.clearImmediate = clearImmediate;\n}(typeof self === \"undefined\" ? typeof global === \"undefined\" ? this : global : self));\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-671692c8\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./permission-management.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-loader/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"da0dc82a\", content, true, {});","<template>\r\n  <Row>\r\n    <Col span=\"4\">\r\n      <Card>\r\n        <p slot=\"title\">\r\n          用户\r\n          <Button\r\n            icon=\"ios-add\"\r\n            type=\"dashed\"\r\n            size=\"small\"\r\n            @click=\"openAddUserModal\"\r\n            >添加用户</Button\r\n          >\r\n        </p>\r\n        <Tag\r\n          v-for=\"item in users\"\r\n          :key=\"item.id\"\r\n          :name=\"item.username\"\r\n          :color=\"item.color\"\r\n          :checked=\"item.checked\"\r\n          checkable\r\n          :fade=\"false\"\r\n          @on-change=\"handleUserClick\"\r\n        >\r\n          <span :title=\"` ${item.fullName} ( ${item.description} ) `\">{{\r\n            ` ${item.fullName} ( ${item.description} ) `\r\n          }}</span>\r\n        </Tag>\r\n      </Card>\r\n    </Col>\r\n    <Col span=\"5\" offset=\"0\" style=\"margin-left: 20px\">\r\n      <Card>\r\n        <p slot=\"title\">\r\n          角色\r\n          <Button\r\n            icon=\"ios-add\"\r\n            type=\"dashed\"\r\n            size=\"small\"\r\n            @click=\"openAddRoleModal\"\r\n            >添加角色</Button\r\n          >\r\n        </p>\r\n        <div class=\"role-item\" v-for=\"item in roles\" :key=\"item.id\">\r\n          <Tag\r\n            :name=\"item.id\"\r\n            :color=\"item.color\"\r\n            :checked=\"item.checked\"\r\n            checkable\r\n            :fade=\"false\"\r\n            @on-change=\"handleRoleClick\"\r\n          >\r\n            <span :title=\"item.description\">{{ item.description }}</span>\r\n          </Tag>\r\n          <Button\r\n            icon=\"ios-build\"\r\n            type=\"dashed\"\r\n            size=\"small\"\r\n            @click=\"openUserManageModal(item.id)\"\r\n            >用户</Button\r\n          >\r\n        </div>\r\n      </Card>\r\n    </Col>\r\n    <Col span=\"4\" offset=\"0\" style=\"margin-left: 20px\">\r\n      <Card>\r\n        <p slot=\"title\">菜单权限</p>\r\n        <Tree\r\n          :data=\"menus\"\r\n          show-checkbox\r\n          @on-check-change=\"handleMenuTreeCheck\"\r\n        ></Tree>\r\n      </Card>\r\n    </Col>\r\n    <Col span=\"9\" offset=\"0\" style=\"margin-left: 20px\">\r\n      <Card>\r\n        <p slot=\"title\">数据权限</p>\r\n        <!-- <Tree :data=\"permissionEntryPoints\"></Tree> -->\r\n        <div\r\n          class=\"data-permissions\"\r\n          v-for=\"ci in ciTypePermissions\"\r\n          :key=\"ci.ciTypeId\"\r\n        >\r\n          <span\r\n            class=\"ciTypes\"\r\n            :title=\"ci.ciTypeName\"\r\n            style=\"max-width: 100px;white-space: nowrap; overflow: hidden; text-overflow: ellipsis\"\r\n            >{{ ci.ciTypeName }}</span\r\n          >\r\n          <div class=\"ciTypes-options\">\r\n            <Checkbox\r\n              v-for=\"act in actionsType\"\r\n              :disabled=\"dataPermissionDisabled\"\r\n              :indeterminate=\"ci[act.actionCode] === 'P'\"\r\n              :value=\"ci[act.actionCode] === 'Y'\"\r\n              :key=\"act.actionCode\"\r\n              @click.prevent.native=\"\r\n                ciTypesPermissionsHandler(ci, act.actionCode, act.type)\r\n              \"\r\n              >{{ act.actionName }}</Checkbox\r\n            >\r\n            <Button\r\n              icon=\"ios-build\"\r\n              type=\"dashed\"\r\n              size=\"small\"\r\n              :disabled=\"dataPermissionDisabled\"\r\n              @click=\"openPermissionManageModal(ci.roleCiTypeId)\"\r\n              >详情</Button\r\n            >\r\n          </div>\r\n        </div>\r\n      </Card>\r\n    </Col>\r\n\r\n    <Modal\r\n      v-model=\"addRoleModalVisible\"\r\n      title=\"添加角色\"\r\n      @on-ok=\"addRole\"\r\n      @on-cancel=\"cancel\"\r\n    >\r\n      <Input v-model=\"addedRoleValue\" placeholder=\"请输入用户名\" />\r\n    </Modal>\r\n    <Modal\r\n      v-model=\"addUserModalVisible\"\r\n      title=\"添加用户\"\r\n      @on-ok=\"addUser\"\r\n      @on-cancel=\"cancel\"\r\n    >\r\n      <Form\r\n        class=\"validation-form\"\r\n        ref=\"addedUserForm\"\r\n        :model=\"addedUser\"\r\n        label-position=\"left\"\r\n        :label-width=\"100\"\r\n      >\r\n        <FormItem label=\"用户名\" prop=\"username\">\r\n          <Input v-model=\"addedUser.username\" />\r\n        </FormItem>\r\n        <FormItem label=\"全名\" prop=\"fullName\">\r\n          <Input v-model=\"addedUser.fullName\" />\r\n        </FormItem>\r\n        <FormItem label=\"描述说明\" prop=\"description\">\r\n          <Input v-model=\"addedUser.description\" />\r\n        </FormItem>\r\n      </Form>\r\n    </Modal>\r\n    <Modal\r\n      v-model=\"userManageModal\"\r\n      width=\"700\"\r\n      title=\"编辑用户\"\r\n      @on-ok=\"confirmUser\"\r\n      @on-cancel=\"confirmUser\"\r\n    >\r\n      <Transfer\r\n        :titles=\"transferTitles\"\r\n        :list-style=\"transferStyle\"\r\n        :data=\"allUsersForTransfer\"\r\n        :target-keys=\"usersKeyBySelectedRole\"\r\n        :render-format=\"renderUserNameForTransfer\"\r\n        @on-change=\"handleUserTransferChange\"\r\n        filterable\r\n      ></Transfer>\r\n    </Modal>\r\n    <Modal\r\n      v-model=\"permissionManageModal\"\r\n      title=\"编辑数据权限\"\r\n      @on-ok=\"cancelEdit\"\r\n      @on-cancel=\"cancelEdit\"\r\n      width=\"80\"\r\n    >\r\n      <WeTable\r\n        :tableData=\"ciTypeAttrsPermissions\"\r\n        :filtersHidden=\"true\"\r\n        :tableOuterActions=\"outerActions\"\r\n        :tableInnerActions=\"innerActions\"\r\n        :tableColumns=\"attrsPermissionsColumns\"\r\n        :ascOptions=\"permissionsTableOptions\"\r\n        :showCheckbox=\"true\"\r\n        @actionFun=\"actionFun\"\r\n        @getSelectedRows=\"onSelectedRowsChange\"\r\n        tableHeight=\"650\"\r\n        ref=\"table\"\r\n      ></WeTable>\r\n    </Modal>\r\n  </Row>\r\n</template>\r\n<script>\r\nimport {\r\n  outerActions,\r\n  innerActions,\r\n  pagination,\r\n  components\r\n} from \"@/const/actions.js\";\r\nimport {\r\n  getAllUsers,\r\n  getAllRoles,\r\n  getAllMenus,\r\n  getAllPermissionEntryPoints,\r\n  getRolesByUser,\r\n  getUsersByRole,\r\n  addRole,\r\n  addUser,\r\n  getPermissionsByRole,\r\n  addUsersToRole,\r\n  romoveUsersFromRole,\r\n  getPermissionsByUser,\r\n  addMenusToRole,\r\n  removeMenusFromRole,\r\n  addDataPermissionAction,\r\n  removeDataPermissionAction,\r\n  getRoleCiTypeCtrlAttributesByRoleCiTypeId,\r\n  getEnumCodesByCategoryId,\r\n  createRoleCiTypeCtrlAttributes,\r\n  updateRoleCiTypeCtrlAttributes,\r\n  deleteRoleCiTypeCtrlAttributes\r\n} from \"@/api/server.js\";\r\n\r\nimport { MENUS } from \"@/const/menus.js\";\r\nimport { formatDataPermissionTree } from \"../util/admin.js\";\r\nimport { setTimeout } from \"timers\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      actionsType: [\r\n        {\r\n          actionCode: \"creationPermission\",\r\n          type: \"CREATION\",\r\n          actionName: \"增\"\r\n        },\r\n        {\r\n          actionCode: \"removalPermission\",\r\n          type: \"REMOVAL\",\r\n          actionName: \"删\"\r\n        },\r\n        {\r\n          actionCode: \"modificationPermission\",\r\n          type: \"MODIFICATION\",\r\n          actionName: \"改\"\r\n        },\r\n        {\r\n          actionCode: \"enquiryPermission\",\r\n          type: \"ENQUIRY\",\r\n          actionName: \"查\"\r\n        },\r\n        // {\r\n        //   actionCode: \"grantPermission\",\r\n        //   type: \"GRANT\",\r\n        //   actionName: \"授\"\r\n        // },\r\n        {\r\n          actionCode: \"executionPermission\",\r\n          type: \"EXECUTION\",\r\n          actionName: \"执\"\r\n        }\r\n      ],\r\n      users: [],\r\n      roles: [],\r\n      menus: [],\r\n      dataPermissionDisabled: false,\r\n      menusForEdit: [],\r\n      permissionEntryPoints: [],\r\n      permissionEntryPointsForEdit: [],\r\n      permissionEntryPointsBackup: [],\r\n      addRoleModalVisible: false,\r\n      addUserModalVisible: false,\r\n      addedRoleValue: \"\",\r\n      userManageModal: false,\r\n      permissionManageModal: false,\r\n      usersKeyBySelectedRole: [],\r\n      allUsersForTransfer: [],\r\n      selectedRole: 0,\r\n      transferTitles: [\"未选中用户\", \"选中用户\"],\r\n      currentRoleId: 0,\r\n      ciTypePermissions: [],\r\n      allMenusOriginResponse: [],\r\n      transferStyle: { width: \"300px\" },\r\n      currentRoleCiTypeId: \"\",\r\n      //for WeTable\r\n      outerActions,\r\n      innerActions,\r\n      ciTypeAttrsPermissions: [],\r\n      ciTypeAttrsPermissionsBackUp: [],\r\n      attrsPermissionsColumns: [],\r\n      permissionsTableOptions: {},\r\n      defaultColumns: [\r\n        {\r\n          title: \"查询\",\r\n          key: \"enquiryPermission\",\r\n          inputKey: \"enquiryPermission\",\r\n          displaySeqNo: 1,\r\n          placeholder: \"请选择\",\r\n          component: \"WeSelect\",\r\n          options: [\r\n            {\r\n              label: \"是\",\r\n              value: \"Y\"\r\n            },\r\n            {\r\n              label: \"否\",\r\n              value: \"N\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: \"新增\",\r\n          key: \"creationPermission\",\r\n          inputKey: \"creationPermission\",\r\n          displaySeqNo: 2,\r\n          placeholder: \"请选择\",\r\n          component: \"WeSelect\",\r\n          options: [\r\n            {\r\n              label: \"是\",\r\n              value: \"Y\"\r\n            },\r\n            {\r\n              label: \"否\",\r\n              value: \"N\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: \"修改\",\r\n          key: \"modificationPermission\",\r\n          inputKey: \"modificationPermission\",\r\n          displaySeqNo: 3,\r\n          placeholder: \"请选择\",\r\n          component: \"WeSelect\",\r\n          options: [\r\n            {\r\n              label: \"是\",\r\n              value: \"Y\"\r\n            },\r\n            {\r\n              label: \"否\",\r\n              value: \"N\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: \"执行\",\r\n          key: \"executionPermission\",\r\n          inputKey: \"executionPermission\",\r\n          displaySeqNo: 4,\r\n          placeholder: \"请选择\",\r\n          component: \"WeSelect\",\r\n          options: [\r\n            {\r\n              label: \"是\",\r\n              value: \"Y\"\r\n            },\r\n            {\r\n              label: \"否\",\r\n              value: \"N\"\r\n            }\r\n          ]\r\n        },\r\n        {\r\n          title: \"删除\",\r\n          key: \"removalPermission\",\r\n          inputKey: \"removalPermission\",\r\n          displaySeqNo: 5,\r\n          placeholder: \"请选择\",\r\n          component: \"WeSelect\",\r\n          options: [\r\n            {\r\n              label: \"是\",\r\n              value: \"Y\"\r\n            },\r\n            {\r\n              label: \"否\",\r\n              value: \"N\"\r\n            }\r\n          ]\r\n        }\r\n        // {\r\n        //   title: \"授权\",\r\n        //   key: \"grantPermission\",\r\n        //   inputKey: \"grantPermission\",\r\n        //   placeholder: \"请选择\",\r\n        //   component: \"WeSelect\",\r\n        //   options: [\r\n        //     {\r\n        //       label: \"是\",\r\n        //       value: \"Y\"\r\n        //     },\r\n        //     {\r\n        //       label: \"否\",\r\n        //       value: \"N\"\r\n        //     }\r\n        //   ]\r\n        // }\r\n      ],\r\n      seletedRows: [],\r\n      addedUser: {}\r\n    };\r\n  },\r\n  methods: {\r\n    renderUserNameForTransfer(item) {\r\n      return item.label;\r\n    },\r\n    openPermissionManageModal(roleCiTypeId) {\r\n      this.currentRoleCiTypeId = roleCiTypeId;\r\n      this.permissionManageModal = true;\r\n      this.getAttrPermissions();\r\n    },\r\n    async getAttrPermissions() {\r\n      let {\r\n        status,\r\n        data,\r\n        message\r\n      } = await getRoleCiTypeCtrlAttributesByRoleCiTypeId(\r\n        this.currentRoleCiTypeId\r\n      );\r\n      if (status === \"OK\") {\r\n        this.ciTypeAttrsPermissionsBackUp = data.body;\r\n        this.ciTypeAttrsPermissions = data.body.map(_ => {\r\n          let obj = {};\r\n          for (let i in _) {\r\n            const found = data.header.find(p => p.propertyName === i);\r\n            const isRef = found && found.inputType === \"ref\";\r\n            if (typeof _[i] === \"object\" && _[i] !== null) {\r\n              obj[i] = {\r\n                codeId:\r\n                  _[i].conditionValue && isRef\r\n                    ? _[i].conditionValue\r\n                    : _[i].conditionValue.split(\",\").map(n => n * 1),\r\n                value:\r\n                  (_[i].conditionValueObject &&\r\n                    _[i].conditionValueObject\r\n                      .map(s => (isRef ? s.data.key_name : s.value))\r\n                      .toString()\r\n                      .replace(\",\", \";\")) ||\r\n                  []\r\n              };\r\n            } else {\r\n              obj[i] = { codeId: _[i], value: _[i] === \"Y\" ? \"是\" : \"否\" };\r\n            }\r\n          }\r\n          return obj;\r\n        });\r\n        this.attrsPermissionsColumns = data.header\r\n          .map((h, index) => {\r\n            return {\r\n              ...h,\r\n              title: h.name,\r\n              key: h.propertyName,\r\n              inputKey: h.propertyName,\r\n              displaySeqNo: index + 6,\r\n              inputType: h.inputType,\r\n              referenceId: h.referenceId,\r\n              placeholder: h.name,\r\n              ciType: { id: h.referenceId, name: h.name },\r\n              type: \"text\",\r\n              ...components[h.inputType],\r\n              isMultiple: h.inputType === \"select\"\r\n            };\r\n          })\r\n          .concat(this.defaultColumns);\r\n        this.attrsPermissionsColumns.forEach(async i => {\r\n          if (i.inputType === \"select\") {\r\n            const enumOptions = await getEnumCodesByCategoryId(\r\n              0,\r\n              i.referenceId\r\n            );\r\n            let opts = [];\r\n            if (enumOptions.status === \"OK\") {\r\n              opts = enumOptions.data.map(_ => {\r\n                return {\r\n                  value: _.codeId,\r\n                  label: _.value\r\n                };\r\n              });\r\n              this.$set(i, \"options\", opts);\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    async exportHandler() {\r\n      const data = this.ciTypeAttrsPermissions.map(_ => {\r\n        for (let i in _) {\r\n          _[i] = _[i].value;\r\n        }\r\n        return _;\r\n      });\r\n      this.$refs.table.export({\r\n        filename: \"Permission Data\",\r\n        data: data\r\n      });\r\n    },\r\n    actionFun(type, data) {\r\n      switch (type) {\r\n        case \"export\":\r\n          this.exportHandler();\r\n          break;\r\n        case \"add\":\r\n          this.addHandler();\r\n          break;\r\n        case \"edit\":\r\n          this.editHandler();\r\n          break;\r\n        case \"save\":\r\n          this.saveHandler(data);\r\n          break;\r\n        case \"delete\":\r\n          this.deleteHandler(data);\r\n          break;\r\n        case \"cancel\":\r\n          this.cancelHandler();\r\n          break;\r\n        case \"innerCancel\":\r\n          this.$refs.table.rowCancelHandler(data.weTableRowId);\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    },\r\n    async saveHandler(data) {\r\n      let setBtnsStatus = () => {\r\n        this.outerActions.forEach(_ => {\r\n          _.props.disabled = !(\r\n            _.actionType === \"add\" || _.actionType === \"export\"\r\n          );\r\n        });\r\n        this.$refs.table.setAllRowsUneditable();\r\n        this.$nextTick(() => {\r\n          /* to get iview original data to set _ischecked flag */\r\n          let objData = this.$refs.table.$refs.table.$refs.tbody.objData;\r\n          for (let obj in objData) {\r\n            objData[obj]._isChecked = false;\r\n            objData[obj]._isDisabled = false;\r\n          }\r\n        });\r\n      };\r\n      let d = JSON.parse(JSON.stringify(data));\r\n      let addAry = d.filter(_ => _.isNewAddedRow);\r\n      let editAry = d.filter(_ => !_.isNewAddedRow);\r\n      const defaultKey = [\r\n        \"creationPermission\",\r\n        \"enquiryPermission\",\r\n        \"executionPermission\",\r\n        \"grantPermission\",\r\n        \"modificationPermission\",\r\n        \"removalPermission\",\r\n        \"roleCiTypeId\",\r\n        \"roleCiTypeCtrlAttrId\",\r\n        \"callbackId\"\r\n      ];\r\n      if (addAry.length > 0) {\r\n        addAry.forEach(_ => {\r\n          _.callbackId = _[\"weTableRowId\"];\r\n          delete _.isNewAddedRow;\r\n          delete _.isRowEditable;\r\n          delete _.weTableForm;\r\n          delete _.weTableRowId;\r\n          for (let i in _) {\r\n            const found = defaultKey.find(k => k === i);\r\n            if (!found) {\r\n              _[i] = { conditionValue: _[i].toString() };\r\n            }\r\n          }\r\n        });\r\n        const { status, message, data } = await createRoleCiTypeCtrlAttributes(\r\n          this.currentRoleCiTypeId,\r\n          addAry\r\n        );\r\n        if (status === \"OK\") {\r\n          this.$Notice.success({\r\n            title: \"Add permissions Success\",\r\n            desc: message\r\n          });\r\n\r\n          this.getAttrPermissions();\r\n          this.getPermissions(false, true, this.currentRoleId);\r\n          setBtnsStatus();\r\n        }\r\n      }\r\n      if (editAry.length > 0) {\r\n        editAry.forEach(_ => {\r\n          _.callbackId = _[\"weTableRowId\"];\r\n          delete _.isNewAddedRow;\r\n          delete _.isRowEditable;\r\n          delete _.weTableForm;\r\n          delete _.weTableRowId;\r\n          const foundRow = this.ciTypeAttrsPermissionsBackUp.find(\r\n            p => p.roleCiTypeCtrlAttrId === _.roleCiTypeCtrlAttrId\r\n          );\r\n          for (let i in _) {\r\n            const found = defaultKey.find(k => k === i);\r\n            if (!found) {\r\n              _[i] = {\r\n                conditionValue: _[i].toString(),\r\n                conditionId: foundRow[i].conditionId\r\n              };\r\n            }\r\n          }\r\n        });\r\n        const { status, message, data } = await updateRoleCiTypeCtrlAttributes(\r\n          this.currentRoleCiTypeId,\r\n          editAry\r\n        );\r\n        if (status === \"OK\") {\r\n          this.$Notice.success({\r\n            title: \"Update permissions Success\",\r\n            desc: message\r\n          });\r\n          this.getAttrPermissions();\r\n          this.getPermissions(false, true, this.currentRoleId);\r\n        }\r\n      }\r\n    },\r\n    deleteHandler(deleteData) {\r\n      this.$Modal.confirm({\r\n        title: \"确认删除？\",\r\n        \"z-index\": 1000000,\r\n        onOk: async () => {\r\n          const payload = deleteData.map(_ => _.roleCiTypeCtrlAttrId);\r\n          const {\r\n            status,\r\n            message,\r\n            data\r\n          } = await deleteRoleCiTypeCtrlAttributes(\r\n            this.currentRoleCiTypeId,\r\n            payload\r\n          );\r\n          if (status === \"OK\") {\r\n            this.$Notice.success({\r\n              title: \"Delete Permissions Success\",\r\n              desc: message\r\n            });\r\n            this.outerActions.forEach(_ => {\r\n              _.props.disabled =\r\n                _.actionType === \"save\" ||\r\n                _.actionType === \"edit\" ||\r\n                _.actionType === \"delete\";\r\n            });\r\n            this.getAttrPermissions();\r\n          }\r\n        },\r\n        onCancel: () => {}\r\n      });\r\n      document.querySelector(\".ivu-modal-mask\").click();\r\n    },\r\n    addHandler() {\r\n      let emptyRowData = {};\r\n      this.attrsPermissionsColumns.forEach(_ => {\r\n        if (_.inputType === \"multiSelect\" || _.inputType === \"multiRef\") {\r\n          emptyRowData[_.inputKey] = [];\r\n        } else {\r\n          emptyRowData[_.inputKey] = \"\";\r\n        }\r\n      });\r\n      emptyRowData[\"isRowEditable\"] = true;\r\n      emptyRowData[\"isNewAddedRow\"] = true;\r\n      emptyRowData[\"weTableRowId\"] = new Date().getTime();\r\n      this.ciTypeAttrsPermissions.unshift(emptyRowData);\r\n      this.$nextTick(() => {\r\n        this.$refs.table.pushNewAddedRowToSelections();\r\n        this.$refs.table.setCheckoutStatus(true);\r\n      });\r\n      this.outerActions.forEach(_ => {\r\n        _.props.disabled = _.actionType === \"add\";\r\n      });\r\n    },\r\n    editHandler() {\r\n      this.$refs.table.swapRowEditable(true);\r\n      this.outerActions.forEach(_ => {\r\n        if (_.actionType === \"save\") {\r\n          _.props.disabled = false;\r\n        }\r\n      });\r\n      this.$nextTick(() => {\r\n        this.$refs.table.setCheckoutStatus(true);\r\n      });\r\n    },\r\n    cancelHandler() {\r\n      this.$refs.table.setAllRowsUneditable();\r\n      this.$refs.table.setCheckoutStatus();\r\n      this.outerActions &&\r\n        this.outerActions.forEach(_ => {\r\n          _.props.disabled = !(\r\n            _.actionType === \"add\" ||\r\n            _.actionType === \"export\" ||\r\n            _.actionType === \"cancel\"\r\n          );\r\n        });\r\n    },\r\n    onSelectedRowsChange(rows, checkoutBoxdisable) {\r\n      if (rows.length > 0) {\r\n        this.outerActions.forEach(_ => {\r\n          _.props.disabled = _.actionType === \"add\";\r\n        });\r\n      } else {\r\n        this.outerActions.forEach(_ => {\r\n          _.props.disabled = !(\r\n            _.actionType === \"add\" ||\r\n            _.actionType === \"export\" ||\r\n            _.actionType === \"cancel\"\r\n          );\r\n        });\r\n      }\r\n      this.seletedRows = rows;\r\n    },\r\n    cancelEdit() {\r\n      this.permissionEntryPointsForEdit = [];\r\n      this.cancelHandler();\r\n    },\r\n    ciTypesPermissionsHandler(ci, code, type) {\r\n      this.setPermissionAction(!(ci[code] === \"Y\"), type, ci.ciTypeId);\r\n    },\r\n    async handleUserTransferChange(newTargetKeys, direction, moveKeys) {\r\n      if (direction === \"right\") {\r\n        let { status, data, message } = await addUsersToRole(\r\n          moveKeys,\r\n          this.selectedRole\r\n        );\r\n        if (status === \"OK\") {\r\n          this.$Notice.success({\r\n            title: \"success\",\r\n            desc: message\r\n          });\r\n          this.usersKeyBySelectedRole = newTargetKeys;\r\n        }\r\n      } else {\r\n        let { status, data, message } = await romoveUsersFromRole(\r\n          moveKeys,\r\n          this.selectedRole\r\n        );\r\n        if (status === \"OK\") {\r\n          this.$Notice.success({\r\n            title: \"success\",\r\n            desc: message\r\n          });\r\n          this.usersKeyBySelectedRole = newTargetKeys;\r\n        }\r\n      }\r\n    },\r\n    async addRole() {\r\n      if (this.addedRoleValue === \"\") {\r\n        this.$Notice.warning({\r\n          title: \"Warning\",\r\n          desc: \"角色名不能为空\"\r\n        });\r\n        return;\r\n      }\r\n      let { status, data, message } = await addRole({\r\n        roleName: this.addedRoleValue,\r\n        description: this.addedRoleValue\r\n      });\r\n      if (status === \"OK\") {\r\n        this.$Notice.success({\r\n          title: \"success\",\r\n          desc: message\r\n        });\r\n        this.getAllRoles();\r\n      }\r\n    },\r\n    async addUser() {\r\n      if (this.addedUser.username === \"\") {\r\n        this.$Notice.warning({\r\n          title: \"Warning\",\r\n          desc: \"用户名不能为空\"\r\n        });\r\n        return;\r\n      }\r\n      let { status, data, message } = await addUser(this.addedUser);\r\n      if (status === \"OK\") {\r\n        this.$Notice.success({\r\n          title: \"success\",\r\n          desc: message\r\n        });\r\n        this.addedUser = {};\r\n        this.getAllUsers();\r\n      }\r\n    },\r\n    async getPermissions(\r\n      queryAfterEditing,\r\n      checked,\r\n      roleOrUser,\r\n      byUser = false\r\n    ) {\r\n      if (checked) {\r\n        let permissions = byUser\r\n          ? await getPermissionsByUser(roleOrUser)\r\n          : await getPermissionsByRole(roleOrUser);\r\n        this.ciTypePermissions = permissions.data.ciTypePermissions;\r\n        if (queryAfterEditing) {\r\n          this.permissionEntryPointsForEdit = [];\r\n          this.menusPermissionSelected(\r\n            this.menusForEdit,\r\n            permissions.data.menuPermissions\r\n          );\r\n        } else {\r\n          this.permissionEntryPoints = [];\r\n          this.menusPermissionSelected(\r\n            this.menus,\r\n            permissions.data.menuPermissions\r\n          );\r\n          this.ciTypePermissions = permissions.data.ciTypePermissions;\r\n        }\r\n      } else {\r\n        if (queryAfterEditing) {\r\n          this.menusPermissionSelected(this.menusForEdit);\r\n        } else {\r\n          this.menusPermissionSelected(this.menus);\r\n          this.ciTypePermissions = [];\r\n        }\r\n      }\r\n    },\r\n    async handleUserClick(checked, name) {\r\n      this.currentRoleId = 0;\r\n      this.dataPermissionDisabled = true;\r\n      this.users.forEach(_ => {\r\n        _.checked = false;\r\n        if (name === _.username) {\r\n          _.checked = checked;\r\n        }\r\n      });\r\n      let { status, data, message } = await getRolesByUser(name);\r\n      this.getPermissions(false, checked, name, true);\r\n      if (status === \"OK\") {\r\n        this.roles.forEach(_ => {\r\n          _.checked = false;\r\n          const found = data.find(item => item.roleId === _.id);\r\n          if (found) {\r\n            _.checked = checked;\r\n          }\r\n          this.menus = this.menusResponseHandeler(this.allMenusOriginResponse);\r\n        });\r\n      }\r\n    },\r\n    async getAllUsers() {\r\n      let { status, data, message } = await getAllUsers();\r\n      if (status === \"OK\") {\r\n        this.users = data.map(_ => {\r\n          return {\r\n            id: _.userId,\r\n            username: _.username,\r\n            fullName: _.fullName,\r\n            description: _.description,\r\n            checked: false,\r\n            color: \"#5cadff\"\r\n          };\r\n        });\r\n      }\r\n    },\r\n    openAddRoleModal() {\r\n      this.addRoleModalVisible = true;\r\n    },\r\n    openAddUserModal() {\r\n      this.addUserModalVisible = true;\r\n    },\r\n\r\n    menusPermissionSelected(allMenus, menusPermissions = []) {\r\n      allMenus.forEach(_ => {\r\n        _.children.forEach(m => {\r\n          const subMenu = menusPermissions.find(n => m.code === n);\r\n          m.checked = subMenu ? true : false;\r\n        });\r\n        _.indeterminate = false;\r\n        _.checked = false;\r\n      });\r\n    },\r\n\r\n    async handleRoleClick(checked, id) {\r\n      this.currentRoleId = id;\r\n      this.dataPermissionDisabled = false;\r\n      this.menus = this.menusResponseHandeler(\r\n        this.allMenusOriginResponse,\r\n        false\r\n      );\r\n      this.roles.forEach(_ => {\r\n        _.checked = false;\r\n        if (id === _.id) {\r\n          _.checked = checked;\r\n        }\r\n      });\r\n      let { status, data, message } = await getUsersByRole(id);\r\n      this.getPermissions(false, checked, id);\r\n      if (status === \"OK\") {\r\n        this.users.forEach(_ => {\r\n          _.checked = false;\r\n          const found = data.find(item => item.username === _.username);\r\n          if (found) {\r\n            _.checked = checked;\r\n          }\r\n        });\r\n      }\r\n    },\r\n    async handleMenuTreeCheck(allChecked, currentChecked) {\r\n      let menuCodes = [];\r\n      if (!currentChecked.parentId) {\r\n        menuCodes = currentChecked.children.map(_ => _.code);\r\n      } else {\r\n        menuCodes.push(currentChecked.code);\r\n      }\r\n      const { status, message, data } = currentChecked.checked\r\n        ? await addMenusToRole(menuCodes, this.currentRoleId)\r\n        : await removeMenusFromRole(menuCodes, this.currentRoleId);\r\n      if (status === \"OK\") {\r\n        this.$Notice.success({\r\n          title: \"success\",\r\n          desc: message\r\n        });\r\n      }\r\n      this.getPermissions(true, true, this.currentRoleId);\r\n    },\r\n    async getAllRoles() {\r\n      let { status, data, message } = await getAllRoles();\r\n      if (status === \"OK\") {\r\n        this.roles = data.map(_ => {\r\n          return {\r\n            id: _.roleId,\r\n            rolename: _.roleName,\r\n            description: _.description,\r\n            roleType: _.roleType,\r\n            checked: false,\r\n            color: \"success\"\r\n          };\r\n        });\r\n      }\r\n    },\r\n    menusResponseHandeler(data, disabled = true) {\r\n      let menus = [];\r\n      data.forEach(_ => {\r\n        if (!_.parentId) {\r\n          let menuObj = MENUS.find(m => m.code === _.code);\r\n          menus.push({\r\n            ..._,\r\n            title: this.$lang === \"zh-CN\" ? menuObj.cnName : menuObj.enName,\r\n            id: _.id,\r\n            expand: true,\r\n            checked: false,\r\n            children: [],\r\n            disabled\r\n          });\r\n        }\r\n      });\r\n      data.forEach(_ => {\r\n        if (_.parentId) {\r\n          let menuObj = MENUS.find(m => m.code === _.code);\r\n          menus.forEach(h => {\r\n            if (_.parentId === h.id) {\r\n              h.children.push({\r\n                ..._,\r\n                title: this.$lang === \"zh-CN\" ? menuObj.cnName : menuObj.enName,\r\n                id: _.id,\r\n                expand: true,\r\n                checked: false,\r\n                disabled\r\n              });\r\n            }\r\n          });\r\n        }\r\n      });\r\n      return menus;\r\n    },\r\n    async getAllMenus() {\r\n      let { status, data, message } = await getAllMenus();\r\n      if (status === \"OK\") {\r\n        this.allMenusOriginResponse = data;\r\n        this.menus = this.menusResponseHandeler(data);\r\n        this.menusForEdit = this.menusResponseHandeler(data, false);\r\n      }\r\n    },\r\n    permissionResponseHandeler(res) {\r\n      this.getPermissions(true, true, this.currentRoleId);\r\n    },\r\n    async setPermissionAction(checked, name, id) {\r\n      if (this.currentRoleId === 0) return;\r\n      if (checked) {\r\n        const addRes = await addDataPermissionAction(\r\n          this.currentRoleId,\r\n          id,\r\n          name\r\n        );\r\n        this.permissionResponseHandeler(addRes);\r\n      } else {\r\n        const delRes = await removeDataPermissionAction(\r\n          this.currentRoleId,\r\n          id,\r\n          name\r\n        );\r\n        this.permissionResponseHandeler(delRes);\r\n      }\r\n    },\r\n    getArrDifference(arr1, arr2) {\r\n      return arr1.concat(arr2).filter(function(v, i, arr) {\r\n        return arr.indexOf(v) === arr.lastIndexOf(v);\r\n      });\r\n    },\r\n    async openUserManageModal(id) {\r\n      this.usersKeyBySelectedRole = [];\r\n      this.allUsersForTransfer = [];\r\n      this.selectedRole = id;\r\n      let { status, data, message } = await getUsersByRole(id);\r\n      if (status === \"OK\") {\r\n        this.usersKeyBySelectedRole = data.map(_ => _.userId);\r\n      }\r\n      this.allUsersForTransfer = this.users.map(_ => {\r\n        return {\r\n          key: _.id,\r\n          username: _.username,\r\n          label: ` ${_.fullName} ( ${_.description} ) `\r\n        };\r\n      });\r\n      this.userManageModal = true;\r\n    },\r\n    cancel() {},\r\n    confirmUser() {\r\n      if (this.currentRoleId !== 0) {\r\n        this.handleRoleClick(true, this.currentRoleId);\r\n      }\r\n    }\r\n  },\r\n  created() {\r\n    this.getAllUsers();\r\n    this.getAllRoles();\r\n    this.getAllMenus();\r\n    // this.getAllPermissionEntryPoints();\r\n  },\r\n  watch: {}\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.ivu-tag {\r\n  display: block;\r\n  border: #515a61 1px dashed !important;\r\n  .ivu-tag-text {\r\n    white-space: nowrap;\r\n    overflow: hidden;\r\n    text-overflow: ellipsis;\r\n    display: block;\r\n  }\r\n}\r\n\r\n.role-item {\r\n  .ivu-tag {\r\n    display: inline-block;\r\n    width: 65%;\r\n  }\r\n}\r\n.data-permissions {\r\n  width: 100%;\r\n  height: 30px;\r\n  border: 1px dashed gray;\r\n  padding-left: 5px;\r\n  padding-right: 5px;\r\n  border-radius: 5px;\r\n  margin-bottom: 5px;\r\n}\r\n.ciTypes-options {\r\n  float: right;\r\n  line-height: 30px;\r\n}\r\n.ciTypes {\r\n  float: left;\r\n  line-height: 30px;\r\n}\r\n.ciTypes-options {\r\n  .ivu-checkbox-indeterminate .ivu-checkbox-inner {\r\n    background-color: #4ee643;\r\n  }\r\n  .ivu-checkbox-disabled.ivu-checkbox-checked .ivu-checkbox-inner {\r\n    background-color: #2d8cf0;\r\n  }\r\n}\r\n</style>\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',[_c('Col',{attrs:{\"span\":\"4\"}},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n        用户\\n        \"),_c('Button',{attrs:{\"icon\":\"ios-add\",\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":_vm.openAddUserModal}},[_vm._v(\"添加用户\")])],1),_vm._v(\" \"),_vm._l((_vm.users),function(item){return _c('Tag',{key:item.id,attrs:{\"name\":item.username,\"color\":item.color,\"checked\":item.checked,\"checkable\":\"\",\"fade\":false},on:{\"on-change\":_vm.handleUserClick}},[_c('span',{attrs:{\"title\":(\" \" + (item.fullName) + \" ( \" + (item.description) + \" ) \")}},[_vm._v(_vm._s((\" \" + (item.fullName) + \" ( \" + (item.description) + \" ) \")))])])})],2)],1),_vm._v(\" \"),_c('Col',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"span\":\"5\",\"offset\":\"0\"}},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"\\n        角色\\n        \"),_c('Button',{attrs:{\"icon\":\"ios-add\",\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":_vm.openAddRoleModal}},[_vm._v(\"添加角色\")])],1),_vm._v(\" \"),_vm._l((_vm.roles),function(item){return _c('div',{key:item.id,staticClass:\"role-item\"},[_c('Tag',{attrs:{\"name\":item.id,\"color\":item.color,\"checked\":item.checked,\"checkable\":\"\",\"fade\":false},on:{\"on-change\":_vm.handleRoleClick}},[_c('span',{attrs:{\"title\":item.description}},[_vm._v(_vm._s(item.description))])]),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"ios-build\",\"type\":\"dashed\",\"size\":\"small\"},on:{\"click\":function($event){return _vm.openUserManageModal(item.id)}}},[_vm._v(\"用户\")])],1)})],2)],1),_vm._v(\" \"),_c('Col',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"span\":\"4\",\"offset\":\"0\"}},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"菜单权限\")]),_vm._v(\" \"),_c('Tree',{attrs:{\"data\":_vm.menus,\"show-checkbox\":\"\"},on:{\"on-check-change\":_vm.handleMenuTreeCheck}})],1)],1),_vm._v(\" \"),_c('Col',{staticStyle:{\"margin-left\":\"20px\"},attrs:{\"span\":\"9\",\"offset\":\"0\"}},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"数据权限\")]),_vm._v(\" \"),_vm._l((_vm.ciTypePermissions),function(ci){return _c('div',{key:ci.ciTypeId,staticClass:\"data-permissions\"},[_c('span',{staticClass:\"ciTypes\",staticStyle:{\"max-width\":\"100px\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"},attrs:{\"title\":ci.ciTypeName}},[_vm._v(_vm._s(ci.ciTypeName))]),_vm._v(\" \"),_c('div',{staticClass:\"ciTypes-options\"},[_vm._l((_vm.actionsType),function(act){return _c('Checkbox',{key:act.actionCode,attrs:{\"disabled\":_vm.dataPermissionDisabled,\"indeterminate\":ci[act.actionCode] === 'P',\"value\":ci[act.actionCode] === 'Y'},nativeOn:{\"click\":function($event){$event.preventDefault();return _vm.ciTypesPermissionsHandler(ci, act.actionCode, act.type)}}},[_vm._v(_vm._s(act.actionName))])}),_vm._v(\" \"),_c('Button',{attrs:{\"icon\":\"ios-build\",\"type\":\"dashed\",\"size\":\"small\",\"disabled\":_vm.dataPermissionDisabled},on:{\"click\":function($event){return _vm.openPermissionManageModal(ci.roleCiTypeId)}}},[_vm._v(\"详情\")])],2)])})],2)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"添加角色\"},on:{\"on-ok\":_vm.addRole,\"on-cancel\":_vm.cancel},model:{value:(_vm.addRoleModalVisible),callback:function ($$v) {_vm.addRoleModalVisible=$$v},expression:\"addRoleModalVisible\"}},[_c('Input',{attrs:{\"placeholder\":\"请输入用户名\"},model:{value:(_vm.addedRoleValue),callback:function ($$v) {_vm.addedRoleValue=$$v},expression:\"addedRoleValue\"}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"添加用户\"},on:{\"on-ok\":_vm.addUser,\"on-cancel\":_vm.cancel},model:{value:(_vm.addUserModalVisible),callback:function ($$v) {_vm.addUserModalVisible=$$v},expression:\"addUserModalVisible\"}},[_c('Form',{ref:\"addedUserForm\",staticClass:\"validation-form\",attrs:{\"model\":_vm.addedUser,\"label-position\":\"left\",\"label-width\":100}},[_c('FormItem',{attrs:{\"label\":\"用户名\",\"prop\":\"username\"}},[_c('Input',{model:{value:(_vm.addedUser.username),callback:function ($$v) {_vm.$set(_vm.addedUser, \"username\", $$v)},expression:\"addedUser.username\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"全名\",\"prop\":\"fullName\"}},[_c('Input',{model:{value:(_vm.addedUser.fullName),callback:function ($$v) {_vm.$set(_vm.addedUser, \"fullName\", $$v)},expression:\"addedUser.fullName\"}})],1),_vm._v(\" \"),_c('FormItem',{attrs:{\"label\":\"描述说明\",\"prop\":\"description\"}},[_c('Input',{model:{value:(_vm.addedUser.description),callback:function ($$v) {_vm.$set(_vm.addedUser, \"description\", $$v)},expression:\"addedUser.description\"}})],1)],1)],1),_vm._v(\" \"),_c('Modal',{attrs:{\"width\":\"700\",\"title\":\"编辑用户\"},on:{\"on-ok\":_vm.confirmUser,\"on-cancel\":_vm.confirmUser},model:{value:(_vm.userManageModal),callback:function ($$v) {_vm.userManageModal=$$v},expression:\"userManageModal\"}},[_c('Transfer',{attrs:{\"titles\":_vm.transferTitles,\"list-style\":_vm.transferStyle,\"data\":_vm.allUsersForTransfer,\"target-keys\":_vm.usersKeyBySelectedRole,\"render-format\":_vm.renderUserNameForTransfer,\"filterable\":\"\"},on:{\"on-change\":_vm.handleUserTransferChange}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"编辑数据权限\",\"width\":\"80\"},on:{\"on-ok\":_vm.cancelEdit,\"on-cancel\":_vm.cancelEdit},model:{value:(_vm.permissionManageModal),callback:function ($$v) {_vm.permissionManageModal=$$v},expression:\"permissionManageModal\"}},[_c('WeTable',{ref:\"table\",attrs:{\"tableData\":_vm.ciTypeAttrsPermissions,\"filtersHidden\":true,\"tableOuterActions\":_vm.outerActions,\"tableInnerActions\":_vm.innerActions,\"tableColumns\":_vm.attrsPermissionsColumns,\"ascOptions\":_vm.permissionsTableOptions,\"showCheckbox\":true,\"tableHeight\":\"650\"},on:{\"actionFun\":_vm.actionFun,\"getSelectedRows\":_vm.onSelectedRowsChange}})],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","function injectStyle (context) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-671692c8\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./permission-management.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./permission-management.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./permission-management.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-671692c8\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./permission-management.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-671692c8\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n"],"sourceRoot":""}