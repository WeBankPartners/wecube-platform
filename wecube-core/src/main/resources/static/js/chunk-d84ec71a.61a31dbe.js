(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d84ec71a"],{"30be":function(e,t,a){"use strict";a.d(t,"a",function(){return o});a("8e6e"),a("456d");var n=a("7618"),s=(a("ac6a"),a("bd86"));function r(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function i(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?r(a,!0).forEach(function(t){Object(s["a"])(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):r(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var o=function(e){var t=[];return t=e.map(function(e,t){return i({},e,{weTableForm:i({},e)})}),t.forEach(function(e){for(var t in e["weTableForm"])"object"===Object(n["a"])(e["weTableForm"][t])&&null!==e["weTableForm"][t]&&(e["weTableForm"][t]=e[t].value||e[t].key_name)}),t.map(function(e){return e.weTableForm})}},e1fd:function(e,t,a){"use strict";a.r(t);a("7f7f"),a("96cf");var n=a("3b8d"),s=a("aa22"),r=(a("ac6a"),a("7514"),a("ab33")),i=a("c1df"),o=a.n(i),c=a("30be"),l=[{label:"true",value:"true",key:"true"},{label:"false",value:"false",key:"false"}],u={data:function(){return{payload:{filters:[],pageable:{pageSize:10,startIndex:0},paging:!0},pagination:{pageSize:10,currentPage:1,total:0},outerActions:r["b"],tableData:[],tableColumns:[{title:this.$t("table_id"),key:"id",inputKey:"id",searchSeqNo:1,displaySeqNo:1,disEditor:!0,disAdded:!0,component:"Input",inputType:"text",placeholder:this.$t("table_id")},{title:this.$t("table_name"),key:"name",inputKey:"name",searchSeqNo:2,displaySeqNo:2,component:"Input",inputType:"text",placeholder:this.$t("table_name")},{title:this.$t("table_host"),key:"host",inputKey:"host",searchSeqNo:3,displaySeqNo:3,component:"Input",inputType:"text",placeholder:this.$t("table_host")},{title:this.$t("table_is_allocated"),key:"isAllocated",inputKey:"isAllocated",searchSeqNo:4,displaySeqNo:4,component:"WeSelect",inputType:"select",placeholder:this.$t("table_isAllocated"),options:l},{title:this.$t("table_login_username"),key:"loginUsername",inputKey:"loginUsername",searchSeqNo:5,displaySeqNo:5,component:"Input",inputType:"text",placeholder:this.$t("table_login_username")},{title:this.$t("table_login_password"),key:"loginPassword",inputKey:"loginPassword",searchSeqNo:6,displaySeqNo:6,component:"Input",inputType:"text",placeholder:this.$t("table_login_password")},{title:this.$t("table_port"),key:"port",inputKey:"port",searchSeqNo:7,displaySeqNo:7,component:"Input",inputType:"text",placeholder:this.$t("table_port")},{title:this.$t("table_purpose"),key:"purpose",inputKey:"purpose",searchSeqNo:8,displaySeqNo:8,component:"Input",inputType:"text",placeholder:this.$t("table_purpose")},{title:this.$t("table_status"),key:"status",inputKey:"status",searchSeqNo:9,displaySeqNo:9,component:"WeSelect",inputType:"select",placeholder:this.$t("table_status")},{title:this.$t("table_type"),key:"type",inputKey:"type",searchSeqNo:10,displaySeqNo:10,component:"WeSelect",inputType:"select",placeholder:this.$t("table_type")}]}},methods:{queryData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.payload.pageable.pageSize=this.pagination.pageSize,this.payload.pageable.startIndex=(this.pagination.currentPage-1)*this.pagination.pageSize,e.next=4,Object(s["db"])(this.payload);case 4:t=e.sent,a=t.status,t.message,n=t.data,"OK"===a&&(this.tableData=n.contents.map(function(e){return e.isAllocated=e.isAllocated?"true":"false",e}),this.pagination.total=n.pageInfo.totalRows);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getResourceServerStatus:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["K"])();case 2:t=e.sent,a=t.status,t.message,n=t.data,"OK"===a&&this.setOptions(n,"status");case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getResourceServerType:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["L"])();case 2:t=e.sent,a=t.status,t.message,n=t.data,"OK"===a&&this.setOptions(n,"type");case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setOptions:function(e,t){var a;this.tableColumns.find(function(e,n){e.key===t&&(a=n)});var n=e.map(function(e){return{label:e,value:e,key:e}});this.$set(this.tableColumns[a],"options",n)},handleSubmit:function(e){this.payload.filters=e,this.queryData()},sortHandler:function(e){"normal"===e.order?delete this.payload.sorting:this.payload.sorting={asc:"asc"===e.order,field:e.key},this.queryData()},pageChange:function(e){this.pagination.currentPage=e,this.queryData()},pageSizeChange:function(e){this.pagination.pageSize=e,this.queryData()},actionFun:function(e,t){switch(e){case"add":this.addHandler();break;case"save":this.saveHandler(t);break;case"edit":this.editHandler();break;case"delete":this.deleteHandler(t);break;case"cancel":this.cancelHandler();break;case"export":this.exportHandler();break;default:break}},onSelectedRowsChange:function(e,t){e.length>0?this.outerActions.forEach(function(e){e.props.disabled="add"===e.actionType}):this.outerActions.forEach(function(e){e.props.disabled=!("add"===e.actionType||"export"===e.actionType||"cancel"===e.actionType)}),this.seletedRows=e},addHandler:function(){var e=this,t={};this.tableColumns.forEach(function(e){t[e.inputKey]=""}),t.isRowEditable=!0,t.isNewAddedRow=!0,t.weTableRowId=(new Date).getTime(),this.tableData.unshift(t),this.$nextTick(function(){e.$refs.table.pushNewAddedRowToSelections(),e.$refs.table.setCheckoutStatus(!0)}),this.outerActions.forEach(function(e){e.props.disabled="add"===e.actionType})},saveHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(t){var a,n,r,i,o,c,l,u,p,d,h,b,y=this;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(a=function(){y.outerActions.forEach(function(e){e.props.disabled=!("add"===e.actionType||"export"===e.actionType||"cancel"===e.actionType)}),y.$refs.table.setAllRowsUneditable(),y.$nextTick(function(){var e=y.$refs.table.$refs.table.$refs.tbody.objData;for(var t in e)e[t]._isChecked=!1,e[t]._isDisabled=!1})},n=JSON.parse(JSON.stringify(t)),r=n.find(function(e){return e.isNewAddedRow}),i=n.filter(function(e){return!e.isNewAddedRow}),!r){e.next=13;break}return o={host:r.host,isAllocated:"true"===r.isAllocated,loginPassword:r.loginPassword,loginUsername:r.loginUsername,name:r.name,port:r.port,purpose:r.purpose,status:r.status,type:r.type},e.next=8,Object(s["d"])([o]);case 8:c=e.sent,l=c.status,u=c.message,c.data,"OK"===l&&(this.$Notice.success({title:"Add Success",desc:u}),a(),this.queryData());case 13:if(!(i.length>0)){e.next=22;break}return p=i.map(function(e){return{id:e.id,host:e.host,isAllocated:"true"===e.isAllocated,loginPassword:e.loginPassword,loginUsername:e.loginUsername,name:e.name,port:e.port,purpose:e.purpose,status:e.status,type:e.type}}),e.next=17,Object(s["kb"])(p);case 17:d=e.sent,h=d.status,b=d.message,d.data,"OK"===h&&(this.$Notice.success({title:"Update Success",desc:b}),a(),this.queryData());case 22:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),editHandler:function(){var e=this;this.$refs.table.swapRowEditable(!0),this.outerActions.forEach(function(e){"save"===e.actionType&&(e.props.disabled=!1)}),this.$nextTick(function(){e.$refs.table.setCheckoutStatus(!0)})},deleteHandler:function(e){var t=this;this.$Modal.confirm({title:this.$t("confirm_to_delete"),"z-index":1e6,onOk:function(){var a=Object(n["a"])(regeneratorRuntime.mark(function a(){var n,r,i,o;return regeneratorRuntime.wrap(function(a){while(1)switch(a.prev=a.next){case 0:return n=e.map(function(e){return{id:e.id}}),a.next=3,Object(s["h"])(n);case 3:r=a.sent,i=r.status,o=r.message,r.data,"OK"===i&&(t.$Notice.success({title:"Delete Success",desc:o}),t.outerActions.forEach(function(e){e.props.disabled="save"===e.actionType||"edit"===e.actionType||"delete"===e.actionType}),t.queryData());case 8:case"end":return a.stop()}},a)}));function r(){return a.apply(this,arguments)}return r}(),onCancel:function(){}})},cancelHandler:function(){this.$refs.table.setAllRowsUneditable(),this.$refs.table.setCheckoutStatus(),this.outerActions&&this.outerActions.forEach(function(e){e.props.disabled=!("add"===e.actionType||"export"===e.actionType||"cancel"===e.actionType)})},exportHandler:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["db"])({});case 2:t=e.sent,a=t.status,t.message,n=t.data,"OK"===a&&this.$refs.table.export({filename:this.$t("host"),data:Object(c["a"])(n.contents)});case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.getResourceServerStatus(),this.getResourceServerType(),this.queryData()}},p=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("WeTable",{ref:"table",attrs:{tableData:e.tableData,tableOuterActions:e.outerActions,tableInnerActions:null,tableColumns:e.tableColumns,pagination:e.pagination},on:{actionFun:e.actionFun,handleSubmit:e.handleSubmit,sortHandler:e.sortHandler,getSelectedRows:e.onSelectedRowsChange,pageChange:e.pageChange,pageSizeChange:e.pageSizeChange}})},d=[],h=a("2455"),b=!1,y=null,f=null,m=null,g=Object(h["a"])(u,p,d,b,y,f,m),S=g.exports,v=[{label:"true",value:"true",key:"true"},{label:"false",value:"false",key:"false"}],w={props:{servers:{}},data:function(){return{payload:{filters:[],pageable:{pageSize:10,startIndex:0},paging:!0},pagination:{pageSize:10,currentPage:1,total:0},tableData:[],tableColumns:[{title:this.$t("table_id"),key:"id",inputKey:"id",searchSeqNo:1,displaySeqNo:1,component:"Input",inputType:"text",placeholder:this.$t("table_id")},{title:this.$t("table_name"),key:"name",inputKey:"name",searchSeqNo:2,displaySeqNo:2,component:"Input",inputType:"text",placeholder:this.$t("table_name")},{title:this.$t("table_type"),key:"type",inputKey:"type",searchSeqNo:3,displaySeqNo:3,component:"WeSelect",inputType:"select",placeholder:this.$t("table_type")},{title:this.$t("table_resource_server"),key:"resourceServer",inputKey:"resourceServerId",searchSeqNo:4,displaySeqNo:4,component:"WeSelect",inputType:"select",placeholder:this.$t("table_resource_server")},{title:this.$t("table_is_allocated"),key:"isAllocated",inputKey:"isAllocated",searchSeqNo:5,displaySeqNo:5,component:"WeSelect",inputType:"select",placeholder:this.$t("table_isAllocated"),options:v},{title:this.$t("table_purpose"),key:"purpose",inputKey:"purpose",searchSeqNo:6,displaySeqNo:6,component:"Input",inputType:"text",placeholder:this.$t("table_purpose")},{title:this.$t("table_status"),key:"status",inputKey:"status",searchSeqNo:7,displaySeqNo:7,component:"WeSelect",inputType:"select",placeholder:this.$t("table_status")},{title:this.$t("table_created_date"),key:"createdDate",inputKey:"createdDate",searchSeqNo:8,displaySeqNo:8,component:"DatePicker",type:"datetimerange",inputType:"date",placeholder:this.$t("table_created_date")},{title:this.$t("table_updated_date"),key:"updatedDate",inputKey:"updatedDate",searchSeqNo:9,displaySeqNo:9,component:"DatePicker",type:"datetimerange",inputType:"date",placeholder:this.$t("table_updated_date")}]}},watch:{servers:function(e){var t;this.tableColumns.find(function(e,a){"resourceServer"===e.key&&(t=a)}),e&&this.$set(this.tableColumns[t],"options",e)}},methods:{queryData:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.payload.pageable.pageSize=this.pagination.pageSize,this.payload.pageable.startIndex=(this.pagination.currentPage-1)*this.pagination.pageSize,e.next=4,Object(s["cb"])(this.payload);case 4:t=e.sent,a=t.status,t.message,n=t.data,"OK"===a&&(this.tableData=n.contents.map(function(e){return e.isAllocated=e.isAllocated?"true":"false",e.createdDate=o()(e.createdDate).format("YYYY-MM-DD hh:mm:ss"),e.updatedDate=o()(e.updatedDate).format("YYYY-MM-DD hh:mm:ss"),e}),this.pagination.total=n.pageInfo.totalRows);case 9:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSubmit:function(e){this.payload.filters=e.map(function(e){return"createdDate"!==e.name&&"updatedDate"!==e.name||(e.value=+new Date(e.value)),"isAllocated"===e.name&&(e.value="true"===e.value),e}),this.queryData()},sortHandler:function(e){"normal"===e.order?delete this.payload.sorting:this.payload.sorting={asc:"asc"===e.order,field:e.key},this.queryData()},pageChange:function(e){this.pagination.currentPage=e,this.queryData()},pageSizeChange:function(e){this.pagination.pageSize=e,this.queryData()},getResourceItemStatus:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["I"])({});case 2:t=e.sent,a=t.status,t.message,n=t.data,"OK"===a&&this.setOptions(n,"status");case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getResourceItemType:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["J"])({});case 2:t=e.sent,a=t.status,t.message,n=t.data,"OK"===a&&this.setOptions(n,"type");case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),setOptions:function(e,t){var a;this.tableColumns.find(function(e,n){e.key===t&&(a=n)});var n=e.map(function(e){return{label:e,value:e,key:e}});this.$set(this.tableColumns[a],"options",n)}},mounted:function(){this.getResourceItemStatus(),this.getResourceItemType(),this.queryData()}},k=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("WeTable",{ref:"serviceTable",attrs:{tableData:e.tableData,tableOuterActions:null,tableInnerActions:null,tableColumns:e.tableColumns,showCheckbox:!1,pagination:e.pagination},on:{handleSubmit:e.handleSubmit,sortHandler:e.sortHandler,pageChange:e.pageChange,pageSizeChange:e.pageSizeChange}})},$=[],O=!1,_=null,T=null,q=null,x=Object(h["a"])(w,k,$,O,_,T,q),D=x.exports,N={components:{WeServer:S,WeService:D},data:function(){return{currentTab:"hosts",servers:[]}},methods:{handleTabClick:function(e){this.$refs[e].queryData()},queryServers:function(){var e=Object(n["a"])(regeneratorRuntime.mark(function e(){var t,a,n;return regeneratorRuntime.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(s["db"])({});case 2:t=e.sent,a=t.status,t.message,n=t.data,"OK"===a&&(this.servers=n.contents.map(function(e){return{label:e.name,value:e.id,key:e.id}}));case 7:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}()},mounted:function(){this.queryServers()}},R=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Tabs",{attrs:{type:"card",value:e.currentTab},on:{"on-click":e.handleTabClick}},[a("TabPane",{attrs:{closable:!1,name:"hosts",label:e.$t("hosts")}},[a("WeServer",{ref:"hosts"})],1),e._v(" "),a("TabPane",{attrs:{closable:!1,name:"instances",label:e.$t("instances")}},[a("WeService",{ref:"instances",attrs:{servers:e.servers}})],1)],1)},j=[],A=!1,C=null,K=null,I=null,P=Object(h["a"])(N,R,j,A,C,K,I);t["default"]=P.exports}}]);
//# sourceMappingURL=chunk-d84ec71a.61a31dbe.js.map