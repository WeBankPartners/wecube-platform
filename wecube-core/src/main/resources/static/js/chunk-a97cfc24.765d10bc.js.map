{"version":3,"sources":["webpack:///./node_modules/core-js/modules/es6.array.from.js","webpack:///src/pages/components/attr-select.vue","webpack:///./src/pages/components/attr-select.vue?bf37","webpack:///./src/pages/components/attr-select.vue","webpack:///src/pages/components/cmdb-attr-input.vue","webpack:///./src/pages/components/cmdb-attr-input.vue?1554","webpack:///./src/pages/components/cmdb-attr-input.vue","webpack:///./src/pages/collaboration/components/ref-payload-modal.js","webpack:///src/pages/collaboration/plugin-management.vue","webpack:///./src/pages/collaboration/plugin-management.vue?f8ef","webpack:///./src/pages/collaboration/plugin-management.vue","webpack:///./node_modules/core-js/modules/es6.regexp.constructor.js","webpack:///./node_modules/core-js/modules/_inherit-if-required.js","webpack:///./node_modules/core-js/modules/es6.string.iterator.js","webpack:///./src/pages/components/attr-select.vue?1336","webpack:///./node_modules/core-js/modules/_set-proto.js","webpack:///./src/pages/components/attr-select.vue?65ba","webpack:///./src/pages/collaboration/plugin-management.vue?de86","webpack:///./src/pages/collaboration/plugin-management.vue?9982"],"names":["ctx","$export","toObject","call","isArrayIter","toLength","createProperty","getIterFn","S","F","iter","Array","from","arrayLike","length","result","step","iterator","O","C","this","aLen","arguments","mapfn","undefined","mapping","index","iterFn","next","done","value","data","loading","opt","rootCiTypeOption","allCmdbAttrs","allCi","currentValue","id","label","props","type","Object","required","rootCiType","default","allCiTypes","cmdbColumnSource","watch","ci","name","ciTypeName","refName","ciTypeId","attrId","push","val","color","options","$emit","getValue","mounted","restoreOpeation","formatAllCiType","methods","ref","attr","root","h","forEach","attrs","rootChange","shift","getNextRef","selectChange","operator","cmdbColumnCriteria","routine","attributes","criteria","nodeId","v","_","t","changeValue","slice","render","_vm","_h","$createElement","_c","_self","staticClass","staticStyle","on","_v","_l","key","style","width","border","$event","model","callback","$$v","$set","expression","_s","_e","staticRenderFns","injectStyle","context","__vue_template_functional__","__vue_styles__","__vue_scopeId__","__vue_module_identifier__","Component","components","AttrInput","mappingType","cmdbEnumCode","cmdbAttr","allCodes","ciTypesObj","ciTypeAttributeObj","paramData","handler","immediate","outputValue","computed","mappingTypeChangeHandler","cmdbAttrChangeHandler","cmdbEnumCodeChangeHandler","item","ciRulesFilters","form","visibleSwap","handleSubmit","swapModal","status","clickHandler","getFormFilters","map","renderFormItem","ciType","renders","inputType","ciTypeAttrId","span","AttrSelect","refPayloadModal","CmdbAttrInput","allAvailiableHosts","selectHosts","availiableHostsWithPort","ciStatus","plugins","ciTypes","pluginInterfaces","selectedCiType","selectedCiTypeIdAndName","currentPlugin","currentCiTyPeAttr","allInstances","currentPackageId","currentInstanceId","createIpValue","tableData","totalTableData","innerActions","tableColumns","pagination","pageSize","currentPage","total","searchFilters","logDetailsModalVisible","logDetails","ciRulesPayload","isLoading","defaultCreateParams","deep","selectCiType","pageChange","current","handlePaginationByFE","pageSizeChange","size","actionFun","getLogDetail","getCIRulesPayload","cmdbAttributeId","i","filteringValues","getTableData","resetLogTable","$refs","table","reset","selectHost","getAvailablePortByHostIp","getHostsForTableFilter","hostIp","port","temp","splice","onError","$Notice","error","title","desc","file","message","created","getAllCITypesByLayerWithAttr","getAllPluginPkgs","getAllCodes","setUploadActionHeader","uploadToken","split","slot","$t","onSuccess","selectPlugin","keys","ip","createPluginInstanceByPackageIdAndHostIp","createParams","displayLabel","removePluginInstance","domProps","code","interfaces","toString","param","outPut","propertyName","pluginSave","regist","removePlugin","global","inheritIfRequired","dP","f","gOPN","isRegExp","$flags","$RegExp","RegExp","Base","proto","prototype","re1","re2","CORRECT_NEW","p","tiRE","piRE","fiU","constructor","source","proxy","configurable","get","set","it","isObject","setPrototypeOf","module","exports","that","target","P","$at","String","iterated","_t","_i","point","anObject","check","TypeError","test","buggy","Function","e","__proto__","content","locals","add"],"mappings":"kHACA,IAAIA,EAAM,EAAQ,QACdC,EAAU,EAAQ,QAClBC,EAAW,EAAQ,QACnBC,EAAO,EAAQ,QACfC,EAAc,EAAQ,QACtBC,EAAW,EAAQ,QACnBC,EAAiB,EAAQ,QACzBC,EAAY,EAAQ,QAExBN,EAAQA,EAAQO,EAAIP,EAAQQ,GAAK,EAAQ,OAAR,CAA0B,SAAUC,GAAQC,MAAMC,KAAKF,KAAW,QAAS,CAE1GE,KAAM,SAAcC,GAClB,IAOIC,EAAQC,EAAQC,EAAMC,EAPtBC,EAAIhB,EAASW,GACbM,EAAmB,mBAARC,KAAqBA,KAAOT,MACvCU,EAAOC,UAAUR,OACjBS,EAAQF,EAAO,EAAIC,UAAU,QAAKE,EAClCC,OAAoBD,IAAVD,EACVG,EAAQ,EACRC,EAASpB,EAAUW,GAIvB,GAFIO,IAASF,EAAQvB,EAAIuB,EAAOF,EAAO,EAAIC,UAAU,QAAKE,EAAW,SAEvDA,GAAVG,GAAyBR,GAAKR,OAASP,EAAYuB,GAMrD,IADAb,EAAST,EAASa,EAAEJ,QACfC,EAAS,IAAII,EAAEL,GAASA,EAASY,EAAOA,IAC3CpB,EAAeS,EAAQW,EAAOD,EAAUF,EAAML,EAAEQ,GAAQA,GAASR,EAAEQ,SANrE,IAAKT,EAAWU,EAAOxB,KAAKe,GAAIH,EAAS,IAAII,IAAOH,EAAOC,EAASW,QAAQC,KAAMH,IAChFpB,EAAeS,EAAQW,EAAOD,EAAUtB,EAAKc,EAAUM,EAAO,CAACP,EAAKc,MAAOJ,IAAQ,GAAQV,EAAKc,OASpG,OADAf,EAAOD,OAASY,EACTX,M,yxBCKX,OACEgB,KADF,WAEI,MAAO,CACLC,SAAS,EACTC,IAAK,GACLC,iBAAkB,GAClBC,aAAc,GACdC,MAAO,GACPC,aAAc,CACZC,GAAI,GACJC,MAAO,MAIbC,MAAO,CACLV,MAAO,CACLW,KAAMC,OACNC,UAAU,GAEZC,WAAY,CACVC,QAAS,IAEXC,WAAY,CACVL,KAAM9B,MACNgC,UAAU,GAEZI,iBAAkB,CAChBF,QAAS,KAGbG,MAAO,CACLlB,MADJ,SACA,KACIiB,iBAFJ,SAEA,KACIH,WAHJ,SAGA,GACMxB,KAAKe,aAAe,GACpB,IAAN,sDACM,GAAIc,EAAI,CACN,IAAR,GACUC,KAAMD,EAAGC,KACTC,WAAYF,EAAGC,KACfE,QAASH,EAAGC,KACZG,SAAUJ,EAAGI,SACbf,GAAIW,EAAGI,SACPC,OAAQ,MAEVlC,KAAKe,aAAaoB,KAAK,CACrBC,IAAKP,EAAGC,KACRT,KAAM,OACNgB,MAAO,UACPC,QAAS,CAACzB,KAIdb,KAAKuC,MAAM,QAASvC,KAAKwC,SAASxC,KAAKe,iBAG3C0B,QAxDF,WAyDIzC,KAAK0C,kBACL1C,KAAK2C,mBAEPC,QAAS,CACPF,gBADJ,WACA,WACM,GAAI1C,KAAK2B,iBAAkB,CACzB,IAAR,GACUkB,IAAK,UACLC,KAAM,UACNC,KAAM,IAEhB,oCACA,KACQC,EAAEC,QAAF,WAAR,gKACA,KACA,eACA,GACA,CACA,eACA,YACA,cACA,eAIA,YAZA,iCAaA,sBAbA,gBAaA,EAbA,EAaA,SAbA,EAaA,KAbA,EAaA,QACA,WACA,oBACA,YACA,EADA,CAEA,kBACA,kBACA,oBACA,4BArBA,WA0BA,aA1BA,kCA2BA,sBA3BA,iBA2BA,EA3BA,EA2BA,SA3BA,EA2BA,KA3BA,EA2BA,QACA,WACA,oBACA,YACA,EADA,CAEA,WACA,oBACA,kEACA,yDACA,eACA,cACA,2BAtCA,QA2CA,QACA,aACA,SACA,QACA,YA/CA,6FAAQ,IAkDAjD,KAAKe,aAAemC,EACpBlD,KAAKuC,MAAM,QAASvC,KAAKwC,SAASU,MAGtCC,WAhEJ,SAgEA,GACMnD,KAAKe,aAAe,CAACf,KAAKe,aAAaqC,SACvCpD,KAAKqD,WAAWjB,EAAIzB,MACpBX,KAAKuC,MAAM,QAASvC,KAAKwC,SAASxC,KAAKe,gBAEzCuC,aArEJ,SAqEA,KACM,IAAN,uBACMtD,KAAKqD,WAAWE,GAChBvD,KAAKuC,MAAM,QAASvC,KAAKwC,SAASxC,KAAKe,gBAEzC,WA1EJ,mEA0EA,GA1EA,0HA2EA,gDACA,IACA,oBACA,4BACA,gDACA,uCACA,mBAjFA,oBAkFA,6BACA,QAnFA,iCAoFA,mBApFA,gBAoFA,EApFA,EAoFA,SApFA,EAoFA,OApFA,EAoFA,QACA,UACA,oBACA,YACA,EADA,CAEA,WACA,oBACA,kEACA,+DACA,eACA,WACA,uCACA,0BAGA,wBACA,OACA,gBACA,YACA,YAEA,sDAEA,qBACA,YA5GA,WAgHA,QAhHA,kCAiHA,mBAjHA,iBAiHA,EAjHA,EAiHA,SAjHA,EAiHA,OAjHA,EAiHA,QACA,UACA,oBACA,YACA,EADA,CAEA,kBACA,kBACA,oBACA,cACA,2BAGA,wBACA,OACA,gBACA,WACA,YAEA,sDAEA,qBACA,YAtIA,wGA4II4B,gBA5IJ,WA4IA,WACM3C,KAAK0B,WAAWuB,QAAQ,SAA9B,GACQ,EAAR,mDAGIT,SAjJJ,SAiJA,GACM,IAAN,GACQgB,mBAAoB,GACpB7B,iBAAkB,IAE1B,GACQM,SAAU,GACVF,WAAY,GACZ0B,QAAS,GACTC,WAAY,IAmCd,OAhCA/C,EAAKsC,QAAQ,SAAnB,KACQ,IAAR,EACA,gBACA,2BAAU,OAAV,iBACA,2BAAU,OAAV,oBACA,kBAEQ,GAAIpC,EAAK,CACP,IAAV,EACA,eACA,2BAAY,OAAZ,oBACA,WACU8C,EAAS1B,SAAWpB,EAAIoB,SACxB0B,EAAS5B,WAAalB,EAAIkB,WAC1B4B,EAASD,WAAa,CAChC,CACY,OAAZ,SACY,aAAZ,EACY,aAAZ,IAGU7C,EAAIqB,QAAUyB,EAASF,QAAQtB,KAAKtB,EAAIqB,QACxCyB,EAASF,QAAQtB,KAAKtB,EAAIoB,UAC1BG,EAAIT,iBAAiBQ,KAAK,CACxBjB,GAAI0C,EAEJC,EAAGC,EAAE1B,IACL2B,EAAGD,EAAEzC,UAIXe,EAAIoB,mBAAmBrB,KAAKwB,GACrBvB,GAET4B,YA/LJ,SA+LA,KACMhE,KAAKe,aAAef,KAAKe,aAAakD,MAAM,EAAG3D,EAAQ,GACvDN,KAAKuC,MAAM,QAASvC,KAAKwC,SAASxC,KAAKe,kBCpSzCmD,EAAS,WAAa,IAAIC,EAAInE,KAASoE,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,aAAa,CAA8B,IAA5BL,EAAIpD,aAAarB,OAAc4E,EAAG,QAAQ,CAACG,YAAY,CAAC,MAAQ,SAASvB,MAAM,CAAC,YAAc,gBAAgBoB,EAAG,QAAQ,CAACG,YAAY,CAAC,MAAQ,SAASvB,MAAM,CAAC,YAAc,aAAa,MAAQiB,EAAIpD,aAAa,GAAGqB,KAAKsC,GAAG,CAAC,YAAYP,EAAIhB,cAAcgB,EAAIQ,GAAG,KAAKR,EAAIS,GAAIT,EAAgB,aAAE,SAASrB,EAAKxC,GAAO,OAAQA,EAAQ,EAAGgE,EAAG,SAAS,CAACO,IAAIvE,EAAMwE,MAAM,CACve,gBAAiB,MACjBC,MAAO,QACPC,OAAS,aAAgBlC,EAAU,OAClCI,MAAM,CAAC,WAAa,IAAIwB,GAAG,CAAC,kBAAkB,SAASO,GAAQ,OAAOd,EAAIb,aAAa2B,EAAQ3E,IAAQ,YAAY,SAAS2E,GAAQ,OAAOd,EAAIH,YAAYiB,EAAQ3E,KAAS4E,MAAM,CAACxE,MAAOoC,EAAQ,IAAEqC,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKvC,EAAM,MAAOsC,IAAME,WAAW,aAAanB,EAAIS,GAAI9B,EAAY,QAAE,SAASjC,GAAK,OAAOyD,EAAG,SAAS,CAACO,IAAIhE,EAAIqB,OAAOgB,MAAM,CAAC,MAAQrC,EAAImB,UAAU,CAACmC,EAAIQ,GAAGR,EAAIoB,GAAK1E,EAAc,WAAI,MAASA,EAAW,QAAI,WAAY,GAAGsD,EAAIqB,QAAQ,IAC9cC,EAAkB,G,YCLtB,SAASC,EAAaC,GACpB,EAAQ,QAQV,IAAIC,GAA8B,EAE9BC,EAAiBH,EAEjBI,EAAkB,KAElBC,EAA4B,KAE5BC,EAAY,eACd,EACA,EACA,EACAJ,EACAC,EACAC,EACAC,GAGa,EAAAC,EAAiB,Q,YCUhC,GACEC,WAAY,CACVC,UAAJ,QAEEvF,KAJF,WAKI,MAAO,CACLwF,YAAa,eACbC,aAAc,EACdC,SAAU,KAGdjF,MAAO,CACLM,WAAY,CAAhB,aACI4E,SAAU,CAAd,aACI9E,WAAY,CAAhB,aACI+E,WAAY,CAAhB,aACIC,mBAAoB,CAAxB,aACIC,UAAW,CAAf,aACI/F,MAAO,IAETkB,MAAO,CACL6E,UAAW,CACTC,QADN,SACA,GACQ1G,KAAKmG,YAAc/D,EAAI+D,YACvBnG,KAAKoG,aAAehE,EAAIgE,cAE1BO,WAAW,IAGflE,QA7BF,WA8BIzC,KAAKuC,MAAM,QAASvC,KAAK4G,cAE3BC,SAAU,CACRD,YADJ,WAEM,MAAyB,iBAArB5G,KAAKmG,YACA,CACLA,YAAanG,KAAKmG,YAClBC,aAAc,KACdzE,iBAAkB3B,KAAKqG,SAAS1E,iBAChC6B,mBAAoBxD,KAAKqG,SAAS7C,oBAG7B,CACL2C,YAAanG,KAAKmG,YAClBC,aAAcpG,KAAKoG,aACnBzE,iBAAkB,KAClB6B,mBAAoB,QAK5BZ,QAAS,CACPkE,yBADJ,SACA,GACM9G,KAAKuC,MAAM,QAASvC,KAAK4G,cAE3BG,sBAJJ,SAIA,GACM/G,KAAKuC,MAAM,QAASvC,KAAK4G,cAE3BI,0BAPJ,SAOA,GACMhH,KAAKuC,MAAM,QAASvC,KAAK4G,gBChG3B,EAAS,WAAa,IAAIzC,EAAInE,KAASoE,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,OAAO,CAAsB,iBAApBiB,EAAIgC,YAAgC7B,EAAG,YAAY,CAACpB,MAAM,CAAC,WAAaiB,EAAIzC,WAAW,iBAAmByC,EAAIsC,UAAU9E,iBAAiB,WAAawC,EAAI3C,WAAW,WAAa2C,EAAIoC,WAAW,mBAAqBpC,EAAIqC,oBAAoB9B,GAAG,CAAC,OAASP,EAAI4C,uBAAuB7B,MAAM,CAACxE,MAAOyD,EAAY,SAAEgB,SAAS,SAAUC,GAAMjB,EAAIkC,SAASjB,GAAKE,WAAW,cAAcnB,EAAIqB,KAAKrB,EAAIQ,GAAG,KAA0B,mBAApBR,EAAIgC,YAAkC7B,EAAG,SAAS,CAACpB,MAAM,CAAC,WAAa,IAAIwB,GAAG,CAAC,YAAYP,EAAI6C,2BAA2B9B,MAAM,CAACxE,MAAOyD,EAAgB,aAAEgB,SAAS,SAAUC,GAAMjB,EAAIiC,aAAahB,GAAKE,WAAW,iBAAiBnB,EAAIS,GAAIT,EAAY,SAAE,SAAS8C,GAAM,OAAO3C,EAAG,SAAS,CAACO,IAAIoC,EAAKvG,MAAMwC,MAAM,CAAC,MAAQ+D,EAAKvG,QAAQ,CAACyD,EAAIQ,GAAGR,EAAIoB,GAAG0B,EAAK9F,YAAY,GAAGgD,EAAIqB,MAAM,GAAGrB,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,IAAI,OAAS,MAAM,CAACoB,EAAG,SAAS,CAACI,GAAG,CAAC,YAAYP,EAAI2C,0BAA0B5B,MAAM,CAACxE,MAAOyD,EAAe,YAAEgB,SAAS,SAAUC,GAAMjB,EAAIgC,YAAYf,GAAKE,WAAW,gBAAgB,CAAChB,EAAG,SAAS,CAACO,IAAI,eAAe3B,MAAM,CAAC,MAAQ,iBAAiB,CAACiB,EAAIQ,GAAG,cAAcR,EAAIQ,GAAG,KAAKL,EAAG,SAAS,CAACO,IAAI,iBAAiB3B,MAAM,CAAC,MAAQ,mBAAmB,CAACiB,EAAIQ,GAAG,WAAW,IAAI,IAAI,IACzyC,EAAkB,GCKlB,GAA8B,EAE9B,EAAiB,KAEjB,EAAkB,KAElB,EAA4B,KAE5B,EAAY,eACd,EACA,EACA,EACA,EACA,EACA,EACA,GAGa,IAAiB,Q,2kBCxBjB,OACb7C,KAAM,kBACNV,MAAO,CACL8F,eAAgB,CAAEzF,QAAS,iBAAM,MAEnCd,KALa,WAMX,MAAO,CACLwG,KAAM,GACNC,aAAa,IAGjBxE,QAAS,CACPyE,aADO,SACMxE,GACX7C,KAAKuC,MAAM,eAAgBvC,KAAKmH,MAChCnH,KAAKoH,aAAc,GAErBE,UALO,SAKGC,GACJA,IACJvH,KAAKoH,aAAc,IAErBI,aATO,WAULxH,KAAKoH,aAAc,GAGrBK,eAbO,WAaU,iCACf,qBAEQ,OAFR,aAGWzH,KAAKmH,KAHhB,iBAKmB,MALnB,qBAIa,SAAAtD,GAAC,OAAK,EAAKsD,KAAOtD,KAJ/B,UASO7D,KAAKkH,eAAeQ,IAAI,SAAA5D,GACvB,OAAO,EAAK6D,eAAe7D,KAVnC,qBAYiB,IAZjB,qBAawB,sCAbxB,yBAeiB,UAfjB,KAgBiB,cAhBjB,UAiBqB,kBAAM,EAAKuD,aAAa,WAjB7C,iBA2BFM,eAzCO,SAyCQV,GAAM,iCACbtG,EAAO,CACXS,MAAO,KACF6F,EADA,CAEHW,OAAQ,CACN1G,GAAI+F,EAAKhF,YAGb6C,MAAO,CACLC,MAAO,SAIP8C,EAAU,SAAAZ,GACZ,OAAQA,EAAKa,WACX,IAAK,SACH,oCAEa,SAAAjE,GAAC,OAAK,EAAKsD,KAAKF,EAAKc,cAAgBlE,IAFlD,aAGW,EAAKsD,KAAKF,EAAKc,cAH1B,6BAMQpH,EANR,gBAOasG,EAAK3E,aAGpB,IAAK,MACH,qCAEa,SAAAuB,GAAC,OAAK,EAAKsD,KAAKF,EAAKc,cAAgBlE,IAFlD,aAGW,EAAKsD,KAAKF,EAAKc,gBAClBpH,KAGV,QACE,kBAGN,4BACasG,EAAKe,MAAQ,IAD1B,4BAEqBf,EAAKnF,KAF1B,KAEsCmF,EAAKnF,MAF3C,IAEsDmF,EAAKnF,MAF3D,CAGO+F,EAAQZ,SAMnB/C,OAnGa,SAmGNlB,GAAG,WACR,sCAEqBhD,KAAKwH,eAF1B,sCAIY,SAJZ,MAKaxH,KAAKoH,YALlB,eAMmB,EANnB,iBAOqB,EAPrB,YAQkB,EARlB,MASa,IATb,wBAU4B,SAAAG,GAAM,OAAI,EAAKD,UAAUC,MAVrD,CAYOvH,KAAKoH,aAAL,SAA0BpH,KAAKyH,yB,sjBCgS1C,OACA,CACE,MAAF,OACE,MAAF,CACI,KAAJ,OACI,KAAJ,SAEE,WAAF,mBAIA,GACExB,WAAY,CACVgC,WAAJ,EACI/B,UAAJ,OACIgC,gBAAJ,EACIC,cAAJ,GAEExH,KAPF,WAQI,MAAO,CACL2F,SAAU,GACVC,WAAY,GACZC,mBAAoB,GACpB4B,mBAAoB,GACpBC,YAAa,GACbC,wBAAyB,GACzBC,SAAU,GACVC,QAAS,GACTC,QAAS,GACTC,iBAAkB,GAClBC,eAAgB,GAChBC,wBAAyB,GACzBC,cAAe,GACfC,kBAAmB,GACnBC,aAAc,GACdC,iBAAkB,EAClBC,kBAAmB,EACnBC,cAAe,GACf/B,KAAM,GACNgC,UAAW,GACXC,eAAgB,GAChBC,aAAN,EACMC,aAAc,CACpB,CACQ,MAAR,SACQ,IAAR,WACQ,SAAR,WACQ,YAAR,EACQ,aAAR,EACQ,UAAR,WACQ,YAAR,EACQ,YAAR,SACQ,KAAR,EACQ,MAAR,QACQ,QAAR,IAEA,CACQ,MAAR,MACQ,IAAR,YACQ,SAAR,YACQ,YAAR,EACQ,aAAR,EACQ,UAAR,QACQ,iBAAR,EACQ,YAAR,MACQ,MAAR,SAEA,CACQ,MAAR,KACQ,IAAR,cACQ,SAAR,cACQ,YAAR,EACQ,aAAR,EACQ,UAAR,QACQ,iBAAR,EACQ,YAAR,KACQ,MAAR,SAEA,CACQ,MAAR,OACQ,IAAR,MACQ,SAAR,MACQ,YAAR,EACQ,aAAR,EACQ,UAAR,QACQ,YAAR,YAGMC,WAAY,CACVC,SAAU,GACVC,YAAa,EACbC,MAAO,GAETC,cAAe,GACfC,wBAAwB,EACxBC,WAAY,GACZ3C,eAAgB,GAChB4C,eAAgB,GAChBC,WAAW,EACXC,oBAAqB,KAGzBpI,MAAO,CACLiH,cAAe,CACbnC,QADN,SACA,KACMuD,MAAM,GAERtB,eAAgB,CACdjC,QADN,SACA,GACQ1G,KAAKkK,aAAa,CAA1B,WAEMvD,WAAW,IAGf/D,QAAS,CACP,6BADJ,qLAEA,gBACA,aACA,UACA,QACA,mBANA,gBAEA,EAFA,EAEA,SAFA,EAEA,KAFA,EAEA,QAMA,WACA,KACA,KAEA,gCACA,sBACA,8EAEA,eAEA,sBACA,4BACA,8BACA,gBACA,+BACA,iCACA,0BAMA,kBACA,2BA/BA,sGAkCIuH,WAlCJ,SAkCA,GACMnK,KAAKuJ,WAAWE,YAAcW,EAC9BpK,KAAKqK,wBAEPC,eAtCJ,SAsCA,GACMtK,KAAKuJ,WAAWC,SAAWe,EAC3BvK,KAAKqK,wBAEPG,UA1CJ,SA0CA,KACmB,mBAATnJ,GACFrB,KAAKyK,aAAa9J,IAGtB+J,kBA/CJ,SA+CA,GAEM,IAAK,IAAX,KADM1K,KAAK8J,eAAiB,GAC5B,EACQ9J,KAAK8J,eAAe3H,KAAK,CACvBwI,gBAAiBC,EACjBC,gBAAiBlK,EAAKiK,MAI5B,YAxDJ,mEAwDA,GAxDA,mGA0DA,GACA,oDA3DA,SA6DA,kBA7DA,gBA6DA,EA7DA,EA6DA,OA7DA,EA6DA,OA7DA,EA6DA,QACA,WACA,yCACA,OACA,eACA,sBAlEA,uGAuEI,YAvEJ,wKAyEA,GACA,WACA,WA3EA,SA6EA,kBA7EA,gBA6EA,EA7EA,EA6EA,OA7EA,EA6EA,OA7EA,EA6EA,QACA,WACA,yBACA,gBACA,OACA,gBACA,eACA,kBACA,yBAGA,yEACA,oEAzFA,sGA4FI,aA5FJ,mEA4FA,GA5FA,qGA6FA,GACA,QACA,CACA,sBACA,0BACA,wBAlGA,SAuGA,gBACA,aACA,GAzGA,gBAuGA,EAvGA,EAuGA,OAvGA,EAuGA,OAvGA,EAuGA,QAIA,WACA,+BACA,8CACA,kCACA,WACA,QACA,EAHA,+CAKA,4BALA,aA9GA,uGAwHIvD,aAxHJ,SAwHA,GACMrH,KAAK2J,cAAgBhJ,EACrBX,KAAK8K,gBAEP,OA5HJ,iLA6HA,kBA7HA,UA6HA,EA7HA,OA8HA,gBA9HA,iCA+HA,gBACA,uBAhIA,gBA+HA,EA/HA,EA+HA,OA/HA,EA+HA,OA/HA,EA+HA,QAGA,WACA,sBACA,gBACA,SAEA,gCAvIA,uGA2II,WA3IJ,4KA4IA,KACA,wCACA,OACA,qCACA,0BACA,GACA,qCACA,0BACA,GACA,yDACA,oCACA,IACA,qBACA,UACA,sBACA,KACA,OACA,UACA,mCACA,qCACA,0CACA,aACA,GACA,eACA,uBACA,6CACA,4CACA,KACA,oBAGA,4BACA,qBACA,2DACA,OACA,oCACA,uBAKA,GACA,gDACA,kDACA,+BACA,yBACA,yCACA,qBA3LA,SA8LA,mBA9LA,uBA8LA,EA9LA,EA8LA,SA9LA,EA8LA,OA9LA,EA8LA,QACA,WACA,sBACA,gBACA,SAEA,gCApMA,kBAsMA,6BAtMA,uGAwMI,aAxMJ,+KAyMA,eACA,uBA1MA,gBAyMA,EAzMA,EAyMA,OAzMA,EAyMA,OAzMA,EAyMA,QAGA,WACA,sBACA,gBACA,SAEA,gCAjNA,sGAoNI,wBApNJ,sLAqNA,iBArNA,gBAqNA,EArNA,EAqNA,SArNA,EAqNA,KArNA,EAqNA,QACA,WACA,+BACA,YACA,EADA,CAEA,kDACA,QACA,UACA,WACA,yCACA,YACA,EADA,CAEA,aACA,QACA,UACA,mBAKA,iCACA,2BACA,+CAEA,IACA,sBA9OA,sGAoPI,aApPJ,mEAoPA,GApPA,mGAqPA,YArPA,uBAsPA,0CACA,sCACA,2BAMA,+BA9PA,SA+PA,yBA/PA,OA+PA,EA/PA,OAgQA,kBACA,8BACA,cACA,6CACA,YACA,qBAEA,gCAvQA,uGA0QI,kBA1QJ,mEA0QA,GA1QA,sGA2QA,cACA,oBACA,6KACA,uBADA,iCAEA,gBACA,EACA,eAJA,kBAEA,OAFA,EAEA,UAFA,EAEA,KAKA,eACA,+CACA,gBACA,OACA,aACA,kBAIA,yBAhBA,wBAkBA,yBAlBA,oGA7QA,SAoSA,mBApSA,OAoSA,EApSA,OAqSA,iBACA,UAtSA,kGAySI,aAzSJ,mEAySA,KAzSA,4GA0SA,uCACA,qBA3SA,SA4SA,gBACA,MA7SA,mBA4SA,EA5SA,EA4SA,SA5SA,EA4SA,KA5SA,EA4SA,QAGA,WACA,wCACA,YACA,EADA,CAEA,wEACA,8EAGA,gDAEA,kBACA,EA1TA,wBA2TA,0BACA,iCACA,MACA,8DACA,IACA,2BACA,iBACA,iBAlUA,UAsUA,mBAtUA,QAsUA,EAtUA,OAuUA,8BAvUA,QA0UA,kBACA,oBACA,gCACA,2BACA,wDAEA,kCACA,qBAjVA,0GAmVIC,cAnVJ,WAoVM/K,KAAKmJ,UAAY,GACjBnJ,KAAKoJ,eAAiB,GACtBpJ,KAAKgL,MAAMC,OAASjL,KAAKgL,MAAMC,MAAMC,SAEvC,2BAxVJ,+KAyVA,iBAzVA,gBAyVA,EAzVA,EAyVA,OAzVA,EAyVA,OAzVA,EAyVA,QACA,WACA,2BA3VA,sGA8VIC,WA9VJ,SA8VA,GACMnL,KAAKqI,YAAcxE,GAErBuH,yBAjWJ,WAiWA,WACMpL,KAAKsI,wBAA0B,GAC/BtI,KAAKqI,YAAYpF,QAAjB,WAAN,qKACA,mBADA,gBACA,EADA,EACA,OADA,EACA,OADA,EACA,QACA,UACA,gCACA,KACA,OACA,qCANA,4FAAM,KAWF,yCA9WJ,mEA8WA,OA9WA,+FA+WA,MACA,0CACA,sBACA,gBACA,0CAEA,OAEA,EAvXA,wDAwXA,kBACA,GACA,uCA1XA,SAgYA,eACA,sBACA,EACA,EACA,GApYA,kBA6XA,KACA,EA9XA,EA8XA,OA9XA,EA+XA,QAOA,UACA,uDAEA,kBAzYA,4GA2YI,2BA3YJ,mEA2YA,GA3YA,iGA4YA,kBA5YA,SA6YA,kBA7YA,gBA6YA,EA7YA,EA6YA,OA7YA,EA6YA,OA7YA,EA6YA,QACA,WACA,oCACA,wBACA,OACA,QACA,cACA,YACA,kCAIA,+BAEA,kBA3ZA,uGA6ZIoI,uBA7ZJ,WA8ZMrL,KAAKsJ,aAAa,GAAGhH,QAAUtC,KAAK+I,aAAarB,IAAI,SAA3D,GACQ,MAAO,CACLvG,MAAO2C,EAAEwH,OAAS,IAAMxH,EAAEyH,KAC1B7K,MAAOoD,EAAE5C,OAIf,qBAraJ,mEAqaA,GAraA,0GAsaA,mBAtaA,kBAsaA,OAtaA,EAsaA,SAtaA,EAsaA,QACA,WACA,sBACA,gBACA,SAEA,wDA5aA,uGA+aI,aA/aJ,iLAgbA,6BAhbA,wDAibA,GACA,wCACA,eACA,QACA,CACA,yCAtbA,SA2bA,mBA3bA,OA4bA,GA5bA,SA2bA,EA3bA,EA2bA,SA3bA,EA2bA,KA3bA,EA2bA,QACA,UACA,SADA,WACA,GACA,SACA,0BACA,6BACA,UACA,yEACA,cACA,OAPA,OAaA,4BA1cA,uGA6cImJ,qBA7cJ,WA8cMrK,KAAKuJ,WAAWG,MAAQ1J,KAAKoJ,eAAe1J,OAC5C,IAAN,kCACMM,KAAKmJ,UAAYqC,EAAKC,QAC5B,wDACA,2BAGI,iBArdJ,+KAsdA,iBAtdA,gBAsdA,EAtdA,EAsdA,SAtdA,EAsdA,KAtdA,EAsdA,QACA,WACA,+BACA,YACA,EADA,CAEA,kDACA,QACA,UACA,WACA,yCACA,YACA,EADA,CAEA,aACA,QACA,UACA,oBAreA,sGA6eI,UA7eJ,mEA6eA,OA7eA,yFA8eA,sBACA,gBACA,qBAEA,gBAlfA,gCAmfA,gBACA,WApfA,kBAmfA,QAnfA,EAmfA,OAnfA,EAmfA,KAGA,wBAtfA,2GAyfIC,QAzfJ,SAyfA,OACM1L,KAAK2L,QAAQC,MAAM,CACjBC,MAAO,QACPC,KAAMC,EAAKC,SAAW,OAK5BC,QAxmBF,WAymBIjM,KAAKkM,+BACLlM,KAAKmM,oBAEP1J,QA5mBF,WA6mBIzC,KAAKoM,eAEPvF,SAAU,CACRwF,sBADJ,WAEM,IAAN,kBACA,WACA,iBAAQ,OAAR,8BACM,MAAO,CACL,eAAgBC,GAAeA,EAAYC,MAAM,KAAK,OChhC1D,EAAS,WAAa,IAAIpI,EAAInE,KAASoE,EAAGD,EAAIE,eAAmBC,EAAGH,EAAII,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACG,YAAY,CAAC,QAAU,SAAS,CAAEN,EAAa,UAAEG,EAAG,OAAO,CAACpB,MAAM,CAAC,KAAO,QAAQ,IAAM,KAAK,CAACoB,EAAG,OAAO,CAACE,YAAY,iBAAiBtB,MAAM,CAAC,KAAO,cAAc,KAAO,QAAQiB,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACH,EAAIQ,GAAG,aAAa,GAAGR,EAAIqB,KAAKrB,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,MAAM,CAACA,EAAG,OAAO,CAACA,EAAG,IAAI,CAACpB,MAAM,CAAC,KAAO,SAASsJ,KAAK,SAAS,CAACrI,EAAIQ,GAAGR,EAAIoB,GAAGpB,EAAIsI,GAAG,+BAA+BtI,EAAIQ,GAAG,KAAKL,EAAG,SAAS,CAACpB,MAAM,CAAC,mBAAmB,GAAG,OAAS,OAAO,KAAO,WAAW,aAAaiB,EAAIuI,UAAU,WAAWvI,EAAIuH,QAAQ,OAAS,iBAAiB,QAAUvH,EAAIkI,wBAAwB,CAAC/H,EAAG,SAAS,CAACpB,MAAM,CAAC,KAAO,6BAA6B,CAACiB,EAAIQ,GAAG,iBAAiBR,EAAIoB,GAAGpB,EAAIsI,GAAG,sBAAsB,mBAAmB,IAAI,IAAI,GAAGtI,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACE,YAAY,0BAA0B,CAACF,EAAG,OAAO,CAACA,EAAG,IAAI,CAACpB,MAAM,CAAC,KAAO,SAASsJ,KAAK,SAAS,CAACrI,EAAIQ,GAAGR,EAAIoB,GAAGpB,EAAIsI,GAAG,oBAAoBtI,EAAIQ,GAAG,KAAKL,EAAG,OAAO,CAACpB,MAAM,CAAC,KAAOiB,EAAIqE,SAAS9D,GAAG,CAAC,mBAAmBP,EAAIwI,iBAAiB,IAAI,IAAI,GAAGxI,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,KAAK,OAAS,MAAM,CAAE5B,OAAOsL,KAAKzI,EAAI0E,eAAenJ,OAAS,EAAG4E,EAAG,MAAM,CAAEH,EAAI0E,cAAsB,SAAEvE,EAAG,MAAM,CAACA,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACF,EAAG,OAAO,CAACA,EAAG,IAAI,CAACpB,MAAM,CAAC,KAAO,SAASsJ,KAAK,SAAS,CAACrI,EAAIQ,GAAG,QAAQR,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACA,EAAG,SAAS,CAACG,YAAY,CAAC,MAAQ,OAAOvB,MAAM,CAAC,SAAW,GAAG,gBAAgB,GAAGwB,GAAG,CAAC,YAAYP,EAAIgH,YAAYjG,MAAM,CAACxE,MAAOyD,EAAe,YAAEgB,SAAS,SAAUC,GAAMjB,EAAIkE,YAAYjD,GAAKE,WAAW,gBAAgBnB,EAAIS,GAAIT,EAAsB,mBAAE,SAAS8C,GAAM,OAAO3C,EAAG,SAAS,CAACO,IAAIoC,EAAK/D,MAAM,CAAC,MAAQ+D,IAAO,CAAC9C,EAAIQ,GAAGR,EAAIoB,GAAG0B,QAAW,GAAG9C,EAAIQ,GAAG,KAAKL,EAAG,SAAS,CAACpB,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWwB,GAAG,CAAC,MAAQP,EAAIiH,2BAA2B,CAACjH,EAAIQ,GAAG,UAAUR,EAAIQ,GAAG,KAAMR,EAAImE,wBAAwB5I,OAAS,EAAG4E,EAAG,MAAM,CAACA,EAAG,IAAI,CAACG,YAAY,CAAC,aAAa,SAAS,CAACN,EAAIQ,GAAG,WAAWR,EAAIQ,GAAG,KAAKR,EAAIS,GAAIT,EAA2B,wBAAE,SAAS8C,GAAM,OAAO3C,EAAG,MAAM,CAACO,IAAIoC,EAAK4F,GAAK5F,EAAKsE,MAAM,CAACjH,EAAG,MAAM,CAACE,YAAY,0BAA0BC,YAAY,CAAC,gBAAgB,iBAAiB,QAAU,WAAW,CAACH,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACL,EAAIQ,GAAG,2BAA2BR,EAAIoB,GAAG0B,EAAK4F,GAAK,IAAM5F,EAAKsE,MAAM,4BAA4BpH,EAAIQ,GAAG,KAAKL,EAAG,OAAO,CAACH,EAAIQ,GAAG,WAAWR,EAAIQ,GAAG,KAAKL,EAAG,QAAQ,CAACG,YAAY,CAAC,MAAQ,OAAOvB,MAAM,CAAC,KAAO,WAAW,UAAW,GAAMgC,MAAM,CAACxE,MAAOuG,EAAiB,aAAE9B,SAAS,SAAUC,GAAMjB,EAAIkB,KAAK4B,EAAM,eAAgB7B,IAAME,WAAW,uBAAuBnB,EAAIQ,GAAG,KAAKL,EAAG,SAAS,CAACpB,MAAM,CAAC,KAAO,QAAQ,KAAO,WAAWwB,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOd,EAAI2I,yCAC5oF7F,EAAK4F,GACL5F,EAAKsE,KACLtE,EAAK8F,iBACF,CAAC5I,EAAIQ,GAAGR,EAAIoB,GAAGpB,EAAIsI,GAAG,eAAe,QAAQ,GAAGtI,EAAIqB,MAAM,GAAGrB,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACA,EAAG,IAAI,CAACG,YAAY,CAAC,aAAa,SAAS,CAACN,EAAIQ,GAAGR,EAAIoB,GAAGpB,EAAIsI,GAAG,iBAAiB,OAAOtI,EAAIQ,GAAG,KAAkC,IAA5BR,EAAI4E,aAAarJ,OAAc4E,EAAG,MAAM,CAACH,EAAIQ,GAAG,YAAYL,EAAG,MAAMH,EAAIS,GAAIT,EAAgB,aAAE,SAAS8C,GAAM,OAAO3C,EAAG,MAAM,CAACO,IAAIoC,EAAK/F,IAAI,CAACoD,EAAG,MAAM,CAACE,YAAY,2BAA2B,CAACF,EAAG,MAAM,CAACE,YAAY,iBAAiB,CAACL,EAAIQ,GAAGR,EAAIoB,GAAG0B,EAAK+F,iBAAiB7I,EAAIQ,GAAG,KAAKL,EAAG,SAAS,CAACpB,MAAM,CAAC,KAAO,QAAQ,KAAO,SAASwB,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOd,EAAI8I,qBAAqBhG,EAAK/F,OAAO,CAACiD,EAAIQ,GAAGR,EAAIoB,GAAGpB,EAAIsI,GAAG,mBAAmB,OAAO,MAAM,GAAGtI,EAAIQ,GAAG,KAAKL,EAAG,OAAO,CAACG,YAAY,CAAC,aAAa,SAAS,CAACH,EAAG,IAAI,CAACpB,MAAM,CAAC,KAAO,SAASsJ,KAAK,SAAS,CAACrI,EAAIQ,GAAG,UAAUR,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACG,YAAY,CAAC,QAAU,eAAe,CAACH,EAAG,UAAU,CAACzB,IAAI,QAAQK,MAAM,CAAC,UAAYiB,EAAIgF,UAAU,kBAAoBhF,EAAIkF,aAAa,aAAelF,EAAImF,aAAa,WAAanF,EAAIoF,WAAW,cAAe,EAAM,YAAc,OAAO7E,GAAG,CAAC,UAAYP,EAAIqG,UAAU,aAAerG,EAAIkD,aAAa,WAAalD,EAAIgG,WAAW,eAAiBhG,EAAImG,mBAAmB,GAAGnG,EAAIQ,GAAG,KAAKL,EAAG,QAAQ,CAACpB,MAAM,CAAC,MAAQ,OAAO,cAAc,GAAG,MAAQ,MAAMgC,MAAM,CAACxE,MAAOyD,EAA0B,uBAAEgB,SAAS,SAAUC,GAAMjB,EAAIyF,uBAAuBxE,GAAKE,WAAW,2BAA2B,CAAChB,EAAG,MAAM,CAACG,YAAY,CAAC,cAAc,YAAYvB,MAAM,CAAC,KAAO,QAAQgK,SAAS,CAAC,UAAY/I,EAAIoB,GAAGpB,EAAI0F,kBAAkB,IAAI,IAAI,GAAGvF,EAAG,OAAO,CAACpB,MAAM,CAAC,MAAQiB,EAAIgD,OAAO,CAAC7C,EAAG,MAAM,CAACA,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,IAAI,OAAS,MAAM,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,GAAG,MAAQ,WAAW,CAACoB,EAAG,QAAQ,CAACpB,MAAM,CAAC,SAAW,IAAIgC,MAAM,CAACxE,MAAOyD,EAAI0E,cAAkB,KAAE1D,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKlB,EAAI0E,cAAe,OAAQzD,IAAME,WAAW,yBAAyB,IAAI,GAAGnB,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,IAAI,OAAS,MAAM,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,MAAQ,YAAY,CAACoB,EAAG,SAAS,CAACpB,MAAM,CAAC,iBAAiB,IAAIwB,GAAG,CAAC,YAAYP,EAAI+F,cAAchF,MAAM,CAACxE,MAAOyD,EAAkB,eAAEgB,SAAS,SAAUC,GAAMjB,EAAIwE,eAAevD,GAAKE,WAAW,mBAAmBnB,EAAIS,GAAIT,EAAW,QAAE,SAAStC,GAAI,OAAOyC,EAAG,cAAc,CAACO,IAAIhD,EAAGsL,KAAKjK,MAAM,CAAC,MAAQrB,EAAGnB,OAAS,MAAMyD,EAAIS,GAAI/C,EAAU,QAAE,SAASoF,GAAM,OAAO3C,EAAG,SAAS,CAACO,IAAIoC,EAAKhF,SAASiB,MAAM,CAAC,MAAQ+D,EAAKhF,UAAY,KAAK,CAACkC,EAAIQ,GAAGR,EAAIoB,GAAG0B,EAAKnF,WAAW,KAAK,IAAI,IAAI,GAAGqC,EAAIQ,GAAG,KAA6B,KAAvBR,EAAIwE,eAAuBrE,EAAG,MAAM,CAACG,YAAY,CAAC,aAAa,QAAQvB,MAAM,CAAC,KAAO,IAAI,OAAS,MAAM,CAACoB,EAAG,kBAAkB,CAACpB,MAAM,CAAC,eAAiBiB,EAAI+C,gBAAgBxC,GAAG,CAAC,aAAeP,EAAIuG,sBAAsB,GAAGvG,EAAIqB,MAAM,GAAGrB,EAAIQ,GAAG,KAAKL,EAAG,MAAMH,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACG,YAAY,CAAC,gBAAgB,OAAO,aAAa,SAAS,CAACH,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,OAAO,CAACH,EAAIQ,GAAG,UAAUR,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,OAAO,CAACH,EAAIQ,GAAG,YAAYR,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,OAAO,CAACH,EAAIQ,GAAG,YAAYR,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,OAAO,CAACH,EAAIQ,GAAG,WAAWR,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,IAAI,OAAS,MAAM,CAACoB,EAAG,OAAO,CAACH,EAAIQ,GAAG,eAAe,GAAGR,EAAIQ,GAAG,KAAKR,EAAIS,GAAIT,EAAoB,iBAAE,SAASiJ,EAAW9M,GAAO,OAAOgE,EAAG,MAAM,CAACO,IAAIuI,EAAWlM,GAAGuD,YAAY,CAAC,aAAa,OAAO,gBAAgB,sBAAsB,CAACH,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,UAAU,CAACpB,MAAM,CAAC,QAAUkK,EAAWtL,OAAO,CAACwC,EAAG,OAAO,CAACG,YAAY,CAAC,QAAU,eAAe,YAAY,MAAM,cAAc,SAAS,SAAW,SAAS,gBAAgB,aAAa,CAACN,EAAIQ,GAAG,qBAAqBR,EAAIoB,GAAG6H,EAAWtL,MAAM,yBAAyB,GAAGqC,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,OAAO,CAACoB,EAAG,MAAM,CAACA,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,CAACoB,EAAG,OAAO,CAACH,EAAIQ,GAAG,aAAa,GAAGR,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,CAACoB,EAAG,SAAS,CAACpB,MAAM,CAAC,UAAY,IAAIgC,MAAM,CAACxE,MAAO0M,EAAuB,aAAEjI,SAAS,SAAUC,GAAMjB,EAAIkB,KAAK+H,EAAY,eAAgBhI,IAAME,WAAW,4BAA4BnB,EAAIS,GAAIT,EAAY,SAAE,SAAS8C,GAAM,OAAO3C,EAAG,SAAS,CAACO,IAAIoC,EAAKvG,MAAMwC,MAAM,CAAC,MAAQ+D,EAAKvG,MAAM2M,aAAa,CAAClJ,EAAIQ,GAAGR,EAAIoB,GAAG0B,EAAK9F,YAAY,IAAI,IAAI,GAAGgD,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,KAAK,OAAS,MAAMiB,EAAIS,GAAIwI,EAA0B,gBAAE,SAASE,GAAO,OAAOhJ,EAAG,MAAM,CAACO,IAAIyI,EAAMpM,IAAI,CAACoD,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,CAACoB,EAAG,UAAU,CAACpB,MAAM,CAAC,QAAUoK,EAAMxL,OAAO,CAACwC,EAAG,OAAO,CAACG,YAAY,CAAC,QAAU,eAAe,cAAc,SAAS,SAAW,SAAS,gBAAgB,aAAa,CAACN,EAAIQ,GAAG,+BAA+BR,EAAIoB,GAAG+H,EAAMxL,MAAM,mCAAmC,IAAI,GAAGqC,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,OAAO,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,CAACoB,EAAG,gBAAgB,CAACpB,MAAM,CAAC,SAAWiB,EAAImC,SAAS,WAAanC,EAAIsE,QAAQ,UAAY6E,EAAM,WAAanJ,EAAIwE,eAAe,WAAaxE,EAAIoC,WAAW,mBAAqBpC,EAAIqC,oBAAoBtB,MAAM,CAACxE,MAAO4M,EAAc,SAAEnI,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKiI,EAAO,WAAYlI,IAAME,WAAW,qBAAqB,IAAI,IAAI,KAAK,IAAI,GAAGnB,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACA,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,CAACoB,EAAG,OAAO,CAACH,EAAIQ,GAAG,aAAa,GAAGR,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,CAACoB,EAAG,SAAS,CAACpB,MAAM,CAAC,UAAY,IAAIgC,MAAM,CAACxE,MAAO0M,EAAuB,aAAEjI,SAAS,SAAUC,GAAMjB,EAAIkB,KAAK+H,EAAY,eAAgBhI,IAAME,WAAW,4BAA4BnB,EAAIS,GAAIT,EAAY,SAAE,SAAS8C,GAAM,OAAO3C,EAAG,SAAS,CAACO,IAAIoC,EAAKvG,MAAMwC,MAAM,CAAC,MAAQ+D,EAAKvG,MAAM2M,aAAa,CAAClJ,EAAIQ,GAAGR,EAAIoB,GAAG0B,EAAK9F,YAAY,IAAI,IAAI,GAAGgD,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,KAAK,OAAS,MAAMiB,EAAIS,GAAIwI,EAA2B,iBAAE,SAASG,GAAQ,OAAOjJ,EAAG,MAAM,CAACO,IAAI0I,EAAOrM,GAAK,KAAM,CAACoD,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,MAAM,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,CAACoB,EAAG,UAAU,CAACpB,MAAM,CAAC,QAAUqK,EAAOzL,OAAO,CAACwC,EAAG,OAAO,CAACG,YAAY,CAAC,QAAU,eAAe,cAAc,SAAS,SAAW,SAAS,gBAAgB,aAAa,CAACN,EAAIQ,GAAG,+BAA+BR,EAAIoB,GAAGgI,EAAOzL,MAAM,mCAAmC,IAAI,GAAGqC,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,OAAO,CAACoB,EAAG,WAAW,CAACpB,MAAM,CAAC,cAAc,IAAI,CAACoB,EAAG,SAAS,CAACG,YAAY,CAAC,MAAQ,SAASvB,MAAM,CAAC,YAAc,MAAM,UAAY,IAAIgC,MAAM,CAACxE,MAAO6M,EAAuB,iBAAEpI,SAAS,SAAUC,GAAMjB,EAAIkB,KAAKkI,EAAQ,mBAAoBnI,IAAME,WAAW,4BAA4BnB,EAAIS,GAAIT,EAAqB,kBAAE,SAASrB,GAAM,OAAOwB,EAAG,SAAS,CAACO,IAAI/B,EAAK0K,aAAatK,MAAM,CAAC,MAAQJ,EAAK0K,aAAa,MAAQ1K,EAAKhB,UAAU,IAAI,IAAI,IAAI,KAAK,IAAI,IAAI,IAAI,KAAKqC,EAAIQ,GAAG,KAAKL,EAAG,MAAM,CAACG,YAAY,CAAC,OAAS,cAAc,CAACH,EAAG,MAAM,CAACpB,MAAM,CAAC,KAAO,IAAI,OAAS,OAAO,CAC9iN,mBAA7BiB,EAAI0E,cAActB,QACa,eAA7BpD,EAAI0E,cAActB,QACW,mBAA7BpD,EAAI0E,cAActB,OACpBjD,EAAG,SAAS,CAACpB,MAAM,CAAC,KAAO,WAAWwB,GAAG,CAAC,MAAQP,EAAIsJ,aAAa,CAACtJ,EAAIQ,GAAG,QAAQR,EAAIqB,KAAKrB,EAAIQ,GAAG,KACtE,eAA7BR,EAAI0E,cAActB,QACa,mBAA7BpD,EAAI0E,cAActB,OACpBjD,EAAG,SAAS,CAACpB,MAAM,CAAC,KAAO,WAAWwB,GAAG,CAAC,MAAQP,EAAIuJ,SAAS,CAACvJ,EAAIQ,GAAG,QAAQR,EAAIqB,KAAKrB,EAAIQ,GAAG,KAAmC,WAA7BR,EAAI0E,cAActB,OAAqBjD,EAAG,SAAS,CAACpB,MAAM,CAAC,KAAO,SAASwB,GAAG,CAAC,MAAQP,EAAIwJ,eAAe,CAACxJ,EAAIQ,GAAG,QAAQR,EAAIqB,MAAM,IAAI,IAAI,IAAI,GAAGrB,EAAIqB,QAAQ,IAChR,EAAkB,GCZtB,SAAS,EAAaG,GACpB,EAAQ,QAQV,IAAI,GAA8B,EAE9B,EAAiB,EAEjB,EAAkB,kBAElB,EAA4B,KAE5B,EAAY,eACd,EACA,EACA,EACA,EACA,EACA,EACA,GAGa,eAAiB,S,uBC3BhC,IAAIiI,EAAS,EAAQ,QACjBC,EAAoB,EAAQ,QAC5BC,EAAK,EAAQ,QAAgBC,EAC7BC,EAAO,EAAQ,QAAkBD,EACjCE,EAAW,EAAQ,QACnBC,EAAS,EAAQ,QACjBC,EAAUP,EAAOQ,OACjBC,EAAOF,EACPG,EAAQH,EAAQI,UAChBC,EAAM,KACNC,EAAM,KAENC,EAAc,IAAIP,EAAQK,KAASA,EAEvC,GAAI,EAAQ,WAAuBE,GAAe,EAAQ,OAAR,CAAoB,WAGpE,OAFAD,EAAI,EAAQ,OAAR,CAAkB,WAAY,EAE3BN,EAAQK,IAAQA,GAAOL,EAAQM,IAAQA,GAA4B,QAArBN,EAAQK,EAAK,QAC/D,CACHL,EAAU,SAAgBQ,EAAGZ,GAC3B,IAAIa,EAAO5O,gBAAgBmO,EACvBU,EAAOZ,EAASU,GAChBG,OAAY1O,IAAN2N,EACV,OAAQa,GAAQC,GAAQF,EAAEI,cAAgBZ,GAAWW,EAAMH,EACvDd,EAAkBa,EAChB,IAAIL,EAAKQ,IAASC,EAAMH,EAAEK,OAASL,EAAGZ,GACtCM,GAAMQ,EAAOF,aAAaR,GAAWQ,EAAEK,OAASL,EAAGE,GAAQC,EAAMZ,EAAOnP,KAAK4P,GAAKZ,GACpFa,EAAO5O,KAAOsO,EAAOH,IAS3B,IAPA,IAAIc,EAAQ,SAAUpK,GACpBA,KAAOsJ,GAAWL,EAAGK,EAAStJ,EAAK,CACjCqK,cAAc,EACdC,IAAK,WAAc,OAAOd,EAAKxJ,IAC/BuK,IAAK,SAAUC,GAAMhB,EAAKxJ,GAAOwK,MAG5BzC,EAAOoB,EAAKK,GAAOzD,EAAI,EAAGgC,EAAKlN,OAASkL,GAAIqE,EAAMrC,EAAKhC,MAChE0D,EAAMS,YAAcZ,EACpBA,EAAQI,UAAYD,EACpB,EAAQ,OAAR,CAAuBV,EAAQ,SAAUO,GAG3C,EAAQ,OAAR,CAA0B,W,uBC1C1B,IAAImB,EAAW,EAAQ,QACnBC,EAAiB,EAAQ,QAAgBH,IAC7CI,EAAOC,QAAU,SAAUC,EAAMC,EAAQ5P,GACvC,IACI6P,EADAxQ,EAAIuQ,EAAOZ,YAIb,OAFE3P,IAAMW,GAAiB,mBAALX,IAAoBwQ,EAAIxQ,EAAEmP,aAAexO,EAAEwO,WAAae,EAASM,IAAML,GAC3FA,EAAeG,EAAME,GACdF,I,oCCNX,IAAIG,EAAM,EAAQ,OAAR,EAAwB,GAGlC,EAAQ,OAAR,CAA0BC,OAAQ,SAAU,SAAUC,GACpD/P,KAAKgQ,GAAKF,OAAOC,GACjB/P,KAAKiQ,GAAK,GAET,WACD,IAEIC,EAFApQ,EAAIE,KAAKgQ,GACT1P,EAAQN,KAAKiQ,GAEjB,OAAI3P,GAASR,EAAEJ,OAAe,CAAEgB,WAAON,EAAWK,MAAM,IACxDyP,EAAQL,EAAI/P,EAAGQ,GACfN,KAAKiQ,IAAMC,EAAMxQ,OACV,CAAEgB,MAAOwP,EAAOzP,MAAM,O,uBCf/BgP,EAAUD,EAAOC,QAAU,EAAQ,OAAR,EAA4D,GAKvFA,EAAQtN,KAAK,CAACqN,EAAO5E,EAAI,8FAA+F,M,uBCHxH,IAAI0E,EAAW,EAAQ,QACnBa,EAAW,EAAQ,QACnBC,EAAQ,SAAUtQ,EAAGwO,GAEvB,GADA6B,EAASrQ,IACJwP,EAAShB,IAAoB,OAAVA,EAAgB,MAAM+B,UAAU/B,EAAQ,8BAElEkB,EAAOC,QAAU,CACfL,IAAK9N,OAAOiO,iBAAmB,aAAe,GAC5C,SAAUe,EAAMC,EAAOnB,GACrB,IACEA,EAAM,EAAQ,OAAR,CAAkBoB,SAASzR,KAAM,EAAQ,QAAkBgP,EAAEzM,OAAOiN,UAAW,aAAaa,IAAK,GACvGA,EAAIkB,EAAM,IACVC,IAAUD,aAAgB/Q,OAC1B,MAAOkR,GAAKF,GAAQ,EACtB,OAAO,SAAwBzQ,EAAGwO,GAIhC,OAHA8B,EAAMtQ,EAAGwO,GACLiC,EAAOzQ,EAAE4Q,UAAYpC,EACpBc,EAAItP,EAAGwO,GACLxO,GAVX,CAYE,IAAI,QAASM,GACjBgQ,MAAOA,I,uBCpBT,IAAIO,EAAU,EAAQ,QACA,kBAAZA,IAAsBA,EAAU,CAAC,CAACnB,EAAO5E,EAAI+F,EAAS,MAC7DA,EAAQC,SAAQpB,EAAOC,QAAUkB,EAAQC,QAE5C,IAAIC,EAAM,EAAQ,QAA0FpP,QAC/FoP,EAAI,WAAYF,GAAS,EAAM,K,qBCR5ClB,EAAUD,EAAOC,QAAU,EAAQ,OAAR,EAA4D,GAKvFA,EAAQtN,KAAK,CAACqN,EAAO5E,EAAI,+hBAAgiB,M,qBCFzjB,IAAI+F,EAAU,EAAQ,QACA,kBAAZA,IAAsBA,EAAU,CAAC,CAACnB,EAAO5E,EAAI+F,EAAS,MAC7DA,EAAQC,SAAQpB,EAAOC,QAAUkB,EAAQC,QAE5C,IAAIC,EAAM,EAAQ,QAA0FpP,QAC/FoP,EAAI,WAAYF,GAAS,EAAM","file":"js/chunk-a97cfc24.765d10bc.js","sourcesContent":["'use strict';\nvar ctx = require('./_ctx');\nvar $export = require('./_export');\nvar toObject = require('./_to-object');\nvar call = require('./_iter-call');\nvar isArrayIter = require('./_is-array-iter');\nvar toLength = require('./_to-length');\nvar createProperty = require('./_create-property');\nvar getIterFn = require('./core.get-iterator-method');\n\n$export($export.S + $export.F * !require('./_iter-detect')(function (iter) { Array.from(iter); }), 'Array', {\n  // 22.1.2.1 Array.from(arrayLike, mapfn = undefined, thisArg = undefined)\n  from: function from(arrayLike /* , mapfn = undefined, thisArg = undefined */) {\n    var O = toObject(arrayLike);\n    var C = typeof this == 'function' ? this : Array;\n    var aLen = arguments.length;\n    var mapfn = aLen > 1 ? arguments[1] : undefined;\n    var mapping = mapfn !== undefined;\n    var index = 0;\n    var iterFn = getIterFn(O);\n    var length, result, step, iterator;\n    if (mapping) mapfn = ctx(mapfn, aLen > 2 ? arguments[2] : undefined, 2);\n    // if object isn't iterable or it's array with default iterator - use simple case\n    if (iterFn != undefined && !(C == Array && isArrayIter(iterFn))) {\n      for (iterator = iterFn.call(O), result = new C(); !(step = iterator.next()).done; index++) {\n        createProperty(result, index, mapping ? call(iterator, mapfn, [step.value, index], true) : step.value);\n      }\n    } else {\n      length = toLength(O.length);\n      for (result = new C(length); length > index; index++) {\n        createProperty(result, index, mapping ? mapfn(O[index], index) : O[index]);\n      }\n    }\n    result.length = index;\n    return result;\n  }\n});\n","<template>\n  <div class=\"container\">\n    <Input\n      style=\"width:150px\"\n      placeholder=\"请选择CI Type\"\n      v-if=\"allCmdbAttrs.length === 0\"\n    ></Input>\n    <Input\n      style=\"width:150px\"\n      v-else\n      placeholder=\"请选择CI Type\"\n      @on-change=\"rootChange\"\n      :value=\"allCmdbAttrs[0].val\"\n    ></Input>\n    <Select\n      :style=\"{\n        'border-radius': '4px',\n        width: '150px',\n        border: `1px solid ${attr.color}`\n      }\"\n      v-for=\"(attr, index) in allCmdbAttrs\"\n      v-if=\"index > 0\"\n      :key=\"index\"\n      filterable\n      @on-query-change=\"selectChange($event, index)\"\n      v-model=\"attr.val\"\n      @on-change=\"changeValue($event, index)\"\n    >\n      <Option\n        v-for=\"opt in attr.options\"\n        :key=\"opt.attrId\"\n        :value=\"opt.refName\"\n        >{{ `${opt.ciTypeName} ( ${opt.refName} )` }}</Option\n      >\n    </Select>\n  </div>\n</template>\n<script>\nimport { getRefCiTypeFrom, getCiTypeAttr } from \"@/api/server.js\";\nexport default {\n  data() {\n    return {\n      loading: false,\n      opt: [],\n      rootCiTypeOption: [],\n      allCmdbAttrs: [],\n      allCi: [],\n      currentValue: {\n        id: \"\",\n        label: \"\"\n      }\n    };\n  },\n  props: {\n    value: {\n      type: Object,\n      required: false\n    },\n    rootCiType: {\n      default: \"\"\n    },\n    allCiTypes: {\n      type: Array,\n      required: true\n    },\n    cmdbColumnSource: {\n      default: \"\"\n    }\n  },\n  watch: {\n    value(val) {},\n    cmdbColumnSource(val) {},\n    rootCiType(val) {\n      this.allCmdbAttrs = [];\n      const ci = this.allCi.find(_ => _.ciTypeId === val);\n      if (ci) {\n        const opt = {\n          name: ci.name,\n          ciTypeName: ci.name,\n          refName: ci.name,\n          ciTypeId: ci.ciTypeId,\n          id: ci.ciTypeId,\n          attrId: null\n        };\n        this.allCmdbAttrs.push({\n          val: ci.name,\n          type: \"root\",\n          color: \"#FFD225\",\n          options: [opt]\n        });\n      }\n\n      this.$emit(\"input\", this.getValue(this.allCmdbAttrs));\n    }\n  },\n  mounted() {\n    this.restoreOpeation();\n    this.formatAllCiType();\n  },\n  methods: {\n    restoreOpeation() {\n      if (this.cmdbColumnSource) {\n        const colors = {\n          ref: \"#FFD225\",\n          attr: \"#9BC418\",\n          root: \"\"\n        };\n        const h = JSON.parse(this.cmdbColumnSource);\n        const attrs = [];\n        h.forEach(async _ => {\n          let opt = [];\n          if (_.t === \"root\") {\n            opt = [\n              {\n                ciTypeName: _.v,\n                refName: _.v,\n                ciTypeId: _.id,\n                attrId: null\n              }\n            ];\n          }\n          if (_.t === \"ref\") {\n            let { status, data, message } = await getRefCiTypeFrom(_.id);\n            if (status === \"OK\") {\n              opt = data.map(p => {\n                return {\n                  ...p,\n                  ciTypeName: p.name,\n                  refName: p.refName,\n                  ciTypeId: p.ciTypeId,\n                  attrId: p.refPropertyId\n                };\n              });\n            }\n          }\n          if (_.t === \"attr\") {\n            let { status, data, message } = await getCiTypeAttr(_.id);\n            if (status === \"OK\") {\n              opt = data.map(p => {\n                return {\n                  ...p,\n                  ciTypeName:\n                    p.inputType === \"ref\"\n                      ? this.allCi.find(i => i.ciTypeId === p.referenceId).name\n                      : this.allCi.find(i => i.ciTypeId === _.id).name,\n                  refName: p.name,\n                  ciTypeId: _.id,\n                  attrId: p.ciTypeAttrId\n                };\n              });\n            }\n          }\n          attrs.push({\n            color: colors[_.t],\n            type: _.t,\n            val: _.v,\n            options: opt\n          });\n        });\n        this.allCmdbAttrs = attrs;\n        this.$emit(\"input\", this.getValue(attrs));\n      }\n    },\n    rootChange(val) {\n      this.allCmdbAttrs = [this.allCmdbAttrs.shift()];\n      this.getNextRef(val.data);\n      this.$emit(\"input\", this.getValue(this.allCmdbAttrs));\n    },\n    selectChange(val, index) {\n      const operator = val.charAt(val.length - 1);\n      this.getNextRef(operator);\n      this.$emit(\"input\", this.getValue(this.allCmdbAttrs));\n    },\n    async getNextRef(operator) {\n      const lastciTypeName = this.allCmdbAttrs[this.allCmdbAttrs.length - 1]\n        .val;\n      const found = this.allCmdbAttrs[\n        this.allCmdbAttrs.length - 1\n      ].options.find(_ => _.refName === lastciTypeName);\n      const isRef = found && found.inputType && found.inputType === \"ref\";\n      if (found && (!found.inputType || isRef)) {\n        const id = isRef ? found.referenceId : found.ciTypeId;\n        if (operator === \".\") {\n          let { status, data, message } = await getCiTypeAttr(id);\n          if (status === \"OK\") {\n            const opt = data.map(_ => {\n              return {\n                ..._,\n                ciTypeName:\n                  _.inputType === \"ref\"\n                    ? this.allCi.find(i => i.ciTypeId === _.referenceId).name\n                    : this.allCi.find(i => i.ciTypeId === found.ciTypeId).name,\n                refName: _.name,\n                ciTypeId: id,\n                id: _.inputType === \"ref\" ? _.referenceId : id,\n                attrId: _.ciTypeAttrId\n              };\n            });\n            this.allCmdbAttrs.push({\n              val: \"\",\n              color: \"#9BC418\",\n              type: \"attr\",\n              options: opt\n            });\n            this.$emit(\"input\", this.getValue(this.allCmdbAttrs));\n          } else {\n            this.$Message.error({\n              content: message\n            });\n          }\n        }\n        if (operator === \"-\") {\n          let { status, data, message } = await getRefCiTypeFrom(id);\n          if (status === \"OK\") {\n            const opt = data.map(_ => {\n              return {\n                ..._,\n                ciTypeName: _.name,\n                refName: _.refName,\n                ciTypeId: _.ciTypeId,\n                id: _.ciTypeId,\n                attrId: _.refPropertyId\n              };\n            });\n            this.allCmdbAttrs.push({\n              val: \"\",\n              color: \"#FFD225\",\n              type: \"ref\",\n              options: opt\n            });\n            this.$emit(\"input\", this.getValue(this.allCmdbAttrs));\n          } else {\n            this.$Message.error({\n              content: message\n            });\n          }\n        }\n      }\n    },\n    formatAllCiType() {\n      this.allCiTypes.forEach(_ => {\n        this.allCi = this.allCi.concat([..._.ciTypes]);\n      });\n    },\n    getValue(data) {\n      let val = {\n        cmdbColumnCriteria: [],\n        cmdbColumnSource: []\n      };\n      let criteria = {\n        ciTypeId: \"\",\n        ciTypeName: \"\",\n        routine: [],\n        attributes: []\n      };\n      let cmdbSource = [];\n      data.forEach((_, i) => {\n        const opt =\n          _.type === \"attr\"\n            ? _.options.find(i => i.name === _.val)\n            : _.options.find(i => i.refName === _.val);\n        const prev = i > 0 ? data[i - 1] : data[0];\n        //\n        if (opt) {\n          const nodeId =\n            _.type === \"ref\"\n              ? prev.options.find(o => o.name === prev.val).id\n              : opt.ciTypeId;\n          criteria.ciTypeId = opt.ciTypeId;\n          criteria.ciTypeName = opt.ciTypeName;\n          criteria.attributes = [\n            {\n              attrId: opt.attrId,\n              isCondition: true,\n              isDiaplayed: true\n            }\n          ];\n          opt.attrId && criteria.routine.push(opt.attrId);\n          criteria.routine.push(opt.ciTypeId);\n          val.cmdbColumnSource.push({\n            id: nodeId,\n            // id: opt.ciTypeId,\n            v: _.val,\n            t: _.type\n          });\n        }\n      });\n      val.cmdbColumnCriteria.push(criteria);\n      return val;\n    },\n    changeValue(val, index) {\n      this.allCmdbAttrs = this.allCmdbAttrs.slice(0, index + 1);\n      this.$emit(\"input\", this.getValue(this.allCmdbAttrs));\n    }\n  }\n};\n</script>\n<style lang=\"scss\">\n.container {\n  .ivu-select-selection {\n    border: none;\n    box-shadow: 0 0 0 0;\n  }\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[(_vm.allCmdbAttrs.length === 0)?_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择CI Type\"}}):_c('Input',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择CI Type\",\"value\":_vm.allCmdbAttrs[0].val},on:{\"on-change\":_vm.rootChange}}),_vm._v(\" \"),_vm._l((_vm.allCmdbAttrs),function(attr,index){return (index > 0)?_c('Select',{key:index,style:({\n      'border-radius': '4px',\n      width: '150px',\n      border: (\"1px solid \" + (attr.color))\n    }),attrs:{\"filterable\":\"\"},on:{\"on-query-change\":function($event){return _vm.selectChange($event, index)},\"on-change\":function($event){return _vm.changeValue($event, index)}},model:{value:(attr.val),callback:function ($$v) {_vm.$set(attr, \"val\", $$v)},expression:\"attr.val\"}},_vm._l((attr.options),function(opt){return _c('Option',{key:opt.attrId,attrs:{\"value\":opt.refName}},[_vm._v(_vm._s(((opt.ciTypeName) + \" ( \" + (opt.refName) + \" )\")))])}),1):_vm._e()})],2)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","function injectStyle (context) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!sass-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./attr-select.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./attr-select.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./attr-select.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-1f10e005\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./attr-select.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","<template>\n  <Row>\n    <Col span=\"19\">\n      <AttrInput\n        v-if=\"mappingType === 'CMDB_CI_TYPE'\"\n        :allCiTypes=\"allCiTypes\"\n        :cmdbColumnSource=\"paramData.cmdbColumnSource\"\n        :rootCiType=\"rootCiType\"\n        v-model=\"cmdbAttr\"\n        :ciTypesObj=\"ciTypesObj\"\n        :ciTypeAttributeObj=\"ciTypeAttributeObj\"\n        @change=\"cmdbAttrChangeHandler\"\n      />\n      <Select\n        v-if=\"mappingType === 'CMDB_ENUM_CODE'\"\n        @on-change=\"cmdbEnumCodeChangeHandler\"\n        v-model=\"cmdbEnumCode\"\n        filterable\n      >\n        <Option\n          v-for=\"item in allCodes\"\n          :value=\"item.value\"\n          :key=\"item.value\"\n          >{{ item.label }}</Option\n        >\n      </Select>\n    </Col>\n    <Col span=\"4\" offset=\"1\">\n      <Select @on-change=\"mappingTypeChangeHandler\" v-model=\"mappingType\">\n        <Option value=\"CMDB_CI_TYPE\" key=\"CMDB_CI_TYPE\">CiType属性</Option>\n        <Option value=\"CMDB_ENUM_CODE\" key=\"CMDB_ENUM_CODE\">枚举类型</Option>\n      </Select>\n    </Col>\n  </Row>\n</template>\n<script>\nimport AttrInput from \"./attr-input\";\nexport default {\n  components: {\n    AttrInput\n  },\n  data() {\n    return {\n      mappingType: \"CMDB_CI_TYPE\",\n      cmdbEnumCode: 0,\n      cmdbAttr: \"\"\n    };\n  },\n  props: {\n    allCiTypes: { required: true },\n    allCodes: { required: true },\n    rootCiType: { required: true },\n    ciTypesObj: { required: true },\n    ciTypeAttributeObj: { required: true },\n    paramData: { required: true },\n    value: {}\n  },\n  watch: {\n    paramData: {\n      handler(val) {\n        this.mappingType = val.mappingType;\n        this.cmdbEnumCode = val.cmdbEnumCode;\n      },\n      immediate: true\n    }\n  },\n  mounted() {\n    this.$emit(\"input\", this.outputValue);\n  },\n  computed: {\n    outputValue() {\n      if (this.mappingType === \"CMDB_CI_TYPE\") {\n        return {\n          mappingType: this.mappingType,\n          cmdbEnumCode: null,\n          cmdbColumnSource: this.cmdbAttr.cmdbColumnSource,\n          cmdbColumnCriteria: this.cmdbAttr.cmdbColumnCriteria\n        };\n      } else {\n        return {\n          mappingType: this.mappingType,\n          cmdbEnumCode: this.cmdbEnumCode,\n          cmdbColumnSource: null,\n          cmdbColumnCriteria: null\n        };\n      }\n    }\n  },\n  methods: {\n    mappingTypeChangeHandler(v) {\n      this.$emit(\"input\", this.outputValue);\n    },\n    cmdbAttrChangeHandler(v) {\n      this.$emit(\"input\", this.outputValue);\n    },\n    cmdbEnumCodeChangeHandler(v) {\n      this.$emit(\"input\", this.outputValue);\n    }\n  }\n};\n</script>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',[_c('Col',{attrs:{\"span\":\"19\"}},[(_vm.mappingType === 'CMDB_CI_TYPE')?_c('AttrInput',{attrs:{\"allCiTypes\":_vm.allCiTypes,\"cmdbColumnSource\":_vm.paramData.cmdbColumnSource,\"rootCiType\":_vm.rootCiType,\"ciTypesObj\":_vm.ciTypesObj,\"ciTypeAttributeObj\":_vm.ciTypeAttributeObj},on:{\"change\":_vm.cmdbAttrChangeHandler},model:{value:(_vm.cmdbAttr),callback:function ($$v) {_vm.cmdbAttr=$$v},expression:\"cmdbAttr\"}}):_vm._e(),_vm._v(\" \"),(_vm.mappingType === 'CMDB_ENUM_CODE')?_c('Select',{attrs:{\"filterable\":\"\"},on:{\"on-change\":_vm.cmdbEnumCodeChangeHandler},model:{value:(_vm.cmdbEnumCode),callback:function ($$v) {_vm.cmdbEnumCode=$$v},expression:\"cmdbEnumCode\"}},_vm._l((_vm.allCodes),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.label))])}),1):_vm._e()],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"4\",\"offset\":\"1\"}},[_c('Select',{on:{\"on-change\":_vm.mappingTypeChangeHandler},model:{value:(_vm.mappingType),callback:function ($$v) {_vm.mappingType=$$v},expression:\"mappingType\"}},[_c('Option',{key:\"CMDB_CI_TYPE\",attrs:{\"value\":\"CMDB_CI_TYPE\"}},[_vm._v(\"CiType属性\")]),_vm._v(\" \"),_c('Option',{key:\"CMDB_ENUM_CODE\",attrs:{\"value\":\"CMDB_ENUM_CODE\"}},[_vm._v(\"枚举类型\")])],1)],1)],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cmdb-attr-input.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./cmdb-attr-input.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-8d80fb28\\\",\\\"hasScoped\\\":false,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./cmdb-attr-input.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = null\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","export default {\n  name: \"refPayloadModal\",\n  props: {\n    ciRulesFilters: { default: () => [] }\n  },\n  data() {\n    return {\n      form: {},\n      visibleSwap: false\n    };\n  },\n  methods: {\n    handleSubmit(ref) {\n      this.$emit(\"handleSubmit\", this.form);\n      this.visibleSwap = false;\n    },\n    swapModal(status) {\n      if (status) return;\n      this.visibleSwap = false;\n    },\n    clickHandler() {\n      this.visibleSwap = true;\n    },\n\n    getFormFilters() {\n      return (\n        <Form\n          ref=\"form\"\n          value={this.form}\n          onInput={v => (this.form = v)}\n          label-position=\"top\"\n          inline\n        >\n          <Row>\n            {this.ciRulesFilters.map(_ => {\n              return this.renderFormItem(_);\n            })}\n            <Col span={3}>\n              <FormItem style=\"position: relative; bottom: -22px;\">\n                <Button\n                  type=\"primary\"\n                  icon=\"ios-search\"\n                  onClick={() => this.handleSubmit(\"form\")}\n                >\n                  确认\n                </Button>\n              </FormItem>\n            </Col>\n          </Row>\n        </Form>\n      );\n    },\n    renderFormItem(item) {\n      const data = {\n        props: {\n          ...item,\n          ciType: {\n            id: item.ciTypeId\n          }\n        },\n        style: {\n          width: \"100%\"\n        }\n      };\n\n      let renders = item => {\n        switch (item.inputType) {\n          case \"select\":\n            return (\n              <WeSelect\n                onInput={v => (this.form[item.ciTypeAttrId] = v)}\n                value={this.form[item.ciTypeAttrId]}\n                filterable\n                clearable\n                {...data}\n                options={item.options}\n              />\n            );\n          case \"ref\":\n            return (\n              <RefSelect\n                onInput={v => (this.form[item.ciTypeAttrId] = v)}\n                value={this.form[item.ciTypeAttrId]}\n                {...data}\n              />\n            );\n          default:\n            return <div />;\n        }\n      };\n      return (\n        <Col span={item.span || 3}>\n          <FormItem label={item.name} prop={item.name} key={item.name}>\n            {renders(item)}\n          </FormItem>\n        </Col>\n      );\n    }\n  },\n  render(h) {\n    return (\n      <div>\n        <Button onClick={this.clickHandler}>配置CI过滤规则</Button>\n        <Modal\n          title=\"CI过滤规则\"\n          value={this.visibleSwap}\n          footer-hide={true}\n          mask-closable={false}\n          scrollable={true}\n          width={70}\n          on-on-visible-change={status => this.swapModal(status)}\n        >\n          {this.visibleSwap && <div>{this.getFormFilters()}</div>}\n        </Modal>\n      </div>\n    );\n  }\n};\n","<template>\n  <Row style=\"padding:20px\">\n    <Spin size=\"large\" fix v-if=\"isLoading\">\n      <Icon type=\"ios-loading\" size=\"44\" class=\"spin-icon-load\"></Icon>\n      <div>加载中...</div>\n    </Spin>\n    <Col span=\"6\">\n      <Row>\n        <Card>\n          <p slot=\"title\">{{ $t(\"upload_plugin_pkg_title\") }}</p>\n          <Upload\n            show-upload-list\n            accept=\".zip\"\n            name=\"zip-file\"\n            :on-success=\"onSuccess\"\n            :on-error=\"onError\"\n            action=\"/plugin/upload\"\n            :headers=\"setUploadActionHeader\"\n          >\n            <Button icon=\"ios-cloud-upload-outline\">\n              {{ $t(\"upload_plugin_btn\") }}\n            </Button>\n          </Upload>\n        </Card>\n      </Row>\n      <Row class=\"plugins-tree-container\">\n        <Card>\n          <p slot=\"title\">{{ $t(\"plugins_list\") }}</p>\n          <Tree :data=\"plugins\" @on-select-change=\"selectPlugin\"></Tree>\n        </Card>\n      </Row>\n    </Col>\n    <Col span=\"17\" offset=\"1\">\n      <div v-if=\"Object.keys(currentPlugin).length > 0\">\n        <div v-if=\"currentPlugin.children\">\n          <Row class=\"instances-container\">\n            <Card>\n              <p slot=\"title\">实例</p>\n              <Row>\n                <Select\n                  @on-change=\"selectHost\"\n                  multiple\n                  style=\"width: 40%\"\n                  :max-tag-count=\"4\"\n                  v-model=\"selectHosts\"\n                >\n                  <Option\n                    v-for=\"item in allAvailiableHosts\"\n                    :value=\"item\"\n                    :key=\"item\"\n                    >{{ item }}</Option\n                  >\n                </Select>\n                <Button\n                  size=\"small\"\n                  type=\"success\"\n                  @click=\"getAvailablePortByHostIp\"\n                  >端口预览</Button\n                >\n                <div v-if=\"availiableHostsWithPort.length > 0\">\n                  <p style=\"margin-top: 20px\">可用端口:</p>\n\n                  <div\n                    v-for=\"item in availiableHostsWithPort\"\n                    :key=\"item.ip + item.port\"\n                  >\n                    <div\n                      class=\"instance-item-container\"\n                      style=\"border-bottom: 1px solid gray; padding: 10px 0\"\n                    >\n                      <div class=\"instance-item\">\n                        {{ item.ip + \":\" + item.port }}\n                      </div>\n                      <span>启动参数:</span>\n                      <Input\n                        type=\"textarea\"\n                        style=\"width: 50%\"\n                        :autosize=\"true\"\n                        v-model=\"item.createParams\"\n                      />\n                      <Button\n                        size=\"small\"\n                        type=\"success\"\n                        @click=\"\n                          createPluginInstanceByPackageIdAndHostIp(\n                            item.ip,\n                            item.port,\n                            item.createParams\n                          )\n                        \"\n                        >{{ $t(\"create\") }}</Button\n                      >\n                    </div>\n                  </div>\n                </div>\n              </Row>\n              <Row>\n                <p style=\"margin-top: 20px\">{{ $t(\"running_node\") }}:</p>\n                <div v-if=\"allInstances.length === 0\">暂无运行节点</div>\n                <div v-else>\n                  <div v-for=\"item in allInstances\" :key=\"item.id\">\n                    <div class=\"instance-item-container\">\n                      <div class=\"instance-item\">{{ item.displayLabel }}</div>\n\n                      <Button\n                        size=\"small\"\n                        type=\"error\"\n                        @click=\"removePluginInstance(item.id)\"\n                        >{{ $t(\"ternmiante\") }}</Button\n                      >\n                    </div>\n                  </div>\n                </div>\n              </Row>\n            </Card>\n\n            <Card style=\"margin-top: 20px\">\n              <p slot=\"title\">日志查询</p>\n              <div style=\"padding: 0 0 50px 0\">\n                <WeTable\n                  :tableData=\"tableData\"\n                  :tableInnerActions=\"innerActions\"\n                  :tableColumns=\"tableColumns\"\n                  :pagination=\"pagination\"\n                  @actionFun=\"actionFun\"\n                  @handleSubmit=\"handleSubmit\"\n                  @pageChange=\"pageChange\"\n                  @pageSizeChange=\"pageSizeChange\"\n                  :showCheckbox=\"false\"\n                  tableHeight=\"650\"\n                  ref=\"table\"\n                ></WeTable>\n              </div>\n\n              <Modal\n                v-model=\"logDetailsModalVisible\"\n                title=\"日志详情\"\n                footer-hide\n                width=\"70\"\n              >\n                <div\n                  lang=\"json\"\n                  style=\"white-space: pre-wrap;\"\n                  v-html=\"logDetails\"\n                ></div>\n              </Modal>\n            </Card>\n          </Row>\n        </div>\n        <Form v-else :model=\"form\">\n          <Row>\n            <Col span=\"6\" offset=\"0\">\n              <FormItem :label-width=\"50\" label=\"Plugin\">\n                <Input v-model=\"currentPlugin.name\" disabled />\n              </FormItem>\n            </Col>\n            <Col span=\"6\" offset=\"1\">\n              <FormItem :label-width=\"100\" label=\"CI Type\">\n                <Select\n                  @on-change=\"selectCiType\"\n                  label-in-value\n                  v-model=\"selectedCiType\"\n                >\n                  <OptionGroup\n                    v-for=\"ci in ciTypes\"\n                    :label=\"ci.value || '-'\"\n                    :key=\"ci.code\"\n                  >\n                    <Option\n                      v-for=\"item in ci.ciTypes\"\n                      :value=\"item.ciTypeId || ''\"\n                      :key=\"item.ciTypeId\"\n                      >{{ item.name }}</Option\n                    >\n                  </OptionGroup>\n                </Select>\n              </FormItem>\n            </Col>\n            <Col\n              style=\"margin-top:-5px\"\n              span=\"6\"\n              offset=\"1\"\n              v-if=\"selectedCiType !== ''\"\n            >\n              <refPayloadModal\n                :ciRulesFilters=\"ciRulesFilters\"\n                @handleSubmit=\"getCIRulesPayload\"\n              ></refPayloadModal>\n            </Col>\n          </Row>\n          <hr />\n          <Row style=\"margin-bottom:10px;margin-top:10px\">\n            <Col span=\"3\">\n              <span>操作</span>\n            </Col>\n            <Col span=\"2\">\n              <span>参数类型</span>\n            </Col>\n            <Col span=\"3\">\n              <span>数据状态</span>\n            </Col>\n            <Col span=\"3\">\n              <span>参数名</span>\n            </Col>\n            <Col span=\"5\" offset=\"1\">\n              <span>CMDB属性</span>\n            </Col>\n          </Row>\n          <Row\n            style=\"margin-top:20px; border-bottom: 1px solid #2c3e50\"\n            v-for=\"(interfaces, index) in pluginInterfaces\"\n            :key=\"interfaces.id\"\n          >\n            <Col span=\"3\">\n              <Tooltip :content=\"interfaces.name\">\n                <span\n                  style=\"display: inline-block;max-width: 95%;white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\"\n                >\n                  {{ interfaces.name }}\n                </span>\n              </Tooltip>\n            </Col>\n            <Col span=\"21\">\n              <Row>\n                <Col span=\"2\">\n                  <FormItem :label-width=\"0\">\n                    <span>输入参数</span>\n                  </FormItem>\n                </Col>\n                <Col span=\"3\">\n                  <FormItem :label-width=\"0\">\n                    <Select v-model=\"interfaces.filterStatus\" clearable>\n                      <Option\n                        v-for=\"item in ciStatus\"\n                        :value=\"item.value.toString()\"\n                        :key=\"item.value\"\n                        >{{ item.label }}</Option\n                      >\n                    </Select>\n                  </FormItem>\n                </Col>\n                <Col span=\"17\" offset=\"1\">\n                  <Row\n                    v-for=\"param in interfaces.inputParameters\"\n                    :key=\"param.id\"\n                  >\n                    <Col span=\"5\">\n                      <FormItem :label-width=\"0\">\n                        <Tooltip :content=\"param.name\">\n                          <span\n                            style=\"display: inline-block;white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\"\n                          >\n                            {{ param.name }}\n                          </span>\n                        </Tooltip>\n                      </FormItem>\n                    </Col>\n                    <Col span=\"18\">\n                      <FormItem :label-width=\"0\">\n                        <!-- <AttrInput\n                          :allCiTypes=\"ciTypes\"\n                          :cmdbColumnSource=\"param.cmdbColumnSource\"\n                          :rootCiType=\"selectedCiType\"\n                          v-model=\"param.cmdbAttr\"\n                          :ciTypesObj=\"ciTypesObj\"\n                          :ciTypeAttributeObj=\"ciTypeAttributeObj\"\n                        /> -->\n                        <CmdbAttrInput\n                          :allCodes=\"allCodes\"\n                          :allCiTypes=\"ciTypes\"\n                          :paramData=\"param\"\n                          :rootCiType=\"selectedCiType\"\n                          v-model=\"param.cmdbAttr\"\n                          :ciTypesObj=\"ciTypesObj\"\n                          :ciTypeAttributeObj=\"ciTypeAttributeObj\"\n                        />\n                      </FormItem>\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n              <Row>\n                <Col span=\"2\">\n                  <FormItem :label-width=\"0\">\n                    <span>输出参数</span>\n                  </FormItem>\n                </Col>\n                <Col span=\"3\">\n                  <FormItem :label-width=\"0\">\n                    <Select v-model=\"interfaces.resultStatus\" clearable>\n                      <Option\n                        v-for=\"item in ciStatus\"\n                        :value=\"item.value.toString()\"\n                        :key=\"item.value\"\n                        >{{ item.label }}</Option\n                      >\n                    </Select>\n                  </FormItem>\n                </Col>\n                <Col span=\"17\" offset=\"1\">\n                  <Row\n                    v-for=\"outPut in interfaces.outputParameters\"\n                    :key=\"outPut.id + 1000\"\n                  >\n                    <Col span=\"5\">\n                      <FormItem :label-width=\"0\">\n                        <Tooltip :content=\"outPut.name\">\n                          <span\n                            style=\"display: inline-block;white-space: nowrap; overflow: hidden; text-overflow: ellipsis;\"\n                          >\n                            {{ outPut.name }}\n                          </span>\n                        </Tooltip>\n                      </FormItem>\n                    </Col>\n                    <Col span=\"18\">\n                      <FormItem :label-width=\"0\">\n                        <Select\n                          style=\"width:150px\"\n                          placeholder=\"请选择\"\n                          v-model=\"outPut.cmdbColumnSource\"\n                          clearable\n                        >\n                          <Option\n                            v-for=\"attr in currentCiTyPeAttr\"\n                            :key=\"attr.propertyName\"\n                            :value=\"attr.propertyName\"\n                            :label=\"attr.name\"\n                          ></Option>\n                        </Select>\n                      </FormItem>\n                    </Col>\n                  </Row>\n                </Col>\n              </Row>\n            </Col>\n          </Row>\n          <Row style=\"margin:20px auto\">\n            <Col span=\"5\" offset=\"10\">\n              <Button\n                type=\"primary\"\n                v-if=\"\n                  currentPlugin.status === 'NOT_CONFIGURED' ||\n                    currentPlugin.status === 'CONFIGURED' ||\n                    currentPlugin.status === 'DECOMMISSIONED'\n                \"\n                @click=\"pluginSave\"\n                >保存</Button\n              >\n              <Button\n                type=\"primary\"\n                v-if=\"\n                  currentPlugin.status === 'CONFIGURED' ||\n                    currentPlugin.status === 'DECOMMISSIONED'\n                \"\n                @click=\"regist\"\n                >注册</Button\n              >\n              <Button\n                type=\"error\"\n                v-if=\"currentPlugin.status === 'ONLINE'\"\n                @click=\"removePlugin\"\n                >注销</Button\n              >\n            </Col>\n          </Row>\n        </Form>\n      </div>\n    </Col>\n  </Row>\n</template>\n<script>\nimport AttrSelect from \"../components/attr-select\";\nimport AttrInput from \"../components/attr-input\";\nimport CmdbAttrInput from \"../components/cmdb-attr-input\";\nimport {\n  getAllCITypesByLayerWithAttr,\n  getAllPluginPkgs,\n  getPluginInterfaces,\n  getRefCiTypeFrom,\n  getRefCiTypeTo,\n  getCiTypeAttr,\n  getAllInstancesByPackageId,\n  createPluginInstanceByPackageIdAndHostIp,\n  removePluginInstance,\n  savePluginInstance,\n  queryLog,\n  getPluginInstanceLogDetail,\n  getCiTypeAttrRefAndSelect,\n  getEnumCodesByCategoryId,\n  getAllSystemEnumCodes,\n  decommissionPluginConfig,\n  releasePluginConfig,\n  getAvailableContainerHosts,\n  getAvailablePortByHostIp,\n  preconfigurePluginPackage\n} from \"@/api/server.js\";\n\nimport refPayloadModal from \"./components/ref-payload-modal.js\";\n\nconst innerActions = [\n  {\n    label: \"显示详情\",\n    props: {\n      type: \"info\",\n      size: \"small\"\n    },\n    actionType: \"showLogDetails\"\n  }\n];\n\nexport default {\n  components: {\n    AttrSelect,\n    AttrInput,\n    refPayloadModal,\n    CmdbAttrInput\n  },\n  data() {\n    return {\n      allCodes: [],\n      ciTypesObj: {},\n      ciTypeAttributeObj: {},\n      allAvailiableHosts: [],\n      selectHosts: [],\n      availiableHostsWithPort: [],\n      ciStatus: [],\n      plugins: [],\n      ciTypes: [],\n      pluginInterfaces: [],\n      selectedCiType: \"\",\n      selectedCiTypeIdAndName: {},\n      currentPlugin: {},\n      currentCiTyPeAttr: [],\n      allInstances: [],\n      currentPackageId: 0,\n      currentInstanceId: 0,\n      createIpValue: \"\",\n      form: {},\n      tableData: [],\n      totalTableData: [],\n      innerActions,\n      tableColumns: [\n        {\n          title: \"插件运行实例\",\n          key: \"instance\",\n          inputKey: \"instance\",\n          searchSeqNo: 1,\n          displaySeqNo: 1,\n          component: \"WeSelect\",\n          isMultiple: true,\n          placeholder: \"插件运行实例\",\n          span: 5,\n          width: \"200px\",\n          options: []\n        },\n        {\n          title: \"文件名\",\n          key: \"file_name\",\n          inputKey: \"file_name\",\n          searchSeqNo: 2,\n          displaySeqNo: 2,\n          component: \"Input\",\n          isNotFilterable: true,\n          placeholder: \"文件名\",\n          width: \"200px\"\n        },\n        {\n          title: \"行号\",\n          key: \"line_number\",\n          inputKey: \"line_number\",\n          searchSeqNo: 3,\n          displaySeqNo: 3,\n          component: \"Input\",\n          isNotFilterable: true,\n          placeholder: \"行号\",\n          width: \"100px\"\n        },\n        {\n          title: \"匹配内容\",\n          key: \"log\",\n          inputKey: \"log\",\n          searchSeqNo: 4,\n          displaySeqNo: 4,\n          component: \"Input\",\n          placeholder: \"支持正则表达式\"\n        }\n      ],\n      pagination: {\n        pageSize: 10,\n        currentPage: 1,\n        total: 0\n      },\n      searchFilters: [],\n      logDetailsModalVisible: false,\n      logDetails: \"\",\n      ciRulesFilters: [],\n      ciRulesPayload: [],\n      isLoading: false,\n      defaultCreateParams: \"\"\n    };\n  },\n  watch: {\n    currentPlugin: {\n      handler(val) {},\n      deep: true\n    },\n    selectedCiType: {\n      handler(val) {\n        this.selectCiType({ value: val });\n      },\n      immediate: true\n    }\n  },\n  methods: {\n    async getAllCITypesByLayerWithAttr() {\n      let { status, data, message } = await getAllCITypesByLayerWithAttr([\n        \"notCreated\",\n        \"created\",\n        \"dirty\",\n        \"decommissioned\"\n      ]);\n      if (status === \"OK\") {\n        let ciTypes = {};\n        let ciTypeAttrs = {};\n\n        let tempCITypes = JSON.parse(JSON.stringify(data));\n        tempCITypes.forEach(_ => {\n          _.ciTypes && _.ciTypes.filter(i => i.status !== \"decommissioned\");\n        });\n        this.ciTypes = tempCITypes;\n\n        data.forEach(layer => {\n          if (layer.ciTypes instanceof Array) {\n            layer.ciTypes.forEach(citype => {\n              ciTypes[citype.ciTypeId] = citype;\n              if (citype.attributes instanceof Array) {\n                citype.attributes.forEach(citypeAttr => {\n                  ciTypeAttrs[citypeAttr.ciTypeAttrId] = citypeAttr;\n                });\n              }\n            });\n          }\n        });\n        this.ciTypesObj = ciTypes;\n        this.ciTypeAttributeObj = ciTypeAttrs;\n      }\n    },\n    pageChange(current) {\n      this.pagination.currentPage = current;\n      this.handlePaginationByFE();\n    },\n    pageSizeChange(size) {\n      this.pagination.pageSize = size;\n      this.handlePaginationByFE();\n    },\n    actionFun(type, data) {\n      if (type === \"showLogDetails\") {\n        this.getLogDetail(data);\n      }\n    },\n    getCIRulesPayload(data) {\n      this.ciRulesPayload = [];\n      for (let i in data) {\n        this.ciRulesPayload.push({\n          cmdbAttributeId: i,\n          filteringValues: data[i]\n        });\n      }\n    },\n    async getCiStatus(id) {\n      // getAllSystemEnumCodes\n      const payload = {\n        filters: [{ name: \"cat.catId\", operator: \"eq\", value: id }]\n      };\n      let { data, status, message } = await getAllSystemEnumCodes(payload);\n      if (status === \"OK\") {\n        this.ciStatus = data.contents.map(_ => {\n          return {\n            value: _.codeId,\n            label: _.value || \"\"\n          };\n        });\n      }\n    },\n    async getAllCodes() {\n      // getAllSystemEnumCodes\n      const payload = {\n        filters: [],\n        paging: false\n      };\n      let { data, status, message } = await getAllSystemEnumCodes(payload);\n      if (status === \"OK\") {\n        this.allCodes = data.contents\n          .map(_ => {\n            return {\n              codeId: _.codeId,\n              value: _.codeId,\n              label: _.value || \"\",\n              catName: _.cat.catName\n            };\n          })\n          .filter(i => i.catName != \"tab_query_of_architecture_design\")\n          .filter(j => j.catName != \"tab_query_of_deploy_design\");\n      }\n    },\n    async getLogDetail(logData) {\n      const payload = {\n        inputs: [\n          {\n            file_name: logData.file_name,\n            line_number: logData.line_number,\n            relate_line_count: 10\n          }\n        ]\n      };\n\n      let { data, status, message } = await getPluginInstanceLogDetail(\n        logData.instanceId,\n        payload\n      );\n      if (status === \"OK\") {\n        this.logDetailsModalVisible = true;\n        let re = new RegExp(this.searchFilters[1].value, \"g\");\n        this.logDetails = data.outputs[0].logs\n          .toString()\n          .replace(\n            re,\n            `<span style=\"background-color: #ff0\">${\n              this.searchFilters[1].value\n            }</span>`\n          );\n      }\n    },\n    handleSubmit(data) {\n      this.searchFilters = data;\n      this.getTableData();\n    },\n    async regist() {\n      const saveRes = await this.pluginSave();\n      if (saveRes.status === \"OK\") {\n        let { status, data, message } = await releasePluginConfig(\n          this.currentPlugin.id\n        );\n        if (status === \"OK\") {\n          this.$Notice.success({\n            title: \"Success\",\n            desc: message\n          });\n          this.queryPluginAffterUpdate();\n        }\n      }\n    },\n    async pluginSave() {\n      let payload = [];\n      payload = this.pluginInterfaces.map(i => {\n        return {\n          interfaceFilterStatus: i.filterStatus\n            ? i.filterStatus.toString()\n            : \"\",\n          interfaceResultStatus: i.resultStatus\n            ? i.resultStatus.toString()\n            : \"\",\n          inputParameterMappings: i.inputParameters.map(inp => {\n            const params = inp.cmdbAttr.cmdbColumnCriteria;\n            const routine = params\n              ? params.routine.length === 1\n                ? params.routine\n                : params.routine.slice(0, -1)\n              : null;\n            return {\n              routine: routine,\n              mappingType: inp.cmdbAttr.mappingType,\n              cmdbEnumCode: inp.cmdbAttr.cmdbEnumCode,\n              cmdbAttributeId: params ? params.attribute.attrId : null,\n              cmdbCiTypeId:\n                routine &&\n                routine[routine.length - 1] &&\n                routine[routine.length - 1].ciTypeId,\n              cmdbColumnSource: inp.cmdbAttr.cmdbColumnSource\n                ? JSON.stringify(inp.cmdbAttr.cmdbColumnSource)\n                : null,\n              parameterId: inp.id\n            };\n          }),\n          interfaceId: i.id.toString(),\n          interfaceName: i.name,\n          outputParameterMappings: i.outputParameters.map(out => {\n            return {\n              cmdbColumnSource: out.cmdbColumnSource,\n              parameterId: out.id\n            };\n          })\n        };\n      });\n      const requestData = {\n        cmdbCiTypeId: this.selectedCiTypeIdAndName.value,\n        cmdbCiTypeName: this.selectedCiTypeIdAndName.label,\n        configId: this.currentPlugin.id,\n        pluginRegisteringModels: {\n          filteringRuleConfigs: this.ciRulesPayload,\n          interfaceConfigs: payload\n        }\n      };\n      let { status, data, message } = await savePluginInstance(requestData);\n      if (status === \"OK\") {\n        this.$Notice.success({\n          title: \"Success\",\n          desc: message\n        });\n        this.queryPluginAffterUpdate();\n      }\n      return { status, data, message };\n    },\n    async removePlugin() {\n      let { status, data, message } = await decommissionPluginConfig(\n        this.currentPlugin.id\n      );\n      if (status === \"OK\") {\n        this.$Notice.success({\n          title: \"Success\",\n          desc: message\n        });\n        this.queryPluginAffterUpdate();\n      }\n    },\n    async queryPluginAffterUpdate() {\n      let { status, data, message } = await getAllPluginPkgs();\n      if (status === \"OK\") {\n        this.plugins = data.map(_ => {\n          return {\n            ..._,\n            title: `${_.name}[${_.version}]`,\n            id: _.id,\n            expand: false,\n            checked: false,\n            children: _.pluginConfigs.map(i => {\n              return {\n                ...i,\n                title: i.name,\n                id: i.id,\n                expand: true,\n                checked: false\n              };\n            })\n          };\n        });\n        this.plugins.forEach(_ => {\n          const found = _.pluginConfigs.find(\n            p => p.id === this.currentPlugin.id\n          );\n          if (found) {\n            this.currentPlugin = found;\n            return;\n          }\n        });\n      }\n    },\n    async selectCiType(c) {\n      if (c && c.value) {\n        this.pluginInterfaces.forEach(_ => {\n          _.inputParameters.forEach(inparams => {\n            this.$set(inparams, \"cmdbAttr\", inparams);\n          });\n          // _.outputParameters.forEach(outparams => {\n          //   this.$set(outparams, \"cmdbColumnSource\", _.cmdbColumnSource||'');\n          // });\n        });\n        this.selectedCiTypeIdAndName = c;\n        const ciTypeAttr = await getCiTypeAttr(c.value);\n        if (ciTypeAttr.status === \"OK\") {\n          this.currentCiTyPeAttr = ciTypeAttr.data;\n          const statusId = ciTypeAttr.data.find(\n            attr => attr.propertyName === \"state\"\n          ).referenceId;\n          this.getCiStatus(statusId);\n        }\n        this.setCiRulesFilters(c.value);\n      }\n    },\n    async setCiRulesFilters(id) {\n      let getRefAndSelectData = refAndSelectData => {\n        this.ciRulesFilters = [];\n        refAndSelectData.forEach(async (item, index) => {\n          if (item.inputType === \"select\") {\n            const { status, message, data } = await getEnumCodesByCategoryId(\n              0,\n              item.referenceId\n            );\n\n            item[\"options\"] = data\n              .filter(j => j.status === \"active\")\n              .map(i => {\n                return {\n                  label: i.code,\n                  value: i.codeId\n                };\n              });\n\n            this.ciRulesFilters.push(item);\n          } else {\n            this.ciRulesFilters.push(item);\n          }\n        });\n      };\n\n      let refAndSelectRes = await getCiTypeAttrRefAndSelect(id);\n      if (refAndSelectRes.status === \"OK\") {\n        getRefAndSelectData(refAndSelectRes.data);\n      }\n    },\n    async selectPlugin(plugins, currentPlugin) {\n      this.selectedCiType = currentPlugin.cmdbCiTypeId || \"\";\n      this.currentPlugin = currentPlugin;\n      let { status, data, message } = await getPluginInterfaces(\n        currentPlugin.id\n      );\n      if (status === \"OK\") {\n        this.pluginInterfaces = data.map(d => {\n          return {\n            ...d,\n            inputParameters: d.inputParameters.sort((a, b) => a.id - b.id),\n            outputParameters: d.outputParameters.sort((a, b) => a.id - b.id)\n          };\n        });\n        this.defaultCreateParams = currentPlugin.containerStartParam;\n      }\n      const ciTypeId = currentPlugin.cmdbCiTypeId;\n      if (ciTypeId) {\n        this.setCiRulesFilters(ciTypeId);\n        this.ciTypes.forEach(_ => {\n          const found =\n            _.ciTypes && _.ciTypes.find(c => c.ciTypeId === ciTypeId);\n          if (found) {\n            this.selectedCiTypeIdAndName = {\n              value: found.ciTypeId,\n              label: found.name\n            };\n          }\n        });\n        const ciTypeAttr = await getCiTypeAttr(ciTypeId);\n        this.currentCiTyPeAttr = ciTypeAttr.data;\n      }\n\n      if (currentPlugin.pluginConfigs) {\n        this.selectHosts = [];\n        this.availiableHostsWithPort = [];\n        this.currentPackageId = currentPlugin.id;\n        this.getAllInstancesByPackageId(this.currentPackageId);\n      }\n      this.getAvailableContainerHosts();\n      this.resetLogTable();\n    },\n    resetLogTable() {\n      this.tableData = [];\n      this.totalTableData = [];\n      this.$refs.table && this.$refs.table.reset();\n    },\n    async getAvailableContainerHosts() {\n      const { data, status, message } = await getAvailableContainerHosts();\n      if (status === \"OK\") {\n        this.allAvailiableHosts = data;\n      }\n    },\n    selectHost(v) {\n      this.selectHosts = v;\n    },\n    getAvailablePortByHostIp() {\n      this.availiableHostsWithPort = [];\n      this.selectHosts.forEach(async _ => {\n        const { data, status, message } = await getAvailablePortByHostIp(_);\n        if (status === \"OK\") {\n          this.availiableHostsWithPort.push({\n            ip: _,\n            port: data,\n            createParams: this.defaultCreateParams\n          });\n        }\n      });\n    },\n    async createPluginInstanceByPackageIdAndHostIp(ip, port, createParams) {\n      let errorFlag = false;\n      if (createParams.indexOf(\"{{\") >= 0 || createParams.indexOf(\"}}\") >= 0) {\n        this.$Notice.warning({\n          title: \"Warning\",\n          desc: \"请替换启动参数中的差异化参数（例如：{{parameter}}）\"\n        });\n        errorFlag = true;\n      }\n      if (errorFlag) return;\n      this.isLoading = true;\n      const payload = {\n        additionalCreateContainerParameters: createParams\n      };\n      const {\n        data,\n        status,\n        message\n      } = await createPluginInstanceByPackageIdAndHostIp(\n        this.currentPlugin.id,\n        ip,\n        port,\n        payload\n      );\n      if (status === \"OK\") {\n        this.getAllInstancesByPackageId(this.currentPackageId);\n      }\n      this.isLoading = false;\n    },\n    async getAllInstancesByPackageId(id) {\n      this.isLoading = true;\n      let { data, status, message } = await getAllInstancesByPackageId(id);\n      if (status === \"OK\") {\n        this.allInstances = data.map(_ => {\n          if (_.status !== \"REMOVED\") {\n            return {\n              id: _.id,\n              hostIp: _.host,\n              port: _.port,\n              displayLabel: _.host + \":\" + _.port\n            };\n          }\n        });\n        this.getHostsForTableFilter();\n      }\n      this.isLoading = false;\n    },\n    getHostsForTableFilter() {\n      this.tableColumns[0].options = this.allInstances.map(_ => {\n        return {\n          label: _.hostIp + \":\" + _.port,\n          value: _.id\n        };\n      });\n    },\n    async removePluginInstance(instanceId) {\n      let { data, status, message } = await removePluginInstance(instanceId);\n      if (status === \"OK\") {\n        this.$Notice.success({\n          title: \"Success\",\n          desc: message\n        });\n        this.getAllInstancesByPackageId(this.currentPackageId);\n      }\n    },\n    async getTableData() {\n      if (this.searchFilters.length < 2) return;\n      const payload = {\n        instanceIds: this.searchFilters[0].value,\n        pluginRequest: {\n          inputs: [\n            {\n              key_word: this.searchFilters[1].value\n            }\n          ]\n        }\n      };\n      let { status, data, message } = await queryLog(payload);\n      if (status === \"OK\") {\n        for (let i in data) {\n          let arr = [];\n          this.totalTableData = arr.concat(\n            data[i].outputs.map(_ => {\n              return {\n                instance: this.allInstances.find(j => j.id === +i).displayLabel,\n                instanceId: i,\n                ..._\n              };\n            })\n          );\n        }\n\n        this.handlePaginationByFE();\n      }\n    },\n    handlePaginationByFE() {\n      this.pagination.total = this.totalTableData.length;\n      let temp = Array.from(this.totalTableData);\n      this.tableData = temp.splice(\n        (this.pagination.currentPage - 1) * this.pagination.pageSize,\n        this.pagination.pageSize\n      );\n    },\n    async getAllPluginPkgs() {\n      let { status, data, message } = await getAllPluginPkgs();\n      if (status === \"OK\") {\n        this.plugins = data.map(_ => {\n          return {\n            ..._,\n            title: `${_.name}[${_.version}]`,\n            id: _.id,\n            expand: false,\n            checked: false,\n            children: _.pluginConfigs.map(i => {\n              return {\n                ...i,\n                title: i.name,\n                id: i.id,\n                expand: true,\n                checked: false\n              };\n            })\n          };\n        });\n      }\n    },\n\n    async onSuccess(response, file, filelist) {\n      this.$Notice.success({\n        title: \"Success\",\n        desc: response.message || \"\"\n      });\n      if (response.status === \"OK\") {\n        const { message, status, data } = await preconfigurePluginPackage(\n          response.data.id\n        );\n        this.getAllPluginPkgs();\n      }\n    },\n    onError(error, file, filelist) {\n      this.$Notice.error({\n        title: \"Error\",\n        desc: file.message || \"\"\n      });\n    }\n  },\n\n  created() {\n    this.getAllCITypesByLayerWithAttr();\n    this.getAllPluginPkgs();\n  },\n  mounted() {\n    this.getAllCodes();\n  },\n  computed: {\n    setUploadActionHeader() {\n      let uploadToken = document.cookie\n        .split(\";\")\n        .find(i => i.indexOf(\"XSRF-TOKEN\") !== -1);\n      return {\n        \"X-XSRF-TOKEN\": uploadToken && uploadToken.split(\"=\")[1]\n      };\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.plugins-tree-container {\n  margin-top: 30px;\n}\n\n.instances-container {\n  height: 300px;\n  .instance-query-input {\n    width: 200px;\n    margin-right: 20px;\n  }\n  .instance-item-container {\n    line-height: 30px;\n    overflow-y: auto;\n\n    .instance-item {\n      width: 220px;\n      display: inline-block;\n    }\n  }\n}\n\n.result-container {\n  max-height: 700px;\n  overflow-y: auto;\n}\n.ivu-form-item {\n  margin-bottom: 10px;\n  margin-top: -6px;\n}\n</style>\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Row',{staticStyle:{\"padding\":\"20px\"}},[(_vm.isLoading)?_c('Spin',{attrs:{\"size\":\"large\",\"fix\":\"\"}},[_c('Icon',{staticClass:\"spin-icon-load\",attrs:{\"type\":\"ios-loading\",\"size\":\"44\"}}),_vm._v(\" \"),_c('div',[_vm._v(\"加载中...\")])],1):_vm._e(),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"6\"}},[_c('Row',[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.$t(\"upload_plugin_pkg_title\")))]),_vm._v(\" \"),_c('Upload',{attrs:{\"show-upload-list\":\"\",\"accept\":\".zip\",\"name\":\"zip-file\",\"on-success\":_vm.onSuccess,\"on-error\":_vm.onError,\"action\":\"/plugin/upload\",\"headers\":_vm.setUploadActionHeader}},[_c('Button',{attrs:{\"icon\":\"ios-cloud-upload-outline\"}},[_vm._v(\"\\n            \"+_vm._s(_vm.$t(\"upload_plugin_btn\"))+\"\\n          \")])],1)],1)],1),_vm._v(\" \"),_c('Row',{staticClass:\"plugins-tree-container\"},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(_vm._s(_vm.$t(\"plugins_list\")))]),_vm._v(\" \"),_c('Tree',{attrs:{\"data\":_vm.plugins},on:{\"on-select-change\":_vm.selectPlugin}})],1)],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"17\",\"offset\":\"1\"}},[(Object.keys(_vm.currentPlugin).length > 0)?_c('div',[(_vm.currentPlugin.children)?_c('div',[_c('Row',{staticClass:\"instances-container\"},[_c('Card',[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"实例\")]),_vm._v(\" \"),_c('Row',[_c('Select',{staticStyle:{\"width\":\"40%\"},attrs:{\"multiple\":\"\",\"max-tag-count\":4},on:{\"on-change\":_vm.selectHost},model:{value:(_vm.selectHosts),callback:function ($$v) {_vm.selectHosts=$$v},expression:\"selectHosts\"}},_vm._l((_vm.allAvailiableHosts),function(item){return _c('Option',{key:item,attrs:{\"value\":item}},[_vm._v(_vm._s(item))])}),1),_vm._v(\" \"),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.getAvailablePortByHostIp}},[_vm._v(\"端口预览\")]),_vm._v(\" \"),(_vm.availiableHostsWithPort.length > 0)?_c('div',[_c('p',{staticStyle:{\"margin-top\":\"20px\"}},[_vm._v(\"可用端口:\")]),_vm._v(\" \"),_vm._l((_vm.availiableHostsWithPort),function(item){return _c('div',{key:item.ip + item.port},[_c('div',{staticClass:\"instance-item-container\",staticStyle:{\"border-bottom\":\"1px solid gray\",\"padding\":\"10px 0\"}},[_c('div',{staticClass:\"instance-item\"},[_vm._v(\"\\n                      \"+_vm._s(item.ip + \":\" + item.port)+\"\\n                    \")]),_vm._v(\" \"),_c('span',[_vm._v(\"启动参数:\")]),_vm._v(\" \"),_c('Input',{staticStyle:{\"width\":\"50%\"},attrs:{\"type\":\"textarea\",\"autosize\":true},model:{value:(item.createParams),callback:function ($$v) {_vm.$set(item, \"createParams\", $$v)},expression:\"item.createParams\"}}),_vm._v(\" \"),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":function($event){return _vm.createPluginInstanceByPackageIdAndHostIp(\n                          item.ip,\n                          item.port,\n                          item.createParams\n                        )}}},[_vm._v(_vm._s(_vm.$t(\"create\")))])],1)])})],2):_vm._e()],1),_vm._v(\" \"),_c('Row',[_c('p',{staticStyle:{\"margin-top\":\"20px\"}},[_vm._v(_vm._s(_vm.$t(\"running_node\"))+\":\")]),_vm._v(\" \"),(_vm.allInstances.length === 0)?_c('div',[_vm._v(\"暂无运行节点\")]):_c('div',_vm._l((_vm.allInstances),function(item){return _c('div',{key:item.id},[_c('div',{staticClass:\"instance-item-container\"},[_c('div',{staticClass:\"instance-item\"},[_vm._v(_vm._s(item.displayLabel))]),_vm._v(\" \"),_c('Button',{attrs:{\"size\":\"small\",\"type\":\"error\"},on:{\"click\":function($event){return _vm.removePluginInstance(item.id)}}},[_vm._v(_vm._s(_vm.$t(\"ternmiante\")))])],1)])}),0)])],1),_vm._v(\" \"),_c('Card',{staticStyle:{\"margin-top\":\"20px\"}},[_c('p',{attrs:{\"slot\":\"title\"},slot:\"title\"},[_vm._v(\"日志查询\")]),_vm._v(\" \"),_c('div',{staticStyle:{\"padding\":\"0 0 50px 0\"}},[_c('WeTable',{ref:\"table\",attrs:{\"tableData\":_vm.tableData,\"tableInnerActions\":_vm.innerActions,\"tableColumns\":_vm.tableColumns,\"pagination\":_vm.pagination,\"showCheckbox\":false,\"tableHeight\":\"650\"},on:{\"actionFun\":_vm.actionFun,\"handleSubmit\":_vm.handleSubmit,\"pageChange\":_vm.pageChange,\"pageSizeChange\":_vm.pageSizeChange}})],1),_vm._v(\" \"),_c('Modal',{attrs:{\"title\":\"日志详情\",\"footer-hide\":\"\",\"width\":\"70\"},model:{value:(_vm.logDetailsModalVisible),callback:function ($$v) {_vm.logDetailsModalVisible=$$v},expression:\"logDetailsModalVisible\"}},[_c('div',{staticStyle:{\"white-space\":\"pre-wrap\"},attrs:{\"lang\":\"json\"},domProps:{\"innerHTML\":_vm._s(_vm.logDetails)}})])],1)],1)],1):_c('Form',{attrs:{\"model\":_vm.form}},[_c('Row',[_c('Col',{attrs:{\"span\":\"6\",\"offset\":\"0\"}},[_c('FormItem',{attrs:{\"label-width\":50,\"label\":\"Plugin\"}},[_c('Input',{attrs:{\"disabled\":\"\"},model:{value:(_vm.currentPlugin.name),callback:function ($$v) {_vm.$set(_vm.currentPlugin, \"name\", $$v)},expression:\"currentPlugin.name\"}})],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"6\",\"offset\":\"1\"}},[_c('FormItem',{attrs:{\"label-width\":100,\"label\":\"CI Type\"}},[_c('Select',{attrs:{\"label-in-value\":\"\"},on:{\"on-change\":_vm.selectCiType},model:{value:(_vm.selectedCiType),callback:function ($$v) {_vm.selectedCiType=$$v},expression:\"selectedCiType\"}},_vm._l((_vm.ciTypes),function(ci){return _c('OptionGroup',{key:ci.code,attrs:{\"label\":ci.value || '-'}},_vm._l((ci.ciTypes),function(item){return _c('Option',{key:item.ciTypeId,attrs:{\"value\":item.ciTypeId || ''}},[_vm._v(_vm._s(item.name))])}),1)}),1)],1)],1),_vm._v(\" \"),(_vm.selectedCiType !== '')?_c('Col',{staticStyle:{\"margin-top\":\"-5px\"},attrs:{\"span\":\"6\",\"offset\":\"1\"}},[_c('refPayloadModal',{attrs:{\"ciRulesFilters\":_vm.ciRulesFilters},on:{\"handleSubmit\":_vm.getCIRulesPayload}})],1):_vm._e()],1),_vm._v(\" \"),_c('hr'),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin-bottom\":\"10px\",\"margin-top\":\"10px\"}},[_c('Col',{attrs:{\"span\":\"3\"}},[_c('span',[_vm._v(\"操作\")])]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"2\"}},[_c('span',[_vm._v(\"参数类型\")])]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"3\"}},[_c('span',[_vm._v(\"数据状态\")])]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"3\"}},[_c('span',[_vm._v(\"参数名\")])]),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"5\",\"offset\":\"1\"}},[_c('span',[_vm._v(\"CMDB属性\")])])],1),_vm._v(\" \"),_vm._l((_vm.pluginInterfaces),function(interfaces,index){return _c('Row',{key:interfaces.id,staticStyle:{\"margin-top\":\"20px\",\"border-bottom\":\"1px solid #2c3e50\"}},[_c('Col',{attrs:{\"span\":\"3\"}},[_c('Tooltip',{attrs:{\"content\":interfaces.name}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"max-width\":\"95%\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}},[_vm._v(\"\\n                \"+_vm._s(interfaces.name)+\"\\n              \")])])],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"21\"}},[_c('Row',[_c('Col',{attrs:{\"span\":\"2\"}},[_c('FormItem',{attrs:{\"label-width\":0}},[_c('span',[_vm._v(\"输入参数\")])])],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"3\"}},[_c('FormItem',{attrs:{\"label-width\":0}},[_c('Select',{attrs:{\"clearable\":\"\"},model:{value:(interfaces.filterStatus),callback:function ($$v) {_vm.$set(interfaces, \"filterStatus\", $$v)},expression:\"interfaces.filterStatus\"}},_vm._l((_vm.ciStatus),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value.toString()}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"17\",\"offset\":\"1\"}},_vm._l((interfaces.inputParameters),function(param){return _c('Row',{key:param.id},[_c('Col',{attrs:{\"span\":\"5\"}},[_c('FormItem',{attrs:{\"label-width\":0}},[_c('Tooltip',{attrs:{\"content\":param.name}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}},[_vm._v(\"\\n                          \"+_vm._s(param.name)+\"\\n                        \")])])],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"18\"}},[_c('FormItem',{attrs:{\"label-width\":0}},[_c('CmdbAttrInput',{attrs:{\"allCodes\":_vm.allCodes,\"allCiTypes\":_vm.ciTypes,\"paramData\":param,\"rootCiType\":_vm.selectedCiType,\"ciTypesObj\":_vm.ciTypesObj,\"ciTypeAttributeObj\":_vm.ciTypeAttributeObj},model:{value:(param.cmdbAttr),callback:function ($$v) {_vm.$set(param, \"cmdbAttr\", $$v)},expression:\"param.cmdbAttr\"}})],1)],1)],1)}),1)],1),_vm._v(\" \"),_c('Row',[_c('Col',{attrs:{\"span\":\"2\"}},[_c('FormItem',{attrs:{\"label-width\":0}},[_c('span',[_vm._v(\"输出参数\")])])],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"3\"}},[_c('FormItem',{attrs:{\"label-width\":0}},[_c('Select',{attrs:{\"clearable\":\"\"},model:{value:(interfaces.resultStatus),callback:function ($$v) {_vm.$set(interfaces, \"resultStatus\", $$v)},expression:\"interfaces.resultStatus\"}},_vm._l((_vm.ciStatus),function(item){return _c('Option',{key:item.value,attrs:{\"value\":item.value.toString()}},[_vm._v(_vm._s(item.label))])}),1)],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"17\",\"offset\":\"1\"}},_vm._l((interfaces.outputParameters),function(outPut){return _c('Row',{key:outPut.id + 1000},[_c('Col',{attrs:{\"span\":\"5\"}},[_c('FormItem',{attrs:{\"label-width\":0}},[_c('Tooltip',{attrs:{\"content\":outPut.name}},[_c('span',{staticStyle:{\"display\":\"inline-block\",\"white-space\":\"nowrap\",\"overflow\":\"hidden\",\"text-overflow\":\"ellipsis\"}},[_vm._v(\"\\n                          \"+_vm._s(outPut.name)+\"\\n                        \")])])],1)],1),_vm._v(\" \"),_c('Col',{attrs:{\"span\":\"18\"}},[_c('FormItem',{attrs:{\"label-width\":0}},[_c('Select',{staticStyle:{\"width\":\"150px\"},attrs:{\"placeholder\":\"请选择\",\"clearable\":\"\"},model:{value:(outPut.cmdbColumnSource),callback:function ($$v) {_vm.$set(outPut, \"cmdbColumnSource\", $$v)},expression:\"outPut.cmdbColumnSource\"}},_vm._l((_vm.currentCiTyPeAttr),function(attr){return _c('Option',{key:attr.propertyName,attrs:{\"value\":attr.propertyName,\"label\":attr.name}})}),1)],1)],1)],1)}),1)],1)],1)],1)}),_vm._v(\" \"),_c('Row',{staticStyle:{\"margin\":\"20px auto\"}},[_c('Col',{attrs:{\"span\":\"5\",\"offset\":\"10\"}},[(\n                _vm.currentPlugin.status === 'NOT_CONFIGURED' ||\n                  _vm.currentPlugin.status === 'CONFIGURED' ||\n                  _vm.currentPlugin.status === 'DECOMMISSIONED'\n              )?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.pluginSave}},[_vm._v(\"保存\")]):_vm._e(),_vm._v(\" \"),(\n                _vm.currentPlugin.status === 'CONFIGURED' ||\n                  _vm.currentPlugin.status === 'DECOMMISSIONED'\n              )?_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.regist}},[_vm._v(\"注册\")]):_vm._e(),_vm._v(\" \"),(_vm.currentPlugin.status === 'ONLINE')?_c('Button',{attrs:{\"type\":\"error\"},on:{\"click\":_vm.removePlugin}},[_vm._v(\"注销\")]):_vm._e()],1)],1)],2)],1):_vm._e()])],1)}\nvar staticRenderFns = []\nexport { render, staticRenderFns }","function injectStyle (context) {\n  require(\"!!vue-loader/node_modules/vue-style-loader!css-loader?minimize!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-19a3465b\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!sass-loader!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./plugin-management.vue\")\n}\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./plugin-management.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./plugin-management.vue\"\n/* template */\nimport {render as __vue_render__, staticRenderFns as __vue_static_render_fns__} from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-19a3465b\\\",\\\"hasScoped\\\":true,\\\"optionsId\\\":\\\"0\\\",\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./plugin-management.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-19a3465b\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nimport normalizeComponent from \"!../../../node_modules/vue-loader/lib/runtime/component-normalizer\"\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_render__,\n  __vue_static_render_fns__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n","var global = require('./_global');\nvar inheritIfRequired = require('./_inherit-if-required');\nvar dP = require('./_object-dp').f;\nvar gOPN = require('./_object-gopn').f;\nvar isRegExp = require('./_is-regexp');\nvar $flags = require('./_flags');\nvar $RegExp = global.RegExp;\nvar Base = $RegExp;\nvar proto = $RegExp.prototype;\nvar re1 = /a/g;\nvar re2 = /a/g;\n// \"new\" creates a new object, old webkit buggy here\nvar CORRECT_NEW = new $RegExp(re1) !== re1;\n\nif (require('./_descriptors') && (!CORRECT_NEW || require('./_fails')(function () {\n  re2[require('./_wks')('match')] = false;\n  // RegExp constructor can alter flags and IsRegExp works correct with @@match\n  return $RegExp(re1) != re1 || $RegExp(re2) == re2 || $RegExp(re1, 'i') != '/a/i';\n}))) {\n  $RegExp = function RegExp(p, f) {\n    var tiRE = this instanceof $RegExp;\n    var piRE = isRegExp(p);\n    var fiU = f === undefined;\n    return !tiRE && piRE && p.constructor === $RegExp && fiU ? p\n      : inheritIfRequired(CORRECT_NEW\n        ? new Base(piRE && !fiU ? p.source : p, f)\n        : Base((piRE = p instanceof $RegExp) ? p.source : p, piRE && fiU ? $flags.call(p) : f)\n      , tiRE ? this : proto, $RegExp);\n  };\n  var proxy = function (key) {\n    key in $RegExp || dP($RegExp, key, {\n      configurable: true,\n      get: function () { return Base[key]; },\n      set: function (it) { Base[key] = it; }\n    });\n  };\n  for (var keys = gOPN(Base), i = 0; keys.length > i;) proxy(keys[i++]);\n  proto.constructor = $RegExp;\n  $RegExp.prototype = proto;\n  require('./_redefine')(global, 'RegExp', $RegExp);\n}\n\nrequire('./_set-species')('RegExp');\n","var isObject = require('./_is-object');\nvar setPrototypeOf = require('./_set-proto').set;\nmodule.exports = function (that, target, C) {\n  var S = target.constructor;\n  var P;\n  if (S !== C && typeof S == 'function' && (P = S.prototype) !== C.prototype && isObject(P) && setPrototypeOf) {\n    setPrototypeOf(that, P);\n  } return that;\n};\n","'use strict';\nvar $at = require('./_string-at')(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\nrequire('./_iter-define')(String, 'String', function (iterated) {\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function () {\n  var O = this._t;\n  var index = this._i;\n  var point;\n  if (index >= O.length) return { value: undefined, done: true };\n  point = $at(O, index);\n  this._i += point.length;\n  return { value: point, done: false };\n});\n","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".container .ivu-select-selection{border:none;-webkit-box-shadow:0 0 0 0;box-shadow:0 0 0 0}\", \"\"]);\n\n// exports\n","// Works with __proto__ only. Old v8 can't work with null proto objects.\n/* eslint-disable no-proto */\nvar isObject = require('./_is-object');\nvar anObject = require('./_an-object');\nvar check = function (O, proto) {\n  anObject(O);\n  if (!isObject(proto) && proto !== null) throw TypeError(proto + \": can't set as prototype!\");\n};\nmodule.exports = {\n  set: Object.setPrototypeOf || ('__proto__' in {} ? // eslint-disable-line\n    function (test, buggy, set) {\n      try {\n        set = require('./_ctx')(Function.call, require('./_object-gopd').f(Object.prototype, '__proto__').set, 2);\n        set(test, []);\n        buggy = !(test instanceof Array);\n      } catch (e) { buggy = true; }\n      return function setPrototypeOf(O, proto) {\n        check(O, proto);\n        if (buggy) O.__proto__ = proto;\n        else set(O, proto);\n        return O;\n      };\n    }({}, false) : undefined),\n  check: check\n};\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"scoped\\\":false,\\\"sourceMap\\\":false}!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./attr-select.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-loader/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"a6947678\", content, true, {});","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")(false);\n// imports\n\n\n// module\nexports.push([module.id, \".plugins-tree-container[data-v-19a3465b]{margin-top:30px}.instances-container[data-v-19a3465b]{height:300px}.instances-container .instance-query-input[data-v-19a3465b]{width:200px;margin-right:20px}.instances-container .instance-item-container[data-v-19a3465b]{line-height:30px;overflow-y:auto}.instances-container .instance-item-container .instance-item[data-v-19a3465b]{width:220px;display:inline-block}.result-container[data-v-19a3465b]{max-height:700px;overflow-y:auto}.ivu-form-item[data-v-19a3465b]{margin-bottom:10px;margin-top:-6px}\", \"\"]);\n\n// exports\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?minimize!../../../node_modules/vue-loader/lib/style-compiler/index.js?{\\\"optionsId\\\":\\\"0\\\",\\\"vue\\\":true,\\\"id\\\":\\\"data-v-19a3465b\\\",\\\"scoped\\\":true,\\\"sourceMap\\\":false}!../../../node_modules/sass-loader/lib/loader.js!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./plugin-management.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../../node_modules/vue-loader/node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"26849b8e\", content, true, {});"],"sourceRoot":""}